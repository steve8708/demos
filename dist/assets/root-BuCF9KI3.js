import{R as t,r,bl as rt,o as $,V as st,X as it,ay as at,aE as j,aR as H,az as P,p as ct,Z as pt,bm as lt,O as y,_ as ut,c as mt,j as dt}from"./index-D7GDf1UU.js";import{I as ft}from"./internal-D9lY1pv7.js";import{g as R,h as _t}from"./layout-BM1_wx5v.js";import{overlayI18nStrings as ht}from"./i18n-BwPcVIrv.js";import{u as vt}from"./router-wJWi5KBX.js";import{useStore as wt}from"./store-p57BmRpl.js";import"./all.en-CcUG2Ztv.js";import"./internal-BD_qYRjX.js";import"./is-development-CxJkH8d1.js";import"./common-components-B8mKgWVL.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./breadcrumbs-qiXrpGnq.js";import"./index-CqlHI4IQ.js";import"./external-link-71GuX4w8.js";import"./external-link-group-CGOo0M8r.js";import"./index-fxqSwigp.js";import"./full-page-header-BXIASHo3.js";import"./info-link-BUuWadNp.js";import"./help-panel--kfHykU3.js";import"./navigation-BIDWPOVH.js";import"./index-BlYptjXd.js";import"./notifications-CbwoBAyE.js";import"./disclaimer-flashbar-item-BebvEA8G.js";import"./help-panel-content-D8Xbu2J1.js";import"./index-rKPC9sZl.js";import"./index-Di_D4sU7.js";import"./internal-THOVUYuj.js";import"./index-CzmrE8hw.js";import"./internal-DCHtC1V6.js";import"./index-Bv27BCWZ.js";import"./index-BmhwJCRy.js";import"./index-C7dlS6m8.js";import"./internal-Basygvw4.js";import"./radio-group-BfVKeN4q.js";import"./index-D5tI8lFG.js";import"./internal-DQx_AHCB.js";import"./index-DOUzosrE.js";import"./index-C8soZkHE.js";import"./use-select-BZucm8VV.js";import"./index-CrIdmadX.js";import"./index-D013joPb.js";import"./internal-DSVXbpju.js";import"./transcription-job-details-CS87yzeh.js";import"./index-B_G3Jq6_.js";import"./internal-CcQJaSSR.js";import"./index-i3Yvvd6o.js";import"./tutorial-data-lQe6lxQD.js";import"./transcription-job-list-D1MRu0LO.js";import"./index-3VlHrS2P.js";import"./collection-preferences-metadata-context-KilIyILW.js";import"./internal-B6UJh-mn.js";const c={arrow:"awsui_arrow_1hpp3_rgczf_193","arrow-outer":"awsui_arrow-outer_1hpp3_rgczf_197","arrow-inner":"awsui_arrow-inner_1hpp3_rgczf_197","arrow-position-right-top":"awsui_arrow-position-right-top_1hpp3_rgczf_239","arrow-position-right-bottom":"awsui_arrow-position-right-bottom_1hpp3_rgczf_239","arrow-position-left-top":"awsui_arrow-position-left-top_1hpp3_rgczf_242","arrow-position-left-bottom":"awsui_arrow-position-left-bottom_1hpp3_rgczf_242","arrow-position-top-center":"awsui_arrow-position-top-center_1hpp3_rgczf_245","arrow-position-top-responsive":"awsui_arrow-position-top-responsive_1hpp3_rgczf_245","arrow-position-bottom-center":"awsui_arrow-position-bottom-center_1hpp3_rgczf_248","arrow-position-bottom-responsive":"awsui_arrow-position-bottom-responsive_1hpp3_rgczf_248",annotation:"awsui_annotation_1hpp3_rgczf_252","next-button":"awsui_next-button_1hpp3_rgczf_253","previous-button":"awsui_previous-button_1hpp3_rgczf_254","finish-button":"awsui_finish-button_1hpp3_rgczf_255",header:"awsui_header_1hpp3_rgczf_256","step-counter-content":"awsui_step-counter-content_1hpp3_rgczf_257",content:"awsui_content_1hpp3_rgczf_258",description:"awsui_description_1hpp3_rgczf_262",actionBar:"awsui_actionBar_1hpp3_rgczf_267",stepCounter:"awsui_stepCounter_1hpp3_rgczf_274",divider:"awsui_divider_1hpp3_rgczf_278",hotspot:"awsui_hotspot_1hpp3_rgczf_282",icon:"awsui_icon_1hpp3_rgczf_352"},bt=({open:o})=>o?t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",focusable:"false","aria-hidden":"true",className:c.icon},t.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},t.createElement("circle",{cx:"7",cy:"7",r:"7",strokeWidth:"2"}),t.createElement("path",{strokeLinecap:"square",strokeWidth:"2.2",d:"M2.5,-1 L2.5,3",transform:"rotate(90 1.75 6.25)"}))):t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",focusable:"false","aria-hidden":"true",className:c.icon},t.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},t.createElement("circle",{cx:"7",cy:"7",r:"7",strokeWidth:"2"}),t.createElement("g",{strokeLinecap:"square",strokeWidth:"2.2",transform:"translate(4.5 5)"},t.createElement("path",{d:"M2.5,0 L2.5,4",transform:"rotate(90 2.5 2)"}),t.createElement("path",{d:"M2.5,0 L2.5,4"})))),J=t.forwardRef(function({open:m,onClick:n,i18nStrings:s,taskLocalStepIndex:i,totalLocalSteps:d},a){const _=r.useCallback(f=>{f.preventDefault(),n()},[n]);return t.createElement("button",{ref:a,className:c.hotspot,"aria-haspopup":"dialog","aria-expanded":m,"aria-label":s.labelHotspot(m,i??0,d??0),onClick:_},t.createElement(bt,{open:m}))});function xt({globalStepIndex:o,onOpen:m,i18nStrings:n,focusOnRender:s,totalLocalSteps:i,taskLocalStepIndex:d}){const[a,_]=r.useState(null),f=r.useCallback(()=>{m(o)},[o,m]);return r.useEffect(()=>{s&&a&&a.focus()},[s,a]),t.createElement(J,{open:!1,onClick:f,i18nStrings:n,ref:_,totalLocalSteps:i,taskLocalStepIndex:d})}const gt=o=>t.createElement("div",{className:ct(c.arrow,c[`arrow-position-${o}`])},t.createElement("div",{className:c["arrow-outer"]}),t.createElement("div",{className:c["arrow-inner"]}));function Et({title:o,content:m,alert:n,direction:s="top",taskLocalStepIndex:i,totalLocalSteps:d,showPreviousButton:a,showFinishButton:_,onDismiss:f,nextButtonEnabled:C,onNextButtonClick:z,onFinish:B,trackRef:h,previousButtonEnabled:p,onPreviousButtonClick:b,i18nStrings:l}){r.useEffect(()=>{var v;rt((v=h.current)!==null&&v!==void 0?v:void 0)},[h]);const N=$("poppver-header-"),x=$("step-counter-");return t.createElement(st,{size:"medium",fixedWidth:!1,position:s,trackRef:h,trackKey:i,variant:"annotation",arrow:gt,zIndex:7e3,renderWithPortal:!0},t.createElement(it,{dismissButton:!0,dismissAriaLabel:l.labelDismissAnnotation,header:t.createElement(j,{id:N,color:"text-body-secondary",fontSize:"body-s",margin:{top:"xxxs"},className:c.header},o),onDismiss:f,className:c.annotation,variant:"annotation",overflowVisible:"content",key:i,ariaLabelledby:at(N,x)},t.createElement(H,{size:"s"},t.createElement("div",{className:c.description},t.createElement(j,{className:c.content},m)),n&&t.createElement(ft,{type:"warning"},n),t.createElement(H,{size:"s"},t.createElement("div",{className:c.divider}),t.createElement("div",{className:c.actionBar},t.createElement("div",{className:c.stepCounter},t.createElement(j,{id:x,className:c["step-counter-content"],color:"text-body-secondary",fontSize:"body-s"},l.stepCounterText(i??0,d??0))),t.createElement(H,{size:"xs",direction:"horizontal"},a&&t.createElement(P,{variant:"link",onClick:b,disabled:!p,formAction:"none",ariaLabel:l.previousButtonText,className:c["previous-button"]},l.previousButtonText),_?t.createElement(P,{onClick:B,formAction:"none",ariaLabel:l.finishButtonText,className:c["finish-button"]},l.finishButtonText):t.createElement(P,{onClick:z,disabled:!C,formAction:"none",ariaLabel:l.nextButtonText,className:c["next-button"]},l.nextButtonText)))))))}function kt({title:o,content:m,alert:n,direction:s,showPreviousButton:i,showFinishButton:d,taskLocalStepIndex:a,totalLocalSteps:_,onDismiss:f,nextButtonEnabled:C,onNextButtonClick:z,onFinish:B,previousButtonEnabled:h,onPreviousButtonClick:p,i18nStrings:b}){const l=r.useRef(null);return t.createElement(t.Fragment,null,t.createElement(J,{open:!0,onClick:f,i18nStrings:b,ref:l,totalLocalSteps:_,taskLocalStepIndex:a}),t.createElement(pt,null,t.createElement(Et,{trackRef:l,previousButtonEnabled:h,showPreviousButton:i,showFinishButton:d,totalLocalSteps:_,i18nStrings:b,nextButtonEnabled:C,onDismiss:f,onFinish:B,onNextButtonClick:z,onPreviousButtonClick:p,taskLocalStepIndex:a,direction:s,title:o,content:m,alert:n})))}const Ct=[];function Q({currentTutorial:o,children:m,onStepChange:n,onFinish:s,onStartTutorial:i,onExitTutorial:d,i18nStrings:a}){var _,f,C,z;lt("AnnotationContext");const[B,h]=r.useState(!0),[p,b]=r.useState(0);r.useEffect(()=>{b(0),h(!0)},[o,h]);const[l,N]=r.useState({}),x=r.useRef(l),v=o?o.tasks:Ct,{task:A,step:I,localIndex:S,taskIndex:D}=R(v,p),g=I==null?void 0:I.hotspotId,T=v.map(e=>e.steps.length).reduce((e,u)=>e+u,0),E=r.useMemo(()=>{const e={};let u=0;for(const w of v)for(const k of w.steps)e[k.hotspotId]===void 0&&(e[k.hotspotId]=u),u++;return e},[v]),F=r.useCallback(()=>{const e=Math.min(p+1,T);b(e),y(n,{step:e,reason:"next"})},[p,n,T]),L=r.useCallback(()=>{const e=Math.max(p-1,0);b(e),y(n,{step:e,reason:"previous"})},[n,p]),M=r.useCallback(()=>y(s),[s]),Y=g?l[g]:null;r.useEffect(()=>{if(!g||x.current[g])return;const u=(()=>{let w,k=1/0;for(const O of Object.keys(x.current)){const Z=Math.abs(E[O]-p);Z<k&&(k=Z,w=O)}return w})();if(u){const w=E[u];b(w),h(!0),y(n,{step:w,reason:"auto-fallback"})}},[v,Y,g,p,E,n,l]);const W=r.useCallback(()=>{h(!1)},[h]),V=r.useCallback(e=>{b(e),y(n,{step:e,reason:"open"}),h(!0)},[n,h]),q=(_=R(v,p-1).step)===null||_===void 0?void 0:_.hotspotId,K=(f=R(v,p+1).step)===null||f===void 0?void 0:f.hotspotId,U=(C=q!==void 0&&l[q])!==null&&C!==void 0?C:!1,X=(z=K!==void 0&&l[K])!==null&&z!==void 0?z:!1,tt=r.useCallback((e,u)=>{if(o!=null&&o.completed)return null;const w=E[e];if(w===void 0)return null;if(!A||!I||!B||e!==g){const{task:k,localIndex:O}=R(v,w);return t.createElement(xt,{globalStepIndex:w,i18nStrings:a,onOpen:V,focusOnRender:e===g,totalLocalSteps:k?k.steps.length:0,taskLocalStepIndex:O})}return t.createElement(kt,{i18nStrings:a,direction:u,title:a.taskTitle(D,A.title),content:I.content,alert:I.warningAlert,showPreviousButton:p!==0,showFinishButton:p+1===T,taskLocalStepIndex:S,totalLocalSteps:A.steps.length,nextButtonEnabled:X,onNextButtonClick:F,onFinish:M,previousButtonEnabled:U,onPreviousButtonClick:L,onDismiss:W})},[E,o,A,I,B,g,p,a,D,S,T,X,F,M,U,L,W,V,v]),et=r.useCallback(e=>{!E||E[e]===void 0||(x.current=Object.assign(Object.assign({},x.current),{[e]:!0}),N(u=>u[e]?u:Object.assign(Object.assign({},u),{[e]:!0})))},[E]),ot=r.useCallback(e=>{x.current[e]&&(x.current=G(e,x.current),N(u=>u[e]?G(e,u):u))},[]),nt={getContentForId:tt,registerHotspot:et,unregisterHotspot:ot,onStartTutorial:i,onExitTutorial:d,currentStepIndex:p,currentTutorial:o};return t.createElement(_t.Provider,{value:nt},m)}mt(Q,"AnnotationContext");function G(o,m){const n=m,s=o;return n[s],ut(n,[typeof s=="symbol"?s:s+""])}function ke({children:o}){const{navigate:m}=vt(),{state:n,actions:s}=wt(),[i,d]=r.useState(void 0),a=i!==void 0?n.tutorials[i]:null;return dt.jsxDEV(Q,{currentTutorial:a,onStepChange:()=>s.setToolsTab("tutorials-panel"),onStartTutorial:_=>{const f=_.detail.tutorial;s.setTutorialCompleted(f,!1),m("create-transcription-job"),d(n.tutorials.indexOf(f))},onExitTutorial:()=>d(void 0),onFinish:()=>{a&&s.setTutorialCompleted(a,!0)},i18nStrings:ht,children:o},void 0,!1,{fileName:"/app/code/src/pages/onboarding/root.tsx",lineNumber:24,columnNumber:5},this)}export{ke as App};

import{w as M,bo as b,r as m,bp as C,R as a,p as v,t as N,aE as H,aL as O,aF as P,_ as S,n as R,aG as j,O as V,bq as D,u as G,c as T}from"./index-DWytQeHI.js";import{I as $}from"./internal-BE_uTrzb.js";function F(e,l){for(const n of e)if((n.type==="link"||n.type==="link-group"||n.type==="expandable-link-group")&&n.href===l||(n.type==="section"||n.type==="link-group"||n.type==="expandable-link-group")&&F(n.items,l))return!0;return!1}function A(e,l=new WeakMap,n=[]){return e.forEach(t=>{const r=n.slice();(t.type==="section"||t.type==="expandable-link-group")&&(l.set(t,n),r.unshift(t)),(t.type==="section"||t.type==="link-group"||t.type==="expandable-link-group")&&A(t.items,l,r)}),l}function B(e){const l=new Set,n=e.slice();for(;n.length>0;){const t=n.shift();"href"in t&&(l.has(t.href)&&M("SideNavigation",`duplicate href in "${t.text}": ${t.href}`),l.add(t.href)),"items"in t&&n.push(...t.items)}}const E={"header-link-text":"awsui_header-link-text_eymn4_rug8v_5","link-text":"awsui_link-text_eymn4_rug8v_6"},s={root:"awsui_root_l0dv0_1kfs7_145",header:"awsui_header_l0dv0_1kfs7_179","header-link":"awsui_header-link_l0dv0_1kfs7_192","header-link--has-logo":"awsui_header-link--has-logo_l0dv0_1kfs7_202","header-link-text":"awsui_header-link-text_l0dv0_1kfs7_202","header-logo":"awsui_header-logo_l0dv0_1kfs7_207","header-logo--stretched":"awsui_header-logo--stretched_l0dv0_1kfs7_213","items-control":"awsui_items-control_l0dv0_1kfs7_218","list-container":"awsui_list-container_l0dv0_1kfs7_222","with-toolbar":"awsui_with-toolbar_l0dv0_1kfs7_230","divider-header":"awsui_divider-header_l0dv0_1kfs7_230",list:"awsui_list_l0dv0_1kfs7_222","list-variant-root":"awsui_list-variant-root_l0dv0_1kfs7_243","list-variant-root--first":"awsui_list-variant-root--first_l0dv0_1kfs7_250","list-variant-expandable-link-group":"awsui_list-variant-expandable-link-group_l0dv0_1kfs7_254","list-item":"awsui_list-item_l0dv0_1kfs7_258",section:"awsui_section_l0dv0_1kfs7_269","expandable-link-group":"awsui_expandable-link-group_l0dv0_1kfs7_270","section--no-ident":"awsui_section--no-ident_l0dv0_1kfs7_273","expandable-link-group--no-ident":"awsui_expandable-link-group--no-ident_l0dv0_1kfs7_274",refresh:"awsui_refresh_l0dv0_1kfs7_282","list-variant-section-group":"awsui_list-variant-section-group_l0dv0_1kfs7_293","section-group":"awsui_section-group_l0dv0_1kfs7_300","section-group-title":"awsui_section-group-title_l0dv0_1kfs7_311",link:"awsui_link_l0dv0_1kfs7_315","link-active":"awsui_link-active_l0dv0_1kfs7_324",info:"awsui_info_l0dv0_1kfs7_361","external-icon":"awsui_external-icon_l0dv0_1kfs7_365",divider:"awsui_divider_l0dv0_1kfs7_230","divider-default":"awsui_divider-default_l0dv0_1kfs7_374"},U={info:"awsui_info_1fhsi_6k3bb_5"};function W({definition:e,activeHref:l,fireFollow:n}){b("SideNavigation",e.href);const t=m.useCallback(_=>{C(_)&&n(e,_)},[n,e]),r={action:"click",detail:{label:`.${E["header-link-text"]}`,external:"false",href:e.href,position:"header"}};return a.createElement(a.Fragment,null,a.createElement("h2",{className:s.header},a.createElement("a",Object.assign({href:e.href,className:v(s["header-link"],{[s["header-link--has-logo"]]:!!e.logo}),"aria-current":e.href===l?"page":void 0,onClick:t},N(r)),e.logo&&a.createElement("img",Object.assign({className:v(s["header-logo"],{[s["header-logo--stretched"]]:!e.text})},e.logo)),a.createElement("span",{className:v(s["header-link-text"],E["header-link-text"])},e.text))),a.createElement(I,{isPresentational:!0,variant:"header"}))}function w({items:e,variant:l,activeHref:n,fireChange:t,fireFollow:r,position:_=""}){const i=[];let d=0;return i[d]={listVariant:l,items:[]},e.forEach((o,c)=>{var u,h,g,p,k;const f=c+1,x=`${_?`${_},`:""}${f}`;switch(o.type){case"divider":{const L=i.length;i[L]={element:a.createElement("div",{"data-itemid":`item-${f}`},a.createElement(I,{variant:"default"}))},d=i.length,i[d]={listVariant:l,items:[]};return}case"link":{(u=i[d].items)===null||u===void 0||u.push({element:a.createElement("li",{key:c,"data-itemid":`item-${f}`,className:s["list-item"]},a.createElement(y,{definition:o,activeHref:n,fireChange:t,fireFollow:r,position:x}))});return}case"section":{(h=i[d].items)===null||h===void 0||h.push({element:a.createElement("li",{key:c,"data-itemid":`item-${f}`,className:s["list-item"]},a.createElement(q,{definition:o,activeHref:n,variant:l,fireChange:t,fireFollow:r,position:x}))});return}case"section-group":{(g=i[d].items)===null||g===void 0||g.push({element:a.createElement("li",{key:c,"data-itemid":`item-${f}`,className:s["list-item"]},a.createElement(z,{definition:o,activeHref:n,fireChange:t,fireFollow:r,position:x}))});return}case"link-group":{(p=i[d].items)===null||p===void 0||p.push({element:a.createElement("li",{key:c,"data-itemid":`item-${f}`,className:s["list-item"]},a.createElement(J,{definition:o,activeHref:n,fireChange:t,fireFollow:r,position:x}))});return}case"expandable-link-group":{(k=i[d].items)===null||k===void 0||k.push({element:a.createElement("li",{key:c,"data-itemid":`item-${f}`,className:s["list-item"]},a.createElement(K,{definition:o,activeHref:n,fireChange:t,fireFollow:r,variant:l,position:x}))});return}}}),a.createElement(a.Fragment,null,i.map((o,c)=>!o.items||o.items.length===0?a.createElement("div",{key:`hr-${c}`,className:v(s.list,s[`list-variant-${l}`],{[s["list-variant-root--first"]]:o.listVariant==="root"&&c===0})},o.element):a.createElement("ul",{key:`list-${c}`,className:v(s.list,s[`list-variant-${o.listVariant}`],{[s["list-variant-root--first"]]:o.listVariant==="root"&&c===0})},o.items.map(u=>u.element))))}function I({variant:e="default",isPresentational:l=!1}){return a.createElement("hr",{className:v(s.divider,s[`divider-${e}`]),role:l?"presentation":void 0})}function y({definition:e,expanded:l,activeHref:n,fireFollow:t,position:r}){b("SideNavigation",e.href);const _=e.href===n,i=m.useCallback(o=>{C(o)&&t(e,o)},[t,e]),d={action:"click",detail:{label:`.${E["link-text"]}`,external:`${!!e.external}`,href:e.href,position:r}};return a.createElement(a.Fragment,null,a.createElement("a",Object.assign({href:e.href,className:v(s.link,{[s["link-active"]]:_}),target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,"aria-expanded":l,"aria-current":e.href===n?"page":void 0,onClick:i},N(d)),a.createElement("span",{className:E["link-text"]},e.text),e.external&&a.createElement("span",{"aria-label":e.externalIconAriaLabel,role:e.externalIconAriaLabel?"img":void 0},a.createElement(O,{name:"external",className:s["external-icon"]}))),e.info&&a.createElement("span",{className:v(s.info,U.info)},e.info))}function q({definition:e,activeHref:l,fireFollow:n,fireChange:t,variant:r,position:_}){var i;const[d,o]=m.useState((i=e.defaultExpanded)!==null&&i!==void 0?i:!0),c=m.useCallback(u=>{t(e,u.detail.expanded),o(u.detail.expanded)},[e,t]);return m.useEffect(()=>{var u;o((u=e.defaultExpanded)!==null&&u!==void 0?u:!0)},[e]),a.createElement($,{variant:"footer",expanded:d,onChange:c,className:v(s.section,r==="section-group"&&s["section--no-ident"],s.refresh),headerText:e.text},a.createElement(w,{variant:"section",items:e.items,fireFollow:n,fireChange:t,activeHref:l,position:_}))}function z({definition:e,activeHref:l,fireFollow:n,fireChange:t,position:r}){return a.createElement("div",{className:s["section-group"]},a.createElement(H,{className:s["section-group-title"],variant:"h3"},e.title),a.createElement(w,{variant:"section-group",items:e.items,fireFollow:n,fireChange:t,activeHref:l,position:r}))}function J({definition:e,activeHref:l,fireFollow:n,fireChange:t,position:r}){return b("SideNavigation",e.href),a.createElement(a.Fragment,null,a.createElement(y,{definition:{type:"link",href:e.href,text:e.text,info:e.info},fireFollow:(_,i)=>n(e,i),fireChange:t,activeHref:l,position:r}),a.createElement(w,{variant:"link-group",items:e.items,fireFollow:n,fireChange:t,activeHref:l,position:r}))}function K({definition:e,fireFollow:l,fireChange:n,activeHref:t,variant:r,position:_}){const i=m.useMemo(()=>t?F(e.items,t):!1,[t,e.items]),[d,o]=m.useState(()=>{var p;return(p=e.defaultExpanded)!==null&&p!==void 0?p:e.href===t||i}),[c,u]=m.useState();m.useEffect(()=>u(void 0),[e]),m.useEffect(()=>{o(e.href===t||i)},[e.href,i,t]),m.useEffect(()=>{e.defaultExpanded!==void 0&&o(e.defaultExpanded)},[e]);const h=m.useCallback(p=>{n(e,p.detail.expanded),u(p.detail.expanded)},[e,n]),g=(p,k)=>{l(e,k),u(!0),d||n(e,!0)};return a.createElement($,{className:v(s["expandable-link-group"],r==="section-group"&&s["expandable-link-group--no-ident"]),variant:"navigation",expanded:c??d,onChange:h,headerText:a.createElement(y,{definition:{type:"link",href:e.href,text:e.text},expanded:c??d,fireFollow:g,fireChange:n,activeHref:t,position:_})},a.createElement(w,{variant:"expandable-link-group",items:e.items,fireFollow:l,fireChange:n,activeHref:t,position:_}))}function Q(e){var{header:l,itemsControl:n,activeHref:t,items:r=[],onFollow:_,onChange:i,__internalRootRef:d}=e,o=S(e,["header","itemsControl","activeHref","items","onFollow","onChange","__internalRootRef"]);const c=R(o),u=j(),h=m.useMemo(()=>A(r),[r]);m.useEffect(()=>B(r),[r]);const g=m.useCallback((k,f)=>{V(i,{item:k,expanded:f,expandableParents:h.get(k)})},[i,h]),p=m.useCallback((k,f)=>{D(_,k,f)},[_]);return a.createElement("div",Object.assign({},c,{className:v(s.root,c.className,u&&s["with-toolbar"]),ref:d}),l&&a.createElement(W,{definition:l,activeHref:t,fireChange:g,fireFollow:p}),n&&a.createElement("div",{className:s["items-control"]},n),r&&a.createElement("div",{className:s["list-container"]},a.createElement(w,{variant:"root",items:r,fireFollow:p,fireChange:g,activeHref:t})))}const X=P(Q),Y=X();function Z(e){var{items:l=[]}=e,n=S(e,["items"]);const t=G("SideNavigation"),r={name:"awsui.SideNavigation",label:`.${E["header-link-text"]}`,properties:{activeHref:n.activeHref||""}};return a.createElement(Y,Object.assign({},n,t,{items:l},N({component:r})))}T(Z,"SideNavigation");export{Z as S};

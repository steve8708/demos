import{r as b,d8 as Jn,d9 as el,x as tl,da as Wt,bQ as nl,aZ as ll,b4 as _e,bC as Zt,U as be,R as r,aL as ye,p as F,ai as il,bk as j,bF as Ee,bl as sl,c7 as al,P as M,db as vt,b8 as gt,ca as rl,_ as ie,Y as oe,dc as R,a$ as Jt,dd as en,b6 as ol,Q as cl,Z as dl,V as ul,W as fl,X as bl,K as de,M as je,aX as vl,aR as gl,ay as Bt,cf as tn,w as $e,de as pl,O as qe,b as ml,df as hl,b_ as Pe,dg as nn,o as ln,dh as Ht,aP as _l,di as sn,t as ht,az as yl,dj as pt,dk as Fe,ao as an,dl as El,dm as Sl,dn as wl,dp as xl,dq as rn,dr as Cl,ds as Il,aS as on,bM as kl,aU as Rl,br as cn,dt as De,du as Le,bn as Ll,n as Tl,au as ft,dv as Fl,v as Pl,dw as zl,dx as Al,dy as Nl,dz as Ol,dA as Ml,h as Dl,dB as Wl,dC as Bl,dD as Hl,e as jl,dE as $l,dF as ql,z as Ul,a2 as jt,dG as Kl}from"./index-DLMN1afU.js";import{u as mt}from"./index-SUQSjT3m.js";import{I as Vl}from"./internal-BWpMHlT2.js";const Gl={sortable:"caret-down",ascending:"caret-up-filled",descending:"caret-down-filled"},Xl=(t,e,n,l)=>{if(e)return n?"descending":"ascending";if(t&&!l)return"sortable"},Ql=t=>Gl[t],dn=(t,e)=>t===e||t.sortingField!==void 0&&t.sortingField===e.sortingField||t.sortingComparator!==void 0&&t.sortingComparator===e.sortingComparator,vs=(t=[],e)=>{if(!e)return null;for(let n=0;n<t.length;n++)if(dn(t[n],e))return t[n].id||null;return null};function Yl(t){const e=b.useRef(null);return n=>{const l=n.currentTarget;l&&(e.current===null||e.current===l)&&requestAnimationFrame(()=>{e.current=l,t.forEach(i=>{const s=i.current;s&&s!==l&&(s.scrollLeft=l.scrollLeft)}),requestAnimationFrame(()=>{e.current=null})})}}const Zl=1e3;function Jl({elementRef:t,itemCount:e,instanceIdentifier:n,getComponentIdentifier:l,getComponentConfiguration:i,loading:s=!1,interactionMetadata:a}){const c=Jn(),d=el(t,"data-analytics-task-interaction-id",c),{isInFunnel:p}=tl(),f=b.useRef(null),g=b.useRef(null),o=b.useRef(null),m=b.useRef({itemCount:e,getComponentIdentifier:l,getComponentConfiguration:i,interactionMetadata:a});return m.current={itemCount:e,getComponentIdentifier:l,getComponentConfiguration:i,interactionMetadata:a},b.useEffect(()=>{p||Wt.componentMounted({taskInteractionId:c,componentName:"table",componentConfiguration:m.current.getComponentConfiguration()})},[c,p]),b.useEffect(()=>{s&&(o.current=performance.now(),f.current&&f.current.time>performance.now()-Zl?g.current=f.current.name:g.current=null)},[s]),nl(()=>{var u,v;if(!s&&o.current!==null){const h=performance.now()-o.current;o.current=null,ll.tableInteraction({userAction:(u=g.current)!==null&&u!==void 0?u:"",interactionTime:Math.round(h),interactionMetadata:m.current.interactionMetadata(),componentIdentifier:m.current.getComponentIdentifier(),instanceIdentifier:n,noOfResourcesInTable:m.current.itemCount}),p||Wt.componentUpdated({taskInteractionId:c,componentName:"table",actionType:(v=g.current)!==null&&v!==void 0?v:"",componentConfiguration:m.current.getComponentConfiguration()})}},[n,s,c,p]),{tableInteractionAttributes:d,setLastUserAction:u=>void(f.current={name:u,time:performance.now()})}}function un(t){const e=b.useRef(null),n=_e(t);return b.useEffect(()=>{function l(i){Zt(e.current,i.target)||n()}return document.addEventListener("click",l,{capture:!0}),()=>document.removeEventListener("click",l,{capture:!0})},[n]),e}const bt={"expand-toggle-icon":"awsui_expand-toggle-icon_1ss49_kp5bf_153","expand-toggle-icon-expanded":"awsui_expand-toggle-icon-expanded_1ss49_kp5bf_174","expand-toggle":"awsui_expand-toggle_1ss49_kp5bf_153"};function ei({isExpanded:t,onExpandableItemToggle:e,expandButtonLabel:n,collapseButtonLabel:l}){const i=b.useRef(null),{tabIndex:s}=be(i);return r.createElement("button",{type:"button",ref:i,tabIndex:s,"aria-label":t?l:n,"aria-expanded":t,className:bt["expand-toggle"],onClick:e},r.createElement(ye,{size:"small",name:"caret-down-filled",className:F(bt["expand-toggle-icon"],t&&bt["expand-toggle-icon-expanded"])}))}class ti{constructor(e){this._listeners=[],this._state=e}get(){return this._state}set(e){const n=this._state,l=e(n);this._state=l,il.unstable_batchedUpdates(()=>{for(const[i,s]of this._listeners)i(n)!==i(l)&&s(l,n)})}subscribe(e,n){return this._listeners.push([e,n]),()=>this.unsubscribe(n)}unsubscribe(e){for(let n=0;n<this._listeners.length;n++){const[,l]=this._listeners[n];if(l===e){this._listeners.splice(n,1);break}}}}function ni(t,e){return t&&e?t.padInlineStart===e.padInlineStart&&t.lastInsetInlineStart===e.lastInsetInlineStart&&t.lastInsetInlineEnd===e.lastInsetInlineEnd&&t.offset.insetInlineStart===e.offset.insetInlineStart&&t.offset.insetInlineEnd===e.offset.insetInlineEnd:t===e}function li(t,e){return t.scrollPaddingInlineStart===e.scrollPaddingInlineStart&&t.scrollPaddingInlineEnd===e.scrollPaddingInlineEnd}function ii(t,e){var n,l,i,s;const a=e.visibleColumns.length,c=[];for(let o=0;o<Math.min(a,e.stickyColumnsFirst);o++){const m=t.get(e.visibleColumns[o]),u=m?j(m).inlineSize:0;c[o]=((n=c[o-1])!==null&&n!==void 0?n:0)+u}const d=[];for(let o=0;o<Math.min(a,e.stickyColumnsLast);o++){const m=t.get(e.visibleColumns[a-1-o]),u=m?j(m).inlineSize:0;d[o]=((l=d[o-1])!==null&&l!==void 0?l:0)+u}const p=(i=c[e.stickyColumnsFirst-1])!==null&&i!==void 0?i:0,f=(s=d[e.stickyColumnsLast-1])!==null&&s!==void 0?s:0;return{offsets:e.visibleColumns.reduce((o,m,u)=>{var v,h;return o.set(m,{first:(v=c[u-1])!==null&&v!==void 0?v:0,last:(h=d[a-1-u-1])!==null&&h!==void 0?h:0})},new Map),stickyWidthInlineStart:p,stickyWidthInlineEnd:f}}const si=148;function ai({visibleColumns:t,stickyColumnsFirst:e,stickyColumnsLast:n}){const l=b.useMemo(()=>new ri,[]),i=b.useRef(null),s=b.useRef(null),a=b.useRef(new Map),c=e+n>0,d=_e(()=>{i.current&&s.current&&l.updateCellStyles({wrapper:i.current,table:s.current,cells:a.current,visibleColumns:t,stickyColumnsFirst:e,stickyColumnsLast:n})});Ee(i,d),Ee(s,d),b.useEffect(()=>{i.current&&s.current&&l.updateCellStyles({wrapper:i.current,table:s.current,cells:a.current,visibleColumns:t,stickyColumnsFirst:e,stickyColumnsLast:n})},[l,e,n,t]),b.useEffect(()=>{if(!c)return;const o=v=>v.wrapperState,m=(v,h)=>{li(v,h)||i.current&&(i.current.style.scrollPaddingInlineStart=v.scrollPaddingInlineStart+"px",i.current.style.scrollPaddingInlineEnd=v.scrollPaddingInlineEnd+"px")};return l.subscribe(o,(v,h)=>m(o(v),o(h)))},[l,c]);const p=b.useCallback(o=>{i.current&&i.current.removeEventListener("scroll",d),o&&c&&o.addEventListener("scroll",d),i.current=o},[c,d]),f=b.useCallback(o=>{s.current=o},[]),g=b.useCallback((o,m)=>{m?a.current.set(o,m):a.current.delete(o)},[]);return{store:l,style:{wrapper:c?Object.assign({},l.get().wrapperState):void 0},refs:{wrapper:p,table:f,cell:g}}}function fn({stickyColumns:t,columnId:e,getClassName:n}){var l;const i=t.refs.cell,s=b.useRef(null),a=b.useCallback(d=>{s.current&&s.current(),i(e,d);const p=g=>{var o;return(o=g.cellState.get(e))!==null&&o!==void 0?o:null},f=(g,o)=>{if(ni(g,o))return;const m=n(g);d&&(Object.keys(m).forEach(u=>{m[u]?d.classList.add(u):d.classList.remove(u)}),d.style.insetInlineStart=(g==null?void 0:g.offset.insetInlineStart)!==void 0?`${g.offset.insetInlineStart}px`:"",d.style.insetInlineEnd=(g==null?void 0:g.offset.insetInlineEnd)!==void 0?`${g.offset.insetInlineEnd}px`:"")};d&&(s.current=t.store.subscribe(p,(g,o)=>{f(p(g),p(o))}))},[e,i,t.store]),c=t.store.get().cellState.get(e);return{ref:a,className:c?F(n(c)):void 0,style:(l=c==null?void 0:c.offset)!==null&&l!==void 0?l:void 0}}class ri extends ti{constructor(){super({cellState:new Map,wrapperState:{scrollPaddingInlineStart:0,scrollPaddingInlineEnd:0}}),this.cellOffsets={offsets:new Map,stickyWidthInlineStart:0,stickyWidthInlineEnd:0},this.isStuckToTheInlineStart=!1,this.isStuckToTheInlineEnd=!1,this.padInlineStart=!1,this.generateCellStyles=e=>{const n=this.isEnabled(e),l=e.stickyColumnsFirst-1,i=e.visibleColumns.length-e.stickyColumnsLast;return e.visibleColumns.reduce((s,a,c)=>{var d,p,f,g;let o="non-sticky";if(c<e.stickyColumnsFirst?o="inline-start":c>=e.visibleColumns.length-e.stickyColumnsLast&&(o="inline-end"),!n||o==="non-sticky")return s;const m=c===0,u=(p=(d=this.cellOffsets.offsets.get(a))===null||d===void 0?void 0:d.first)!==null&&p!==void 0?p:0,v=(g=(f=this.cellOffsets.offsets.get(a))===null||f===void 0?void 0:f.last)!==null&&g!==void 0?g:0;return s.set(a,{padInlineStart:m&&this.padInlineStart,lastInsetInlineStart:this.isStuckToTheInlineStart&&l===c,lastInsetInlineEnd:this.isStuckToTheInlineEnd&&i===c,offset:{insetInlineStart:o==="inline-start"?u:void 0,insetInlineEnd:o==="inline-end"?v:void 0}}),s},new Map)},this.updateCellOffsets=e=>{this.cellOffsets=ii(e.cells,e)},this.isEnabled=e=>{if(e.stickyColumnsFirst+e.stickyColumnsLast===0)return!1;const l=j(e.wrapper).inlineSize;if(!(j(e.table).inlineSize>l))return!1;const a=this.cellOffsets.stickyWidthInlineStart+this.cellOffsets.stickyWidthInlineEnd,c=parseFloat(getComputedStyle(e.table).paddingLeft)||0,d=parseFloat(getComputedStyle(e.table).paddingRight)||0;return a+si+c+d<l}}updateCellStyles(e){const n=e.stickyColumnsFirst+e.stickyColumnsLast>0,l=this.cellOffsets.offsets.size>0;(n||l)&&(this.updateScroll(e),this.updateCellOffsets(e),this.set(()=>({cellState:this.generateCellStyles(e),wrapperState:{scrollPaddingInlineStart:this.cellOffsets.stickyWidthInlineStart,scrollPaddingInlineEnd:this.cellOffsets.stickyWidthInlineEnd}})))}updateScroll(e){const n=sl(e.wrapper),l=e.wrapper.scrollWidth,i=e.wrapper.clientWidth,s=parseFloat(getComputedStyle(e.table).paddingInlineStart)||0,a=parseFloat(getComputedStyle(e.table).paddingInlineEnd)||0;this.isStuckToTheInlineStart=n>s,this.isStuckToTheInlineEnd=Math.ceil(n)<l-i-a,this.padInlineStart=s!==0&&this.isStuckToTheInlineStart}}const oi={sortable:"none",ascending:"ascending",descending:"descending"},ci=t=>oi[t];function bn(t){const e={};return e.role=t.tableRole==="grid-default"?"grid":t.tableRole,e["aria-label"]=t.ariaLabel,e["aria-labelledby"]=t.ariaLabelledby,e["aria-rowcount"]=typeof t.totalItemsCount=="number"?t.totalItemsCount+1:-1,(t.tableRole==="grid"||t.tableRole==="treegrid")&&(e["aria-colcount"]=t.totalColumnsCount),(t.tableRole==="grid"||t.tableRole==="treegrid")&&(e.tabIndex=-1),e}function di(t){const e={};return t.isScrollable&&(e.role="region",e.tabIndex=0,e["aria-label"]=t.ariaLabel,e["aria-labelledby"]=t.ariaLabelledby),e}function ui(t){const e={};return(t.tableRole==="grid"||t.tableRole==="grid-default"||t.tableRole==="treegrid")&&(e["aria-rowindex"]=1),e}function fi(t){const e={};return t.tableRole==="grid"||t.tableRole==="treegrid"?e["aria-rowindex"]=(t.firstIndex||1)+t.rowIndex+1:t.firstIndex!==void 0&&(e["aria-rowindex"]=t.firstIndex+t.rowIndex+1),t.tableRole==="treegrid"&&t.level&&t.level!==0&&(e["aria-level"]=t.level),t.tableRole==="treegrid"&&t.setSize&&(e["aria-setsize"]=t.setSize),t.tableRole==="treegrid"&&t.posInSet&&(e["aria-posinset"]=t.posInSet),e}function bi(t){const e={};return e.scope="col",(t.tableRole==="grid"||t.tableRole==="treegrid")&&(e["aria-colindex"]=t.colIndex+1),t.sortingStatus&&(e["aria-sort"]=ci(t.sortingStatus)),e}function vi(t){const e={};return(t.tableRole==="grid"||t.tableRole==="treegrid")&&(e["aria-colindex"]=t.colIndex+1),t.isRowHeader&&(e.scope="row"),e}function $t(t){return t.closest("td,th")}function gi(t){return t instanceof HTMLInputElement||t instanceof HTMLButtonElement?t.disabled:!1}function pi(t){let e=t;for(;e;){if(He(e))return!1;if(e.getAttribute("role")==="dialog"||e.getAttribute("data-awsui-table-suppress-navigation")==="true")return!0;e=e.parentElement}return!1}function mi(t,e,n){var l;let i=null;const s=Array.from(t.querySelectorAll("tr[aria-rowindex]"));n<0&&s.reverse();for(const a of s){const c=parseInt((l=a.getAttribute("aria-rowindex"))!==null&&l!==void 0?l:"");if(i=a,c===e||n>=0&&c>e||n<0&&c<e)break}return i}function hi(t,e,n){var l;let i=null;const s=Array.from(t.querySelectorAll("td[aria-colindex],th[aria-colindex]"));n<0&&s.reverse();for(const a of s){const c=parseInt((l=a.getAttribute("aria-colindex"))!==null&&l!==void 0?l:"");if(i=a,c===e||n>=0&&c>e||n<0&&c<e)break}return i}function He(t){return t.tagName==="TD"||t.tagName==="TH"}function _i(t){t&&(He(t)&&t.tabIndex!==0&&(t.tabIndex=-1),t.focus())}function yi({keyboardNavigation:t,pageSize:e,getTable:n,children:l}){const i=b.useRef(null),s=b.useMemo(()=>new Ei(i),[]),a=_e(n);return b.useEffect(()=>{if(t){const c=a();c&&s.init(c)}return()=>s.cleanup()},[t,s,a]),b.useEffect(()=>{s.update({pageSize:e})},[s,e]),b.useEffect(()=>{t&&s.refresh()}),r.createElement(al,{ref:i,navigationActive:t,getNextFocusTarget:s.getNextFocusTarget,isElementSuppressed:s.isElementSuppressed,onRegisterFocusable:s.onRegisterFocusable,onUnregisterActive:s.onUnregisterActive},l)}class Ei{constructor(e){this._pageSize=0,this._table=null,this.focusedCell=null,this.focusInside=!1,this.keepUserIndex=!1,this.onRegisterFocusable=n=>{var l;if(!this.focusInside)return;const i=(l=this.focusedCell)===null||l===void 0?void 0:l.element;i&&He(i)&&i.contains(n)&&n.focus({preventScroll:!0})},this.onUnregisterActive=()=>{this.focusedCell&&!Zt(this.table,this.focusedCell.element)&&this.moveFocusBy(this.focusedCell,{x:0,y:0})},this.getNextFocusTarget=()=>{var n;const l=this.focusedCell,i=this.table.querySelector("td,th");let s=(n=i&&this.getFocusablesFrom(i)[0])!==null&&n!==void 0?n:i;return l&&(s=this.getNextFocusable(l,{x:0,y:0})),s},this.isElementSuppressed=n=>this.focusedCell?!n||pi(n):!1,this.onFocusin=n=>{var l;if(this.focusInside=!0,!(n.target instanceof HTMLElement)||(this.updateFocusedCell(n.target),!this.focusedCell))return;(l=this._navigationAPI.current)===null||l===void 0||l.updateFocusTarget();const i=this.focusedCell.element,s=He(i)?this.getFocusablesFrom(i)[0]:null;s?s.focus({preventScroll:!0}):this.keepUserIndex=!1},this.onFocusout=()=>{this.focusInside=!1},this.onKeydown=n=>{if(!this.focusedCell)return;const l=[M.up,M.down,M.left,M.right,M.pageUp,M.pageDown,M.home,M.end],i=n.ctrlKey?1:0,s=n.altKey?1:0,a=n.shiftKey?1:0,c=n.metaKey?1:0;if(i+s+a+c&&!n.ctrlKey||n.ctrlKey&&n.keyCode!==M.home&&n.keyCode!==M.end||this.isElementSuppressed(document.activeElement)||!this.isRegistered(document.activeElement)||l.indexOf(n.keyCode)===-1)return;const f=this.focusedCell;n.preventDefault(),vt(n)&&gt(n,{onBlockStart:()=>this.moveFocusBy(f,{y:-1,x:0}),onBlockEnd:()=>this.moveFocusBy(f,{y:1,x:0}),onInlineStart:()=>this.moveFocusBy(f,{y:0,x:-1}),onInlineEnd:()=>this.moveFocusBy(f,{y:0,x:1}),onPageUp:()=>this.moveFocusBy(f,{y:-this.pageSize,x:0}),onPageDown:()=>this.moveFocusBy(f,{y:this.pageSize,x:0}),onHome:()=>n.ctrlKey?this.moveFocusBy(f,{y:-1/0,x:-1/0}):this.moveFocusBy(f,{y:0,x:-1/0}),onEnd:()=>n.ctrlKey?this.moveFocusBy(f,{y:1/0,x:1/0}):this.moveFocusBy(f,{y:0,x:1/0})})},this._navigationAPI=e}init(e){this._table=e;const n=new AbortController;this.table.addEventListener("focusin",this.onFocusin,{signal:n.signal}),this.table.addEventListener("focusout",this.onFocusout,{signal:n.signal}),this.table.addEventListener("keydown",this.onKeydown,{signal:n.signal}),this.cleanup=()=>{n.abort()}}cleanup(){}update({pageSize:e}){this._pageSize=e}refresh(){setTimeout(()=>{var e,n;this._table&&(this.updateFocusedCell((e=this.focusedCell)===null||e===void 0?void 0:e.element),(n=this._navigationAPI.current)===null||n===void 0||n.updateFocusTarget())},0)}get pageSize(){return this._pageSize}get table(){if(!this._table)throw new Error("Invariant violation: GridNavigationProcessor is used before initialization.");return this._table}moveFocusBy(e,n){n.y!==0&&n.x===0&&(this.keepUserIndex=!0),_i(this.getNextFocusable(e,n))}isRegistered(e){var n,l;return!e||((l=(n=this._navigationAPI.current)===null||n===void 0?void 0:n.isRegistered(e))!==null&&l!==void 0?l:!1)}updateFocusedCell(e){var n,l,i,s,a,c;if(!e)return;const d=$t(e),p=d==null?void 0:d.closest("tr");if(!d||!p)return;const f=parseInt((n=d.getAttribute("aria-colindex"))!==null&&n!==void 0?n:""),g=parseInt((l=p.getAttribute("aria-rowindex"))!==null&&l!==void 0?l:"");if(isNaN(f)||isNaN(g))return;const m=this.getFocusablesFrom(d).indexOf(e),u=(s=(i=this.focusedCell)===null||i===void 0?void 0:i.colIndex)!==null&&s!==void 0?s:-1,v=(c=(a=this.focusedCell)===null||a===void 0?void 0:a.elementIndex)!==null&&c!==void 0?c:-1;this.focusedCell={rowIndex:g,colIndex:this.keepUserIndex&&u!==-1?u:f,elementIndex:this.keepUserIndex&&v!==-1?v:m,element:e}}getNextFocusable(e,n){var l;const i=e.rowIndex+n.y,s=mi(this.table,i,n.y);if(!s)return null;const a=$t(e.element),c=a?this.getFocusablesFrom(a):[],d=e.elementIndex+n.x,p=!!n.x,f=e.elementIndex!==-1&&0<=d&&d<c.length,g=e.element!==c[d];if(p&&f&&g)return c[d];const o=e.colIndex+n.x,m=hi(s,o,n.x);if(!m||m===a&&n.x!==0)return null;const u=this.getFocusablesFrom(m);let v=e.elementIndex;return(isFinite(n.x)&&n.x>0||n.x===-1/0)&&(v=0),(isFinite(n.x)&&n.x<0||n.x===1/0)&&(v=u.length-1),(l=u[v])!==null&&l!==void 0?l:m}getFocusablesFrom(e){const n=l=>{var i;return(i=this._navigationAPI.current)===null||i===void 0?void 0:i.isRegistered(l)};return rl(e).filter(l=>n(l)&&!gi(l))}}const k={"expandable-toggle-wrapper":"awsui_expandable-toggle-wrapper_c6tup_1vca0_145","body-cell":"awsui_body-cell_c6tup_1vca0_152","body-cell-content":"awsui_body-cell-content_c6tup_1vca0_160","expandable-level-0":"awsui_expandable-level-0_c6tup_1vca0_166","expandable-level-1":"awsui_expandable-level-1_c6tup_1vca0_173","expandable-level-2":"awsui_expandable-level-2_c6tup_1vca0_180","expandable-level-3":"awsui_expandable-level-3_c6tup_1vca0_187","expandable-level-4":"awsui_expandable-level-4_c6tup_1vca0_194","expandable-level-5":"awsui_expandable-level-5_c6tup_1vca0_201","expandable-level-6":"awsui_expandable-level-6_c6tup_1vca0_208","expandable-level-7":"awsui_expandable-level-7_c6tup_1vca0_215","expandable-level-8":"awsui_expandable-level-8_c6tup_1vca0_222","expandable-level-9":"awsui_expandable-level-9_c6tup_1vca0_229","expandable-level-next":"awsui_expandable-level-next_c6tup_1vca0_236","body-cell-align-top":"awsui_body-cell-align-top_c6tup_1vca0_254","body-cell-wrap":"awsui_body-cell-wrap_c6tup_1vca0_260","is-visual-refresh":"awsui_is-visual-refresh_c6tup_1vca0_357","body-cell-edit-active":"awsui_body-cell-edit-active_c6tup_1vca0_447","body-cell-expandable":"awsui_body-cell-expandable_c6tup_1vca0_447","body-cell-editable":"awsui_body-cell-editable_c6tup_1vca0_447","has-striped-rows":"awsui_has-striped-rows_c6tup_1vca0_530","sticky-cell-pad-inline-start":"awsui_sticky-cell-pad-inline-start_c6tup_1vca0_696","has-selection":"awsui_has-selection_c6tup_1vca0_862","body-cell-first-row":"awsui_body-cell-first-row_c6tup_1vca0_1031","body-cell-last-row":"awsui_body-cell-last-row_c6tup_1vca0_1034","body-cell-selected":"awsui_body-cell-selected_c6tup_1vca0_1034","has-footer":"awsui_has-footer_c6tup_1vca0_1034","body-cell-shaded":"awsui_body-cell-shaded_c6tup_1vca0_1044","sticky-cell":"awsui_sticky-cell_c6tup_1vca0_696","sticky-cell-last-inline-end":"awsui_sticky-cell-last-inline-end_c6tup_1vca0_1109","sticky-cell-last-inline-start":"awsui_sticky-cell-last-inline-start_c6tup_1vca0_1118","body-cell-next-selected":"awsui_body-cell-next-selected_c6tup_1vca0_1140","body-cell-prev-selected":"awsui_body-cell-prev-selected_c6tup_1vca0_1147","body-cell-editor-wrapper":"awsui_body-cell-editor-wrapper_c6tup_1vca0_1173","body-cell-success":"awsui_body-cell-success_c6tup_1vca0_1178","body-cell-editor":"awsui_body-cell-editor_c6tup_1vca0_1173","body-cell-editor-disabled":"awsui_body-cell-editor-disabled_c6tup_1vca0_1203","body-cell-editor-row":"awsui_body-cell-editor-row_c6tup_1vca0_1212","body-cell-editor-controls":"awsui_body-cell-editor-controls_c6tup_1vca0_1222","body-cell-editor-row-editor":"awsui_body-cell-editor-row-editor_c6tup_1vca0_1225","body-cell-editor-focusable":"awsui_body-cell-editor-focusable_c6tup_1vca0_1228","body-cell-editor-icon":"awsui_body-cell-editor-icon_c6tup_1vca0_1252","resizable-columns":"awsui_resizable-columns_c6tup_1vca0_1364","expandable-cell-content":"awsui_expandable-cell-content_c6tup_1vca0_1367","body-cell-edit-disabled-popover":"awsui_body-cell-edit-disabled-popover_c6tup_1vca0_1418","body-cell-has-success":"awsui_body-cell-has-success_c6tup_1vca0_1421"},ze=r.forwardRef((t,e)=>{var{children:n,wrapLines:l,isRowHeader:i,isFirstRow:s,isLastRow:a,isSelected:c,isNextSelected:d,isPrevSelected:p,nativeAttributes:f,onClick:g,onFocus:o,onBlur:m,isEvenRow:u,stripedRows:v,isSelection:h,hasSelection:_,hasFooter:S,columnId:E,colIndex:w,stickyState:x,tableRole:L,level:I,isExpandable:A,isExpanded:V,onExpandableItemToggle:$,expandButtonLabel:P,collapseButtonLabel:q,verticalAlign:Q,resizableColumns:G,resizableStyle:U,isEditable:K,isEditing:D,isEditingDisabled:W,hasSuccessIcon:C}=t,N=ie(t,["children","wrapLines","isRowHeader","isFirstRow","isLastRow","isSelected","isNextSelected","isPrevSelected","nativeAttributes","onClick","onFocus","onBlur","isEvenRow","stripedRows","isSelection","hasSelection","hasFooter","columnId","colIndex","stickyState","tableRole","level","isExpandable","isExpanded","onExpandableItemToggle","expandButtonLabel","collapseButtonLabel","verticalAlign","resizableColumns","resizableStyle","isEditable","isEditing","isEditingDisabled","hasSuccessIcon"]);const O=i?"th":"td";U=G?{}:U,f=Object.assign(Object.assign({},f),vi({tableRole:L,isRowHeader:i,colIndex:w}));const X=fn({stickyColumns:x,columnId:E,getClassName:Ue=>en(k,Ue)}),Se=b.useRef(null),ve=oe(X.ref,e,Se),{tabIndex:we}=be(Se),B=D&&!W;return r.createElement(O,Object.assign({style:Object.assign(Object.assign({},U),X.style),className:F(k["body-cell"],s&&k["body-cell-first-row"],a&&k["body-cell-last-row"],c&&k["body-cell-selected"],d&&k["body-cell-next-selected"],p&&k["body-cell-prev-selected"],!u&&v&&k["body-cell-shaded"],v&&k["has-striped-rows"],k["is-visual-refresh"],h&&R["selection-control"],_&&k["has-selection"],S&&k["has-footer"],G&&k["resizable-columns"],Q==="top"&&k["body-cell-align-top"],K&&k["body-cell-editable"],D&&!W&&k["body-cell-edit-active"],D&&W&&k["body-cell-edit-disabled-popover"],C&&k["body-cell-has-success"],I!==void 0&&!B&&k["body-cell-expandable"],I!==void 0&&!B&&k[`expandable-level-${Si(I)}`],X.className),onClick:g,onFocus:o,onBlur:m,ref:ve},f,{tabIndex:we===-1?void 0:we},Jt(N)),I!==void 0&&A&&!B&&r.createElement("div",{className:k["expandable-toggle-wrapper"]},r.createElement(ei,{isExpanded:V,onExpandableItemToggle:$,expandButtonLabel:P,collapseButtonLabel:q})),r.createElement("div",{className:F(k["body-cell-content"],l&&k["body-cell-wrap"])},n))});function Si(t){return 0<=t&&t<=9?t:"next"}function wi(t){var e,{item:n,column:l,ariaLabels:i,isEditing:s,onEditStart:a,onEditEnd:c,editDisabledReason:d}=t,p=ie(t,["item","column","ariaLabels","isEditing","onEditStart","onEditEnd","editDisabledReason"]);const f=p.level!==void 0,g=un(()=>{s&&c(!0)}),o=b.useRef(null),m=b.useRef(null),u=b.useRef(null);function v(x){x.key==="Escape"&&c(!0)}const h=()=>{var x;a(),(x=m.current)===null||x===void 0||x.focus()},{targetProps:_,descriptionEl:S}=ol(d),E=cl(u),{tabIndex:w}=be(m);return r.createElement(ze,Object.assign({},p,{nativeAttributes:{"data-inline-editing-active":s.toString()},isEditing:s,isEditingDisabled:!0,onClick:!s&&!f?h:void 0,ref:f?void 0:g}),l.cell(n),r.createElement("div",{className:k["body-cell-editor-wrapper"]},r.createElement("div",{ref:f?g:void 0},r.createElement("button",Object.assign({ref:m,tabIndex:w,className:F(k["body-cell-editor"],k["body-cell-editor-disabled"],f&&k["body-cell-editor-focusable"]),onClick:!s&&f?h:void 0,"aria-label":(e=i==null?void 0:i.activateEditLabel)===null||e===void 0?void 0:e.call(i,l,n),"aria-haspopup":"dialog","aria-disabled":"true",onKeyDown:v},_),r.createElement("span",{className:k["body-cell-editor-icon"]},r.createElement(ye,{name:"lock-private",variant:"normal",__internalRootRef:o})),S))),s&&r.createElement("span",{ref:u},r.createElement(dl,null,r.createElement("span",{className:E},r.createElement(ul,{size:"medium",fixedWidth:!1,position:"top",trackRef:o,arrow:x=>r.createElement(fl,{position:x}),renderWithPortal:!0,zIndex:7e3},r.createElement(bl,{dismissButton:!1,dismissAriaLabel:void 0,header:null,onDismiss:()=>{},overflowVisible:"both"},r.createElement(de,{tagName:"span"},d)))))))}const xi=()=>{};function Ci({ariaLabels:t,item:e,column:n,onEditEnd:l,submitEdit:i,__onRender:s}){var a,c,d,p;const[f,g]=b.useState(!1),[o,m]=b.useState(),u=je("table"),v=b.useRef(null),h={currentValue:o,setValue:m};function _({cancelled:P=!1,refocusCell:q=!0}={}){P||m(void 0),l({cancelled:P,refocusCell:q})}function S(P){var q;return tn(this,void 0,void 0,function*(){if(P.preventDefault(),o===void 0){_();return}g(!0);try{yield i(e,n,o),g(!1),_()}catch{g(!1),(q=v.current)===null||q===void 0||q.focusFirst()}})}function E({reFocusEditedCell:P=!0}={}){f||_({cancelled:!0,refocusCell:P})}function w(P){P.key==="Escape"&&E()}const x=un(()=>E({reFocusEditedCell:!1}));b.useEffect(()=>{if(s){const P=setTimeout(s,1);return()=>clearTimeout(P)}},[s]);const{ariaLabel:L=void 0,validation:I=xi,errorIconAriaLabel:A,constraintText:V,editingCell:$}=n.editConfig;return r.createElement(vl,{restoreFocus:!0,ref:v},r.createElement("div",{role:"dialog",ref:x,"aria-label":(a=t==null?void 0:t.activateEditLabel)===null||a===void 0?void 0:a.call(t,n,e),onKeyDown:w},r.createElement("form",{onSubmit:S},r.createElement(Vl,{stretch:!0,label:L,constraintText:V,__hideLabel:!0,__disableGutters:!0,i18nStrings:{errorIconAriaLabel:A},errorText:I(e,o)},r.createElement("div",{className:k["body-cell-editor-row"]},r.createElement("div",{className:k["body-cell-editor-row-editor"]},$(e,h)),r.createElement("span",{className:k["body-cell-editor-controls"]},r.createElement(gl,{direction:"horizontal",size:"xxs"},f?null:r.createElement(Bt,{ariaLabel:(c=t==null?void 0:t.cancelEditLabel)===null||c===void 0?void 0:c.call(t,n),formAction:"none",iconName:"close",variant:"inline-icon",onClick:()=>E()}),r.createElement(Bt,{ariaLabel:(d=t==null?void 0:t.submitEditLabel)===null||d===void 0?void 0:d.call(t,n),formAction:"submit",iconName:"check",variant:"inline-icon",loading:f})),r.createElement(de,{tagName:"span",hidden:!0},f?u("ariaLabels.submittingEditText",(p=t==null?void 0:t.submittingEditText)===null||p===void 0?void 0:p.call(t,n)):"")))))))}const Ii=()=>{throw new Error("The function `handleSubmit` is required for editable columns")};function ki(t){var e,n,l,{item:i,column:s,isEditing:a,onEditStart:c,onEditEnd:d,submitEdit:p,ariaLabels:f,successfulEdit:g=!1}=t,o=ie(t,["item","column","isEditing","onEditStart","onEditEnd","submitEdit","ariaLabels","successfulEdit"]);const m=je("table"),u=b.useRef(null),v={"data-inline-editing-active":a.toString()},h=b.useRef(!1),_=o.level!==void 0;b.useEffect(()=>{!a&&u.current&&h.current&&(h.current=!1,u.current.focus())},[a]);const[S,E]=b.useState(!1),w=mt(g),x=mt(S),[L,I]=b.useState(!1);b.useEffect(()=>{g&&w&&!S&&x&&I(!1),g&&!w&&I(!0)},[S,g,x,w]);const{tabIndex:A}=be(u);return r.createElement(ze,Object.assign({},o,{nativeAttributes:v,isEditing:a,hasSuccessIcon:L&&S,onClick:!a&&!_?c:void 0,onFocus:()=>E(!0),onBlur:()=>E(!1)}),a&&s.editConfig?r.createElement(Ci,{ariaLabels:f,column:s,item:i,onEditEnd:V=>{I(!1),h.current=V.refocusCell,d(V.cancelled)},submitEdit:p??Ii}):r.createElement(r.Fragment,null,s.cell(i),L&&S&&r.createElement(r.Fragment,null,r.createElement("span",{className:k["body-cell-success"],onMouseDown:V=>{V.preventDefault()}},r.createElement(ye,{name:"status-positive",variant:"success",ariaLabel:(e=f==null?void 0:f.successfulEditLabel)===null||e===void 0?void 0:e.call(f,s)})),r.createElement(de,{tagName:"span",hidden:!0},m("ariaLabels.successfulEditLabel",(n=f==null?void 0:f.successfulEditLabel)===null||n===void 0?void 0:n.call(f,s)))),r.createElement("div",{className:k["body-cell-editor-wrapper"]},r.createElement("button",{className:F(k["body-cell-editor"],_&&k["body-cell-editor-focusable"]),"aria-label":(l=f==null?void 0:f.activateEditLabel)===null||l===void 0?void 0:l.call(f,s,i),ref:u,onClick:!a&&_?c:void 0,tabIndex:A},r.createElement("span",{className:k["body-cell-editor-icon"]},r.createElement(ye,{name:"edit"}))))))}function Ri(t){var e,n;const l=(n=(e=t.column.editConfig)===null||e===void 0?void 0:e.disabledReason)===null||n===void 0?void 0:n.call(e,t.item);if(l)return r.createElement(wi,Object.assign({editDisabledReason:l},t));if(t.isEditable||t.isEditing)return r.createElement(ki,Object.assign({},t));const{column:i,item:s}=t;return r.createElement(ze,Object.assign({},t,{isEditable:!1}),i.cell(s))}function Li(t){for(const e of t)Ut(e,"minWidth"),Ut(e,"width")}function qt(t,e){function n(l){const i=e[l];let s="";typeof i=="number"&&(s=i+"px"),typeof i=="string"&&(s=i),t.style[l]!==s&&(t.style[l]=s)}n("width"),n("minWidth"),n("maxWidth")}function Ut(t,e){const n=t[e];typeof n!="number"&&typeof n<"u"&&$e("Table",`resizableColumns feature requires ${e} property to be a number, got ${n}. The component may work incorrectly.`)}function Ti({items:t,expandableRows:e,trackBy:n,ariaLabels:l}){var i;const s=je("table"),a=!!e,c=new pl(n,(i=e==null?void 0:e.expandedItems)!==null&&i!==void 0?i:[]);let d=t;const p=new Map,f=o=>{var m,u;return(u=(m=p.get(o))===null||m===void 0?void 0:m.level)!==null&&u!==void 0?u:0};if(a){const o=new Array,m=(u,v)=>{const h=e.getItemChildren(u);p.set(u,Object.assign(Object.assign({},v),{children:h})),o.push(u),c.has(u)&&h.forEach((_,S)=>m(_,{level:v.level+1,setSize:h.length,posInSet:S+1,parent:u}))};t.forEach((u,v)=>m(u,{level:1,setSize:t.length,posInSet:v+1,parent:null}));for(let u=0;u<o.length;u++){const v=o[u];if(c.has(v)){let h=u+1;for(h;h<o.length;h++){const _=o[h];if(f(v)>=f(_))break}h--}}d=o}return{isExpandable:a,allItems:d,getExpandableItemProps:o=>{var m,u,v,h;const{level:_=1,setSize:S=1,posInSet:E=1,parent:w=null,children:x=[]}=(m=p.get(o))!==null&&m!==void 0?m:{};return{level:_,setSize:S,posInSet:E,isExpandable:(u=e==null?void 0:e.isItemExpandable(o))!==null&&u!==void 0?u:!0,isExpanded:c.has(o),onExpandableItemToggle:()=>qe(e==null?void 0:e.onExpandableItemToggle,{item:o,expanded:!c.has(o)}),expandButtonLabel:s("ariaLabels.expandButtonLabel",(v=l==null?void 0:l.expandButtonLabel)===null||v===void 0?void 0:v.call(l,o)),collapseButtonLabel:s("ariaLabels.collapseButtonLabel",(h=l==null?void 0:l.collapseButtonLabel)===null||h===void 0?void 0:h.call(l,o)),parent:w,children:x}}}}function Fi({totalColumnsCount:t,hasFooter:e,loading:n,loadingText:l,empty:i,tableRef:s,containerRef:a}){const c=b.useRef(null);return Ee(a,({contentBoxWidth:d})=>{if(s.current&&c.current){const p=parseFloat(getComputedStyle(s.current).paddingInlineStart)||0,f=parseFloat(getComputedStyle(s.current).paddingInlineEnd)||0,g=d+p+f;c.current.style.inlineSize=Math.floor(g)+"px"}}),r.createElement("td",{colSpan:t,className:F(R["cell-merged"],e&&R["has-footer"])},r.createElement("div",{ref:c,className:R["cell-merged-content"],"data-awsui-table-suppress-navigation":!0},n?r.createElement(ml,{type:"loading",className:R.loading,wrapText:!0},r.createElement(de,{tagName:"span"},l)):r.createElement("div",{className:R.empty},i)))}const Pi={"items-loader":"awsui_items-loader_115pt_16l07_5"};function zi({item:t,trackBy:e,children:n}){let l=t&&e?hl(e,t):void 0;return l=typeof l=="string"?l:void 0,r.createElement("div",{"data-root":t?"false":"true","data-parentrow":l,className:Pi["items-loader"]},n)}function Ai({item:t,loadingStatus:e,renderLoaderPending:n,renderLoaderLoading:l,renderLoaderError:i,renderLoaderEmpty:s}){let a=null;return e==="pending"&&n?a=n({item:t}):e==="loading"&&l?a=r.createElement(de,{tagName:"span"},l({item:t})):e==="error"&&i?a=r.createElement(de,{tagName:"span"},i({item:t})):e==="finished"&&s&&t?a=r.createElement(de,{tagName:"span"},s({item:t})):$e("Table","Must define `renderLoaderPending`, `renderLoaderLoading`, `renderLoaderError`, or `renderLoaderEmpty` when using corresponding loading status."),a}function Ni(t){var{item:e,trackBy:n,children:l}=t,i=ie(t,["item","trackBy","children"]);return r.createElement(ze,Object.assign({},i,{isEditable:!1,isEditing:!1}),i.isRowHeader?r.createElement(zi,{item:e,trackBy:n},l):null)}function Oi({items:t,getLoadingStatus:e,getExpandableItemProps:n}){const l=new Array,i=d=>n(d).parent,s=d=>n(d).children,a=d=>d?n(d).level:0,c=d=>n(d).isExpanded;for(let d=0;d<t.length;d++){if(l.push({type:"data",item:t[d]}),c(t[d])&&s(t[d]).length===0){const o=e==null?void 0:e(t[d]);o==="loading"||o==="finished"||o==="error"?l.push({type:"loader",item:t[d],level:a(t[d]),status:o,from:0}):$e("Table",'Expanded items without children must have "loading", "finished", or "error" loading status.')}let p=i(t[d]),f=a(t[d])-a(t[d+1]);for(;p&&f>0;){const o=e==null?void 0:e(p);if(o&&o!=="finished"){const m=p?a(p):0,u=p?s(p):[];l.push({type:"loader",item:p,level:m,status:o,from:u.length})}p=p&&i(p),f--}const g=e==null?void 0:e(null);d===t.length-1&&g&&g!=="finished"&&l.push({type:"loader",item:null,level:0,status:g,from:t.length})}return{allRows:l}}const ue=120;function Mi(t,e){const n=new Map;for(let l=0;l<e.length;l++){const i=e[l];let s=i.width||0;const a=i.minWidth||s||ue;if(!s&&l!==e.length-1){const c=t(i.id);s=c?j(c).inlineSize:ue}n.set(i.id,Math.max(s,a))}return n}function Di(t,e,n,l){const i=t.find(c=>c.id===l);let s=ue;if(typeof(i==null?void 0:i.width)=="number"&&i.width<ue&&(s=i==null?void 0:i.width),typeof(i==null?void 0:i.minWidth)=="number"&&(s=i==null?void 0:i.minWidth),n=Math.max(n,s),e.get(l)===n)return e;const a=new Map(e);return a.set(l,n),a}const vn=b.createContext({getColumnStyles:()=>({}),columnWidths:new Map,updateColumn:()=>{},setCell:()=>{}});function Wi({visibleColumns:t,resizableColumns:e,containerRef:n,children:l}){const i=b.useRef(null),s=b.useRef(0),[a,c]=b.useState(null),d=b.useRef(new Map),p=b.useRef(new Map),f=v=>{var h;return(h=d.current.get(v))!==null&&h!==void 0?h:null},g=(v,h,_)=>{const S=v?p:d;_?S.current.set(h,_):S.current.delete(h)},o=(v,h)=>{var _,S,E;const w=t.find(x=>x.id===h);if(!w)return{};if(v)return{width:((_=d.current.get(w.id))===null||_===void 0?void 0:_.getBoundingClientRect().width)||((S=a==null?void 0:a.get(w.id))!==null&&S!==void 0?S:w.width)};if(e&&a){const x=w.id===((E=t[t.length-1])===null||E===void 0?void 0:E.id),L=t.reduce((I,{id:A})=>I+(a.get(A)||ue),0);return x&&s.current>L?{width:"auto",minWidth:w==null?void 0:w.minWidth}:{width:a.get(w.id),minWidth:w==null?void 0:w.minWidth}}return{width:w.width,minWidth:w.minWidth,maxWidth:e?void 0:w.maxWidth}},m=_e(()=>{for(const{id:v}of t){const h=d.current.get(v);h&&qt(h,o(!1,v))}for(const{id:v}of t){const h=p.current.get(v);h&&qt(h,o(!0,v))}});Ee(n,({contentBoxWidth:v})=>{s.current=v,requestAnimationFrame(()=>m())}),b.useEffect(()=>{if(m(),!e)return;let v=!1;const h=new Map(a),_=i.current;if(_){for(let S=0;S<t.length;S++){const E=t[S];!(a!=null&&a.get(E.id))&&_.indexOf(E.id)===-1&&(v=!0,h.set(E.id,E.width||ue))}v&&c(h)}i.current=t.map(S=>S.id)},[a,e,t,m]),b.useEffect(()=>{e&&c(()=>Mi(f,t))},[]);function u(v,h){c(_=>Di(t,_??new Map,h,v))}return r.createElement(vn.Provider,{value:{getColumnStyles:o,columnWidths:a??new Map,updateColumn:u,setCell:g}},l)}function Bi(){return b.useContext(vn)}const J={"resize-active":"awsui_resize-active_x7peu_rfwei_145","resize-active-with-focus":"awsui_resize-active-with-focus_x7peu_rfwei_145",divider:"awsui_divider_x7peu_rfwei_150","divider-disabled":"awsui_divider-disabled_x7peu_rfwei_164","divider-active":"awsui_divider-active_x7peu_rfwei_167",resizer:"awsui_resizer_x7peu_rfwei_171","has-focus":"awsui_has-focus_x7peu_rfwei_225",tracker:"awsui_tracker_x7peu_rfwei_250"};function Hi(t){if(!t)return null;const e=Pe(t,a=>a.tagName.toLowerCase()==="th");if(!e)return null;const n=Pe(e,a=>a.className.indexOf(R.root)>-1);if(!n)return null;const l=n.querySelector("table");if(!l)return null;const i=n.querySelector(`.${J.tracker}`);if(!i)return null;const s=nn(e)[0];return s?{header:e,table:l,tracker:i,scrollParent:s}:null}function Kt(t){const e=t&&Pe(t,n=>n.tagName.toLowerCase()==="th");return e?j(e).inlineSize:0}const ji=10,$i=10,Vt=5;function gn({className:t}){return r.createElement("span",{className:F(J.divider,J["divider-disabled"],t)})}function qi({onWidthUpdate:t,onWidthUpdateCommit:e,ariaLabelledby:n,minWidth:l=ue,tabIndex:i,showFocusRing:s,focusId:a,roleDescription:c}){t=_e(t),e=_e(e);const d=ln(),p=b.useRef(null),f=b.useRef(null),[g,o]=b.useState(!1),[m,u]=b.useState(!1),v=b.useRef(),[h,_]=b.useState(!1),[S,E]=b.useState(0);b.useEffect(()=>{E(Kt(p.current))},[]),b.useEffect(()=>{var x,L;const I=Hi(p.current),A=(L=(x=p.current)===null||x===void 0?void 0:x.ownerDocument)!==null&&L!==void 0?L:window.document;if(!g&&!h||!I)return;const{insetInlineStart:V,insetInlineEnd:$}=j(I.scrollParent),P=C=>{const{insetInlineStart:N}=j(I.table);I.tracker.style.insetBlockStart=j(I.header).blockSize+"px",I.tracker.style.insetInlineStart=C-N-1+"px"},q=C=>{const{insetInlineEnd:N,inlineSize:O}=j(I.header),X=C<l?l:C;P(N+X-O),C>=l&&E(C),t(C)},Q=C=>{if(C>V){const N=j(I.header).insetInlineStart,O=C-N;q(O)}},G=()=>{const C=j(I.header).inlineSize;v.current=setTimeout(G,$i),q(C+Vt),I.scrollParent.scrollLeft+=Vt*(_l(I.scrollParent)?-1:1)},U=C=>{clearTimeout(v.current);const N=Ht(C);N>$?v.current=setTimeout(G,ji):Q(N)},K=C=>{Q(Ht(C)),o(!1),e(),clearTimeout(v.current)},D=C=>{m?[M.left,M.right,M.enter,M.right,M.space,M.escape].indexOf(C.keyCode)!==-1&&(C.preventDefault(),vt(C)&&gt(C,{onActivate:()=>{var O;u(!1),(O=p.current)===null||O===void 0||O.focus()},onEscape:()=>{var O;u(!1),(O=p.current)===null||O===void 0||O.focus()},onInlineStart:()=>q(j(I.header).inlineSize-10),onInlineEnd:()=>q(j(I.header).inlineSize+10)})):(C.keyCode===M.enter||C.keyCode===M.space)&&(C.preventDefault(),vt(C)&&gt(C,{onActivate:()=>{var N;u(!0),(N=f.current)===null||N===void 0||N.focus()}}))};P(j(I.header).insetInlineEnd);const W=new AbortController;return g&&(A.body.classList.add(J["resize-active"]),A.addEventListener("mousemove",U,{signal:W.signal}),A.addEventListener("mouseup",K,{signal:W.signal})),h&&(A.body.classList.add(J["resize-active-with-focus"]),I.header.addEventListener("keydown",D,{signal:W.signal})),m&&A.body.classList.add(J["resize-active"]),()=>{clearTimeout(v.current),A.body.classList.remove(J["resize-active"]),A.body.classList.remove(J["resize-active-with-focus"]),W.abort()}},[l,g,m,h,t,e]);const{tabIndex:w}=be(p,{tabIndex:i});return r.createElement(r.Fragment,null,r.createElement("button",{ref:p,className:F(J.resizer,(h||s||m)&&J["has-focus"]),onMouseDown:x=>{x.button===0&&(x.preventDefault(),o(!0))},onClick:()=>{var x;o(!1),_(!0),u(!0),(x=f.current)===null||x===void 0||x.focus()},onFocus:()=>{E(Kt(p.current)),_(!0)},onBlur:x=>{x.relatedTarget!==f.current&&_(!1)},"aria-roledescription":c,"aria-labelledby":n,tabIndex:w,"data-focus-id":a}),r.createElement("span",{className:F(J.divider,g&&J["divider-active"]),"data-awsui-table-suppress-navigation":!0,ref:f,id:d,role:"slider",tabIndex:-1,"aria-labelledby":n,"aria-hidden":!m,"aria-valuemin":l,"aria-valuemax":Number.MAX_SAFE_INTEGER,"aria-valuenow":S,"data-focus-id":a,onBlur:()=>{_(!1),m&&u(!1),e()}}))}function Ui(){return r.createElement("span",{className:J.tracker})}const z={"header-cell":"awsui_header-cell_1spae_zgxxo_149","header-cell-fake-focus":"awsui_header-cell-fake-focus_1spae_zgxxo_183","header-cell-sticky":"awsui_header-cell-sticky_1spae_zgxxo_204","header-cell-stuck":"awsui_header-cell-stuck_1spae_zgxxo_207","header-cell-variant-full-page":"awsui_header-cell-variant-full-page_1spae_zgxxo_207","header-cell-hidden":"awsui_header-cell-hidden_1spae_zgxxo_213","header-cell-variant-embedded":"awsui_header-cell-variant-embedded_1spae_zgxxo_216","is-visual-refresh":"awsui_is-visual-refresh_1spae_zgxxo_216","sticky-cell":"awsui_sticky-cell_1spae_zgxxo_216","header-cell-variant-borderless":"awsui_header-cell-variant-borderless_1spae_zgxxo_216","header-cell-sortable":"awsui_header-cell-sortable_1spae_zgxxo_219","sticky-cell-pad-left":"awsui_sticky-cell-pad-left_1spae_zgxxo_240","has-selection":"awsui_has-selection_1spae_zgxxo_240","sticky-cell-last-inline-start":"awsui_sticky-cell-last-inline-start_1spae_zgxxo_243","resize-divider":"awsui_resize-divider_1spae_zgxxo_248","sticky-cell-last-inline-end":"awsui_sticky-cell-last-inline-end_1spae_zgxxo_255","sorting-icon":"awsui_sorting-icon_1spae_zgxxo_265","edit-icon":"awsui_edit-icon_1spae_zgxxo_273","header-cell-content":"awsui_header-cell-content_1spae_zgxxo_279","header-cell-content-expandable":"awsui_header-cell-content-expandable_1spae_zgxxo_285","header-cell-disabled":"awsui_header-cell-disabled_1spae_zgxxo_337","header-cell-sorted":"awsui_header-cell-sorted_1spae_zgxxo_337","header-cell-text":"awsui_header-cell-text_1spae_zgxxo_351","header-cell-text-wrap":"awsui_header-cell-text-wrap_1spae_zgxxo_355","header-cell-ascending":"awsui_header-cell-ascending_1spae_zgxxo_361","header-cell-descending":"awsui_header-cell-descending_1spae_zgxxo_362","has-striped-rows":"awsui_has-striped-rows_1spae_zgxxo_476","sticky-cell-pad-inline-start":"awsui_sticky-cell-pad-inline-start_1spae_zgxxo_476"};function pn(t){var{resizableStyle:e,sortingStatus:n,sortingDisabled:l,focusedComponent:i,stuck:s,sticky:a,hidden:c,stripedRows:d,isSelection:p,colIndex:f,columnId:g,stickyState:o,cellRef:m,tableRole:u,children:v,variant:h,ariaLabel:_}=t,S=ie(t,["resizableStyle","sortingStatus","sortingDisabled","focusedComponent","stuck","sticky","hidden","stripedRows","isSelection","colIndex","columnId","stickyState","cellRef","tableRole","children","variant","ariaLabel"]);const E=fn({stickyColumns:o,columnId:g,getClassName:I=>en(z,I)}),w=b.useRef(null),x=oe(E.ref,m,w),{tabIndex:L}=be(w);return r.createElement("th",Object.assign({"data-focus-id":`header-${String(g)}`,className:F(z["header-cell"],z[`header-cell-variant-${h}`],a&&z["header-cell-sticky"],s&&z["header-cell-stuck"],d&&z["has-striped-rows"],z["is-visual-refresh"],p&&F(R["selection-control"],R["selection-control-header"]),{[z["header-cell-fake-focus"]]:i===`header-${String(g)}`,[z["header-cell-sortable"]]:n,[z["header-cell-sorted"]]:n==="ascending"||n==="descending",[z["header-cell-disabled"]]:l,[z["header-cell-ascending"]]:n==="ascending",[z["header-cell-descending"]]:n==="descending",[z["header-cell-hidden"]]:c},E.className),style:Object.assign(Object.assign({},e),E.style),ref:x},bi({tableRole:u,sortingStatus:n,colIndex:f}),{tabIndex:L===-1?void 0:L},Jt(S),_?{"aria-label":_}:{}),v)}function Ki(t){var{focusedComponent:e,singleSelectionHeaderAriaLabel:n,getSelectAllProps:l,onFocusMove:i}=t,s=ie(t,["focusedComponent","singleSelectionHeaderAriaLabel","getSelectAllProps","onFocusMove"]);const a=l?l():void 0;return r.createElement(pn,Object.assign({},s,{isSelection:!0,colIndex:0,focusedComponent:e,ariaLabel:a==null?void 0:a.selectionGroupLabel},ht({action:a!=null&&a.checked?"deselectAll":"selectAll"})),a?r.createElement(sn,Object.assign({onFocusDown:c=>{i(c.target,-1,1)},focusedComponent:e},a,s.sticky?{tabIndex:-1}:{})):r.createElement(yl,null,n),r.createElement(gn,{className:R["resize-divider"]}))}function Gt(t){var{selectionControlProps:e}=t,n=ie(t,["selectionControlProps"]);return r.createElement(ze,Object.assign({},n,{isSelection:!0,wrapLines:!1,isEditable:!1,isEditing:!1,colIndex:0}),e?r.createElement(sn,Object.assign({},e,{verticalAlign:n.verticalAlign})):null)}const Xt={"header-cell-text":"awsui_header-cell-text_dpuyq_1id1o_5"};function Vi({tabIndex:t,column:e,activeSortingColumn:n,sortingDescending:l,sortingDisabled:i,wrapLines:s,focusedComponent:a,stuck:c,sticky:d,hidden:p,stripedRows:f,onClick:g,colIndex:o,updateColumn:m,resizableColumns:u,resizableStyle:v,onResizeFinish:h,isEditable:_,columnId:S,stickyState:E,cellRef:w,tableRole:x,resizerRoleDescription:L,isExpandable:I,hasDynamicContent:A,variant:V}){var $;const P=je("table"),q=!!e.sortingComparator||!!e.sortingField,Q=!!n&&dn(e,n),G=Xl(q,Q,!!l,!!i),U=()=>g({sortingColumn:e,isDescending:Q?!l:!1}),K=({nativeEvent:X})=>{(X.keyCode===M.enter||X.keyCode===M.space)&&(X.preventDefault(),U())},D=ln("table-header-"),W=b.useRef(null),{tabIndex:C}=be(W,{tabIndex:t}),N=b.useRef(null),O=oe(w,N);return Ee(A?N:()=>null,X=>{m(S,X.borderBoxWidth)}),r.createElement(pn,Object.assign({resizableStyle:v,cellRef:O,sortingStatus:G,sortingDisabled:i,focusedComponent:a,stuck:c,sticky:d,hidden:p,stripedRows:f,colIndex:o,columnId:S,stickyState:E,tableRole:x,variant:V},i?{}:ht({action:"sort",detail:{position:`${o+1}`,columnId:e.id?`${e.id}`:"",label:`.${Xt["header-cell-text"]}`,sortingDescending:`${!l}`}})),r.createElement("div",Object.assign({ref:W,"data-focus-id":`sorting-control-${String(S)}`,className:F(z["header-cell-content"],{[z["header-cell-fake-focus"]]:a===`sorting-control-${String(S)}`,[z["header-cell-content-expandable"]]:I}),"aria-label":e.ariaLabel?e.ariaLabel({sorted:Q,descending:Q&&!!l,disabled:!!i}):void 0},G&&!i?{onKeyPress:K,tabIndex:C,role:"button",onClick:U}:{}),r.createElement("div",{className:F(z["header-cell-text"],Xt["header-cell-text"],s&&z["header-cell-text-wrap"]),id:D},e.header,_?r.createElement("span",{className:z["edit-icon"]},r.createElement(ye,{name:"edit",ariaLabel:P("columnDefinitions.editConfig.editIconAriaLabel",($=e.editConfig)===null||$===void 0?void 0:$.editIconAriaLabel)})):null),G&&r.createElement("span",{className:z["sorting-icon"]},r.createElement(ye,{name:Ql(G)}))),u?r.createElement(qi,{tabIndex:t,focusId:`resize-control-${String(S)}`,showFocusRing:a===`resize-control-${String(S)}`,onWidthUpdate:X=>m(S,X),onWidthUpdateCommit:h,ariaLabelledby:D,minWidth:typeof e.minWidth=="string"?parseInt(e.minWidth):e.minWidth,roleDescription:P("ariaLabels.resizerRoleDescription",L)}):r.createElement(gn,{className:z["resize-divider"]}))}const mn=r.forwardRef(({selectionType:t,getSelectAllProps:e,columnDefinitions:n,sortingColumn:l,sortingDisabled:i,sortingDescending:s,resizableColumns:a,variant:c,wrapLines:d,onFocusMove:p,onSortingChange:f,onResizeFinish:g,singleSelectionHeaderAriaLabel:o,stripedRows:m,sticky:u=!1,hidden:v=!1,stuck:h=!1,stickyState:_,selectionColumnId:S,focusedComponent:E,onFocusedComponentChange:w,tableRole:x,resizerRoleDescription:L,isExpandable:I,setLastUserAction:A},V)=>{const{getColumnStyles:$,columnWidths:P,updateColumn:q,setCell:Q}=Bi(),G={stuck:h,sticky:u,hidden:v,stripedRows:m,tableRole:x,variant:c,stickyState:_};return r.createElement("thead",{className:F(!v&&R["thead-active"])},r.createElement("tr",Object.assign({},pt.all,{ref:V,"aria-rowindex":1},ui({tableRole:x}),{onFocus:U=>{var K;const D=Pe(U.target,C=>!!C.getAttribute("data-focus-id")),W=(K=D==null?void 0:D.getAttribute("data-focus-id"))!==null&&K!==void 0?K:null;w==null||w(W)},onBlur:()=>w==null?void 0:w(null)}),t?r.createElement(Ki,Object.assign({},G,{focusedComponent:E,columnId:S,getSelectAllProps:e,onFocusMove:p,singleSelectionHeaderAriaLabel:o})):null,n.map((U,K)=>{const D=Fe(U,K);return r.createElement(Vi,Object.assign({},G,{key:D,tabIndex:u?-1:0,focusedComponent:E,column:U,activeSortingColumn:l,sortingDescending:s,sortingDisabled:i,wrapLines:d,colIndex:t?K+1:K,columnId:D,updateColumn:q,onResizeFinish:()=>g(P),resizableColumns:a,resizableStyle:$(u,D),onClick:W=>{A("sorting"),qe(f,W)},isEditable:!!U.editConfig,cellRef:W=>Q(u,D,W),tableRole:x,resizerRoleDescription:L,isExpandable:K===0&&I,hasDynamicContent:v&&!a&&U.hasDynamicContent}))})))}),Gi=(t,e,n,l,i)=>{const s=an(),a=b.useCallback(()=>{t.current&&e.current&&n.current&&l.current&&i.current&&(l.current.style.inlineSize=`${t.current.getBoundingClientRect().width}px`,i.current.style.marginBlockStart=`-${e.current.getBoundingClientRect().height}px`)},[e,n,l,i,t]);b.useLayoutEffect(()=>{a()}),Ee(e,a);const c=()=>{if(!s&&e.current&&n.current&&i.current){const f=El(e.current,n.current);f>0&&Sl(f,i.current)}},{scrollToItem:d}=wl(i,n);return{scrollToRow:f=>{s||d(f)},scrollToTop:c}},Xi=b.forwardRef(Qi);function Qi({variant:t,theadProps:e,wrapperRef:n,theadRef:l,secondaryWrapperRef:i,onScroll:s,tableRef:a,tableHasHeader:c,contentDensity:d,tableRole:p},f){const g=b.useRef(null),o=b.useRef(null),{isStuck:m}=b.useContext(xl),[u,v]=b.useState(null),{scrollToRow:h,scrollToTop:_}=Gi(a,l,g,o,n);return b.useImperativeHandle(f,()=>({scrollToTop:_,scrollToRow:h,setFocus:v})),r.createElement("div",{className:F(R["header-secondary"],R[`variant-${t}`],{[R["table-has-header"]]:c}),"aria-hidden":!0,tabIndex:-1,ref:i,onScroll:s},r.createElement("table",Object.assign({className:F(R.table,R["table-layout-fixed"],d==="compact"&&rn("compact-table")),ref:o},bn({tableRole:p})),r.createElement(mn,Object.assign({ref:g,sticky:!0,stuck:m,focusedComponent:u},e))))}const ce={"sticky-scrollbar":"awsui_sticky-scrollbar_faqt8_1f4oq_181","sticky-scrollbar-content":"awsui_sticky-scrollbar-content_faqt8_1f4oq_193","sticky-scrollbar-visible":"awsui_sticky-scrollbar-visible_faqt8_1f4oq_196","sticky-scrollbar-native-invisible":"awsui_sticky-scrollbar-native-invisible_faqt8_1f4oq_199","sticky-scrollbar-offset":"awsui_sticky-scrollbar-offset_faqt8_1f4oq_202","is-visual-refresh":"awsui_is-visual-refresh_faqt8_1f4oq_205"},Qt=(t,e,n,l,i)=>{if(!t||!n||!e)return;const{inlineSize:s}=j(t),{inlineSize:a}=j(e),c=on().height;if(s>a?(n.classList.contains(ce["sticky-scrollbar-visible"])||requestAnimationFrame(()=>{n.scrollLeft=e.scrollLeft}),n.classList.add(ce["sticky-scrollbar-visible"]),c||n.classList.add(ce["sticky-scrollbar-native-invisible"])):n.classList.remove(ce["sticky-scrollbar-visible"]),c&&n&&l&&(n.style.blockSize=`${c}px`,l.style.blockSize=`${c}px`),t&&e&&l&&n){const p=j(e),f=j(t);n.style.inlineSize=`${p.inlineSize}px`,l.style.inlineSize=`${f.inlineSize}px`,n.style.insetBlockEnd=i?"0px":`var(${kl.stickyVerticalBottomOffset}, 0px)`}};function Yi(t,e,n,l,i){const[s,a]=b.useState(!1),c=l.current;b.useEffect(()=>{c&&a(!!Cl(c)||!!nn(c)[0])},[c]),b.useEffect(()=>{if(l.current&&n.current){const d=new Il(()=>{e.current&&Qt(n.current,l.current,t.current,e.current,s)});return d.observe(l.current),d.observe(n.current),()=>{d.disconnect()}}},[e,t,n,l,s,i]),b.useEffect(()=>{const d=()=>{Qt(n.current,l.current,t.current,e.current,s)};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[n,l,t,e,s])}const Zi=b.forwardRef(Ji);function Ji({wrapperRef:t,tableRef:e,onScroll:n,hasStickyColumns:l},i){const s=r.useRef(null),a=r.useRef(null),c=oe(i,s),d=l||on().height===0;Yi(s,a,e,t,d);const{ref:p,isIntersecting:f}=Rl();return r.createElement(r.Fragment,null,r.createElement("div",{ref:c,className:F(ce["sticky-scrollbar"],d&&ce["sticky-scrollbar-offset"],ce["is-visual-refresh"]),onScroll:n,"data-stuck":!f},r.createElement("div",{ref:a,className:ce["sticky-scrollbar-content"]})),r.createElement("div",{ref:p,style:{position:"absolute",right:0,bottom:0,left:0,height:1}}))}function es({onCancel:t,onSubmit:e}){const[n,l]=b.useState(null),[i,s]=b.useState(null),[a,c]=b.useState(!1),d=u=>{s(null),l(u)},p=b.useCallback(()=>l(null),[]);return{isLoading:a,startEdit:d,cancelEdit:p,checkEditing:({row:u,col:v})=>u===(n==null?void 0:n.row)&&v===n.col,checkLastSuccessfulEdit:({row:u,col:v})=>u===(i==null?void 0:i.row)&&v===i.col,completeEdit:(u,v)=>{cn(t,{})||(l(null),v||s(u))},submitEdit:e?(...u)=>tn(this,void 0,void 0,function*(){c(!0);try{yield e(...u)}finally{c(!1)}}):void 0}}var We,Be,fe;const Yt=`.${k["sticky-cell"]}`,ts=50;function ns(t){b.useEffect(()=>{if(t.current){const e=t.current,n=new ls,l=s=>{s.target&&s.target instanceof HTMLElement&&(s.target.matches(Yt)||s.target.closest(Yt))&&n.set(e.scrollLeft)};e.addEventListener("click",l);const i=()=>{n.active&&(e.scrollLeft=n.scrollLeft,n.clear())};return e.addEventListener("scroll",i),()=>{e.removeEventListener("click",l),e.removeEventListener("scroll",i)}}},[t])}class ls{constructor(){We.set(this,setTimeout(()=>{},0)),Be.set(this,0),fe.set(this,!1)}set(e){De(this,fe,"f")||(Le(this,fe,!0,"f"),Le(this,Be,e,"f"),Le(this,We,setTimeout(()=>Le(this,fe,!1,"f"),ts),"f"))}clear(){Le(this,fe,!1,"f"),clearTimeout(De(this,We,"f"))}get active(){return De(this,fe,"f")}get scrollLeft(){return De(this,Be,"f")}}We=new WeakMap,Be=new WeakMap,fe=new WeakMap;function is({onRowClick:t,onRowContextMenu:e}){return{onRowClickHandler:t&&((i,s,a)=>{const c=Pe(a.target,d=>d.tagName.toLowerCase()==="td");(!c||!c.classList.contains(R["selection-control"]))&&qe(t,{rowIndex:i,item:s})}),onRowContextMenuHandler:e&&((i,s,a)=>{const c={rowIndex:i,item:s,clientX:a.clientX,clientY:a.clientY};cn(e,c,a)})}}function ss(t,e){t.querySelectorAll("tr").forEach((n,l)=>{n.querySelectorAll("td").forEach((i,s)=>{e(i,l,s)})})}function as({enableKeyboardNavigation:t,selectionType:e,tableRoot:n,columnDefinitions:l,numRows:i}){const s=b.useMemo(()=>{const g=l.map(o=>!!o.editConfig);return e&&g.unshift(!1),g},[l,e]),a=s.length-1,c=e?1:0,d=b.useCallback((g,o)=>{n!=null&&n.current&&ss(n.current,(m,u,v)=>{var h;if(u===g&&v===o){const _=m.querySelector("button:last-child");_&&((h=_.focus)===null||h===void 0||h.call(_),Ll(_))}})},[n]),p=b.useCallback((g,o)=>{var m;const u=(m=n.current)===null||m===void 0?void 0:m.querySelector("td:focus-within");if(!u)return;const v=u.cellIndex,h=u.parentElement.rowIndex;let _=h,S=v;if(g!==0&&(_=Math.min(i,Math.max(h+g,0))),o!==0)for(;S<=a&&S>=c&&(S+=o,!s[S]););(h!==_||v!==S)&&n.current&&d(_,S)},[d,s,a,c,i,n]),f=b.useCallback(g=>{var o,m;if(!(!((o=n.current)===null||o===void 0)&&o.querySelector('[data-inline-editing-active = "true"]')||!(!((m=document.activeElement)===null||m===void 0)&&m.closest("[data-inline-editing-active]"))))switch(g.key){case"ArrowUp":g.preventDefault(),p(-1,0);break;case"ArrowDown":g.preventDefault(),p(1,0);break;case"ArrowLeft":g.preventDefault(),p(0,-1);break;case"ArrowRight":g.preventDefault(),p(0,1);break;default:return}},[p,n]);b.useEffect(()=>{if(!n.current||t)return;const g=n.current;return n.current.addEventListener("keydown",f),()=>g&&g.removeEventListener("keydown",f)},[t,s,f,n])}const rs=10,os=54,Te=Symbol("selection-column-id"),gs=r.forwardRef((t,e)=>{const{funnelSubStepProps:n}=Ul(),l=Object.assign(Object.assign({},t),{__funnelSubStepProps:n});return r.createElement(cs,Object.assign({},l,{ref:e}))}),cs=r.forwardRef((t,e)=>{var n,l,i,{header:s,footer:a,empty:c,filter:d,pagination:p,preferences:f,items:g,columnDefinitions:o,trackBy:m,loading:u,loadingText:v,selectionType:h,selectedItems:_,isItemDisabled:S,ariaLabels:E,onSelectionChange:w,onSortingChange:x,sortingColumn:L,sortingDescending:I,sortingDisabled:A,visibleColumns:V,stickyHeader:$,stickyHeaderVerticalOffset:P,onRowClick:q,onRowContextMenu:Q,wrapLines:G,stripedRows:U,contentDensity:K,submitEdit:D,onEditCancel:W,resizableColumns:C,onColumnWidthsChange:N,variant:O,__internalRootRef:X,totalItemsCount:Se,firstIndex:ve,renderAriaLive:we,stickyColumns:B,columnDisplay:Ue,enableKeyboardNavigation:xe,expandableRows:_t,getLoadingStatus:hn,renderLoaderPending:_n,renderLoaderLoading:yn,renderLoaderError:En,renderLoaderEmpty:Sn,cellVerticalAlign:Ke,__funnelSubStepProps:wn}=t,Ve=ie(t,["header","footer","empty","filter","pagination","preferences","items","columnDefinitions","trackBy","loading","loadingText","selectionType","selectedItems","isItemDisabled","ariaLabels","onSelectionChange","onSortingChange","sortingColumn","sortingDescending","sortingDisabled","visibleColumns","stickyHeader","stickyHeaderVerticalOffset","onRowClick","onRowContextMenu","wrapLines","stripedRows","contentDensity","submitEdit","onEditCancel","resizableColumns","onColumnWidthsChange","variant","__internalRootRef","totalItemsCount","firstIndex","renderAriaLive","stickyColumns","columnDisplay","enableKeyboardNavigation","expandableRows","getLoadingStatus","renderLoaderPending","renderLoaderLoading","renderLoaderError","renderLoaderEmpty","cellVerticalAlign","__funnelSubStepProps"]);_t&&xe===void 0&&(xe=!0);const yt=Tl(Ve),Ge=mt($);Ge!==void 0&&!!$!=!!Ge&&$e("Table",`\`stickyHeader\` has changed from "${Ge}" to "${$}". It is not recommended to change the value of this property during the component lifecycle. Please set it to either "true" or "false" unconditionally.`);const xn=an(),{isExpandable:Xe,allItems:Ce,getExpandableItemProps:Et}=Ti({items:g,expandableRows:_t,trackBy:m,ariaLabels:E}),{allRows:te}=Oi({items:Ce,getLoadingStatus:hn,getExpandableItemProps:Et}),[St,Cn]=ft(y=>y.contentBoxWidth),Qe=b.useRef(null),In=oe(Cn,Qe),[wt,kn]=ft(y=>y.contentBoxWidth),se=b.useRef(null),xt=r.useRef(null),Ct=b.useRef(null),Ae=r.useRef(null),It=r.useRef(null),kt=es({onCancel:W,onSubmit:D}),{cancelEdit:Rt}=kt,ge=ie(kt,["cancelEdit"]),Ye=b.useRef({}),Ze=b.useRef({}),Je=()=>{var y,T,ee,Y;return(ee=(T=(y=Oe.current)===null||y===void 0?void 0:y.querySelector(`.${jt["heading-text"]}`))===null||T===void 0?void 0:T.innerText)!==null&&ee!==void 0?ee:(Y=Oe.current)===null||Y===void 0?void 0:Y.innerText},Rn=()=>{var y;return!((y=Oe.current)===null||y===void 0)&&y.querySelector(`.${jt.actions} .${Kl.button}`)?"table-with-actions":""},Ln=Fl("table",()=>!u,se,()=>({loading:u??!1,header:Je()}),[u]),ne=Pl(Ve),Tn=()=>{const y=Ze.current,T=Ye.current;return JSON.stringify({filterData:y,paginationData:T,sortingColumn:L==null?void 0:L.sortingField,sortingOrder:L?I?"Descending":"Ascending":void 0})},Fn=()=>{var y,T;const ee=Ze.current,Y=Ye.current;return{variant:O,flowType:(y=Ve.analyticsMetadata)===null||y===void 0?void 0:y.flowType,instanceIdentifier:ne==null?void 0:ne.instanceIdentifier,taskName:(T=ne==null?void 0:ne.instanceIdentifier)!==null&&T!==void 0?T:Je(),patternIdentifier:Rn(),sortedBy:{columnId:L==null?void 0:L.sortingField,sortingOrder:L?I?"desc":"asc":void 0},filtered:!!(ee!=null&&ee.filterText),currentPageIndex:Y.currentPageIndex,totalNumberOfResources:Y.totalPageCount,resourcesPerPage:(te==null?void 0:te.length)||0,resourcesSelected:(_==null?void 0:_.length)>0}},{setLastUserAction:Lt,tableInteractionAttributes:Pn}=Jl({elementRef:se,loading:u,instanceIdentifier:ne==null?void 0:ne.instanceIdentifier,itemCount:g.length,getComponentIdentifier:Je,getComponentConfiguration:Fn,interactionMetadata:Tn});b.useImperativeHandle(e,()=>{var y;return{scrollToTop:((y=Ae.current)===null||y===void 0?void 0:y.scrollToTop)||(()=>{}),cancelEdit:Rt}},[Rt]);const Ie=b.useRef(null),et=Yl([Ie,It,xt]),{moveFocusDown:zn,moveFocusUp:An,moveFocus:Nn}=zl(h,Ce.length),{onRowClickHandler:Tt,onRowContextMenuHandler:Ft}=is({onRowClick:q,onRowContextMenu:Q}),ae=Al({columnDefinitions:o,columnDisplay:Ue,visibleColumns:V}),{isItemSelected:On,getSelectAllProps:Mn,getItemSelectionProps:tt}=Nl({items:Ce,trackBy:m,selectedItems:_,selectionType:h,isItemDisabled:S,onSelectionChange:w,ariaLabels:E,loading:u}),nt=y=>y.type==="data"&&On(y.item);C&&Li(o),L!=null&&L.sortingComparator&&Ol(o,L.sortingComparator);const pe=O,lt=!!(s||d||p||f),me=!!h,it=xn&&O==="full-page"&&!!p,Ne=!!a||it,st=b.useRef(void 0),Pt=!(E!=null&&E.tableLabel)&&!!s&&st.current?st.current:void 0,Dn=b.useCallback(y=>{st.current=y},[]),at=[],rt=[];me&&(at.push({id:Te,width:os}),rt.push(Te));for(let y=0;y<ae.length;y++){const T=Fe(ae[y],y);at.push(Object.assign(Object.assign({},ae[y]),{id:T})),rt.push(T)}const ke=ai({visibleColumns:rt,stickyColumnsFirst:((n=B==null?void 0:B.first)!==null&&n!==void 0?n:0)+(B!=null&&B.first&&me?1:0),stickyColumnsLast:(B==null?void 0:B.last)||0}),Wn=((l=B==null?void 0:B.first)!==null&&l!==void 0?l:0)+((i=B==null?void 0:B.last)!==null&&i!==void 0?i:0)>0,Bn=!!o.find(y=>y.editConfig);let re="table";Xe?re="treegrid":xe?re="grid":Bn&&(re="grid-default");const zt={selectionType:h,getSelectAllProps:Mn,columnDefinitions:ae,variant:pe,wrapLines:G,resizableColumns:C,sortingColumn:L,sortingDisabled:A,sortingDescending:I,onSortingChange:x,onFocusMove:Nn,onResizeFinish(y){const T=o.map((Y,he)=>y.get(Fe(Y,he))||Y.width||ue);T.some((Y,he)=>o[he].width!==Y)&&qe(N,{widths:T})},singleSelectionHeaderAriaLabel:E==null?void 0:E.selectionGroupLabel,resizerRoleDescription:E==null?void 0:E.resizerRoleDescription,stripedRows:U,stickyState:ke,selectionColumnId:Te,tableRole:re,isExpandable:Xe,setLastUserAction:Lt};ns(Ie);const Hn=oe(Ie,ke.refs.wrapper),jn=oe(kn,se,ke.refs.table),$n=di({isScrollable:!!(wt&&St&&wt>St),ariaLabel:E==null?void 0:E.tableLabel,ariaLabelledby:Pt}),qn=Ml();as({enableKeyboardNavigation:xe,selectionType:h,tableRoot:se,columnDefinitions:ae,numRows:te==null?void 0:te.length});const Oe=b.useRef(null),[ot,Un]=ft(y=>y.borderBoxHeight),Kn=oe(Oe,Un),ct=h?1:0,At=ae.length+ct;return r.createElement(Dl.Provider,{value:{defaultVariant:"primary"}},r.createElement(Wl,{value:{paginationRef:Ye,filterRef:Ze}},r.createElement(Wi,{visibleColumns:at,resizableColumns:C,containerRef:Qe},r.createElement(Bl,Object.assign({},yt,Pn,{__internalRootRef:X,className:F(yt.className,R.root),__funnelSubStepProps:wn,__fullPage:O==="full-page",header:r.createElement(r.Fragment,null,lt&&r.createElement("div",null,r.createElement("div",{ref:Kn,className:F(R["header-controls"],R[`variant-${pe}`])},r.createElement(jl.Provider,{value:{assignId:Dn}},r.createElement($l,{header:s,filter:d,pagination:p,preferences:f,setLastUserAction:Lt})))),$&&r.createElement(Xi,{ref:Ae,variant:pe,theadProps:zt,wrapperRef:Ie,theadRef:Ct,secondaryWrapperRef:xt,tableRef:se,onScroll:et,tableHasHeader:lt,contentDensity:K,tableRole:re})),disableHeaderPaddings:!0,disableContentPaddings:!0,variant:Hl(pe),__disableFooterPaddings:!0,__disableFooterDivider:!0,__disableStickyMobile:!1,footer:Ne?r.createElement("div",{className:F(R["footer-wrapper"],R[`variant-${pe}`])},r.createElement("div",{className:F(R.footer,it&&R["footer-with-pagination"])},a&&r.createElement("span",null,a),it&&r.createElement("div",{className:R["footer-pagination"]},p))):null,__stickyHeader:$,__mobileStickyOffset:ot??0,__stickyOffset:P},pt.root),r.createElement("div",Object.assign({ref:Hn,className:F(R.wrapper,R[`variant-${pe}`],{[R["has-footer"]]:Ne,[R["has-header"]]:lt}),style:ke.style.wrapper,onScroll:et},$n),r.createElement("div",{className:R["wrapper-content-measure"],ref:In}),!!we&&!!ve&&r.createElement(de,{hidden:!0,tagName:"span"},r.createElement("span",null,we({firstIndex:ve,lastIndex:ve+g.length-1,visibleItemsCount:Ce.length,totalItemsCount:Se}))),r.createElement(yi,{keyboardNavigation:!!xe,pageSize:rs,getTable:()=>se.current},r.createElement("table",Object.assign({},Ln,{ref:jn,className:F(R.table,C&&R["table-layout-fixed"],K==="compact"&&rn("compact-table"))},bn({tableRole:re,totalItemsCount:Se,totalColumnsCount:At,ariaLabel:E==null?void 0:E.tableLabel,ariaLabelledby:Pt})),r.createElement(mn,Object.assign({ref:Ct,hidden:$,onFocusedComponentChange:y=>{var T;return(T=Ae.current)===null||T===void 0?void 0:T.setFocus(y)}},zt)),r.createElement("tbody",null,u||Ce.length===0?r.createElement("tr",null,r.createElement(Fi,{totalColumnsCount:At,hasFooter:Ne,loading:u,loadingText:v,empty:c,tableRef:se,containerRef:Qe})):te.map((y,T)=>{const ee=T===0,Y=T===te.length-1,he=y.type==="data"?Et(y.item):void 0,Nt=fi(Object.assign({tableRole:re,firstIndex:ve,rowIndex:T,level:y.type==="loader"?y.level:void 0},he)),Ot=le=>ql(m,le,T),Re={isFirstRow:ee,isLastRow:Y,isSelected:me&&nt(y),isPrevSelected:me&&!ee&&nt(te[T-1]),isNextSelected:me&&!Y&&nt(te[T+1]),isEvenRow:T%2===0,stripedRows:U,hasSelection:me,hasFooter:Ne,stickyState:ke,tableRole:re};if(y.type==="data"){const le=`${Ot(y.item)}`;return r.createElement("tr",Object.assign({key:le,className:F(R.row,Re.isSelected&&R["row-selected"]),onFocus:({currentTarget:H})=>{var Z;H.contains(qn())||(Z=Ae.current)===null||Z===void 0||Z.scrollToRow(H)}},pt.item,{onClick:Tt&&Tt.bind(null,T,y.item),onContextMenu:Ft&&Ft.bind(null,T,y.item)},Nt),tt&&r.createElement(Gt,Object.assign({},Re,{columnId:Te,selectionControlProps:Object.assign(Object.assign({},tt(y.item)),{onFocusDown:zn,onFocusUp:An,rowIndex:T,itemKey:le}),verticalAlign:Ke})),ae.map((H,Z)=>{var dt,ut;const Dt=`${Fe(H,Z)}`,Me={row:le,col:Dt},Vn=ge.checkEditing(Me),Gn=ge.checkLastSuccessfulEdit(Me),Xn=!!H.editConfig&&!ge.isLoading,Qn=Xe&&Z===0?he:void 0,Yn={component:{innerContext:{position:`${T+1},${Z+1}`,columnId:H.id?`${H.id}`:"",columnLabel:{selector:`table thead tr th:nth-child(${Z+(h?2:1)})`,root:"component"},item:le}}};return r.createElement(Ri,Object.assign({key:Dt},Re,{resizableStyle:{width:H.width,minWidth:H.minWidth,maxWidth:H.maxWidth},ariaLabels:E,column:H,item:y.item,wrapLines:G,isEditable:Xn,isEditing:Vn,isRowHeader:H.isRowHeader,successfulEdit:Gn,resizableColumns:C,onEditStart:()=>ge.startEdit(Me),onEditEnd:Zn=>ge.completeEdit(Me,Zn),submitEdit:ge.submitEdit,columnId:(dt=H.id)!==null&&dt!==void 0?dt:Z,colIndex:Z+ct,verticalAlign:(ut=H.verticalAlign)!==null&&ut!==void 0?ut:Ke},Qn,ht(Yn)))}))}const Mt=Ai({item:y.item,loadingStatus:y.status,renderLoaderPending:_n,renderLoaderLoading:yn,renderLoaderError:En,renderLoaderEmpty:Sn});return Mt&&r.createElement("tr",Object.assign({key:(y.item?Ot(y.item):"root-"+T)+"-"+y.from,className:R.row},Nt),tt&&r.createElement(Gt,Object.assign({},Re,{columnId:Te,verticalAlign:Ke})),ae.map((le,H)=>{var Z;return r.createElement(Ni,Object.assign({key:Fe(le,H)},Re,{wrapLines:!1,columnId:(Z=le.id)!==null&&Z!==void 0?Z:H,colIndex:H+ct,isRowHeader:H===0,level:y.level,item:y.item,trackBy:m}),Mt)}))})))),C&&r.createElement(Ui,null)),r.createElement(Zi,{ref:It,wrapperRef:Ie,tableRef:se,onScroll:et,hasStickyColumns:Wn})))))});export{cs as I,gs as a,vs as g};

import{j as e,H as B,r as i,S as E,L as w,a as j}from"./index-D7GDf1UU.js";import{F as I}from"./index-Di_D4sU7.js";import"./common-components-B8mKgWVL.js";import v from"./form-validation-config-DmOjk-Dn.js";import V from"./cache-behavior-panel-CGbB8r1h.js";import H from"./content-delivery-panel-SNOQRk1p.js";import D from"./distribution-panel-C27kd0Tc.js";import F from"./origin-panel-olFvvtUr.js";import R from"./tags-panel--z3WeI7q.js";import{InfoLink as L}from"./info-link-BUuWadNp.js";import"./internal-THOVUYuj.js";import"./internal-D9lY1pv7.js";import"./all.en-CcUG2Ztv.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./breadcrumbs-qiXrpGnq.js";import"./index-CqlHI4IQ.js";import"./external-link-71GuX4w8.js";import"./external-link-group-CGOo0M8r.js";import"./index-fxqSwigp.js";import"./full-page-header-BXIASHo3.js";import"./help-panel--kfHykU3.js";import"./navigation-BIDWPOVH.js";import"./index-BlYptjXd.js";import"./internal-BD_qYRjX.js";import"./is-development-CxJkH8d1.js";import"./notifications-CbwoBAyE.js";import"./disclaimer-flashbar-item-BebvEA8G.js";import"./_cacheHas-CYLlYDNj.js";import"./_arrayIncludesWith-DkxKNHnR.js";import"./_setToArray-D5OH3LE_.js";import"./index-CoqKV8kg.js";import"./index-AJDePpBR.js";import"./internal-CcQJaSSR.js";import"./internal-DCHtC1V6.js";import"./internal-Cp26ReHs.js";import"./reset-contexts-for-modal-Cfc8SQi5.js";import"./internal-DQx_AHCB.js";import"./index-DOUzosrE.js";import"./index-C8soZkHE.js";import"./use-select-BZucm8VV.js";import"./index-CrIdmadX.js";import"./index-wVODuUbl.js";import"./index-CzmrE8hw.js";import"./index-BmhwJCRy.js";import"./index-C7dlS6m8.js";import"./internal-Basygvw4.js";import"./radio-group-BfVKeN4q.js";import"./index-D5tI8lFG.js";import"./form-config-N3XWZB5L.js";import"./cache-behavior-footer-BUFW0EKj.js";import"./index-7YwAc2dD.js";import"./index-CqfGKjfD.js";import"./origin-request-policy-BdhVzcjv.js";import"./cache-key-origin-settings-dU9SngzH.js";import"./index-D013joPb.js";import"./internal-DSVXbpju.js";import"./index-B7Ms8rH9.js";import"./index-5qndC0qu.js";import"./index-ByYgjtW3.js";import"./format-date-B0wWljPd.js";import"./use-files-dragging-BD-tB1eb.js";import"./internal-B8uLkLXq.js";import"./internal-D7cIOF98.js";import"./dismiss-button-CxYB8qlP.js";import"./index-om7sV26D.js";import"./use-content-origins-BPLyunop.js";import"./index-GgDZoIRm.js";import"./internal-BHz8g2hS.js";import"./headers-editor-3OUjvNnP.js";import"./internal-Du2jYghe.js";import"./index-Cw_GhccT.js";import"./internal-Ce01wf5s.js";import"./tag-editor-CT0UPJIa.js";import"./promises-BGwITM36.js";function uo({loadHelpPanelContent:r}){return e.jsxDEV(B,{variant:"h1",info:e.jsxDEV(L,{id:"form-main-info-link",onFollow:()=>r(0)},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:38,columnNumber:13},this),description:"When you create an Amazon CloudFront distribution, you tell CloudFront where to find your content by specifying your origin servers.",children:"Create distribution"},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:36,columnNumber:5},this)}function z({onCancelClick:r}){return e.jsxDEV(E,{direction:"horizontal",size:"xs",children:[e.jsxDEV(j,{variant:"link",onClick:r,children:"Cancel"},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:49,columnNumber:7},this),e.jsxDEV(j,{"data-testid":"create",variant:"primary",children:"Create distribution"},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:52,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:48,columnNumber:5},this)}function y({content:r,onCancelClick:u,errorText:l=null,onSubmitClick:m,header:a}){return e.jsxDEV("form",{onSubmit:s=>{s.preventDefault(),m&&m()},children:e.jsxDEV(I,{header:a,actions:e.jsxDEV(z,{onCancelClick:u},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:83,columnNumber:18},this),errorText:l,errorIconAriaLabel:"Error",children:r},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:81,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:73,columnNumber:5},this)}const A={cloudFrontRootObject:"",alternativeDomainNames:"",s3BucketSelectedOption:"",certificateExpiryDate:"",certificateExpiryTime:"",functions:"",customHeaders:"",functionFiles:[],tags:"",originId:"",codeEditor:"",httpVersion:"",ipv6isOn:"",functionFile:"",originRequestPolicyName:"",isOriginRequestPolicyNew:"",cachePolicy:""},h={cloudFrontRootObject:"",alternativeDomainNames:"",s3BucketSelectedOption:null,certificateExpiryDate:"",certificateExpiryTime:"",httpVersion:"http2",ipv6isOn:!1,functions:[],originId:"",customHeaders:[{key:"",value:""}],codeEditor:"",tags:"",functionFile:void 0,functionFiles:[],originRequestPolicyName:"",isOriginRequestPolicyNew:!1,cachePolicy:null},_=["cloudFrontRootObject","s3BucketSelectedOption","alternativeDomainNames","certificateExpiryDate","certificateExpiryTime","functions","originId","codeEditor"];function lo({loadHelpPanelContent:r,header:u,cachePolicyProps:l}){const[m,a]=i.useState(h),s=(c={})=>a(N=>({...N,...c})),d=()=>{};return e.jsxDEV(y,{onCancelClick:d,header:u,content:e.jsxDEV(E,{size:"l",children:[e.jsxDEV(H,{loadHelpPanelContent:r},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:171,columnNumber:11},this),e.jsxDEV(D,{loadHelpPanelContent:r,data:m,setData:s},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:172,columnNumber:11},this),e.jsxDEV(F,{loadHelpPanelContent:r,data:m,setData:s},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV(V,{loadHelpPanelContent:r,data:m,setData:s,cachePolicyProps:l},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:174,columnNumber:11},this),e.jsxDEV(R,{loadHelpPanelContent:r},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:166,columnNumber:5},this)}const po=({loadHelpPanelContent:r,updateDirty:u,onCancelClick:l,header:m})=>{const[a,s]=i.useState(h),d=(c={})=>s(N=>({...N,...c}));return i.useEffect(()=>{const c=JSON.stringify(a)!==JSON.stringify(h);u(c)},[a,u]),e.jsxDEV(y,{header:m,onCancelClick:l,content:e.jsxDEV(D,{loadHelpPanelContent:r,data:a,setData:d},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:210,columnNumber:16},void 0)},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:207,columnNumber:5},void 0)},fo=({loadHelpPanelContent:r,header:u,cachePolicyProps:l})=>{const[m,a]=i.useState(null),[s,d]=i.useState(h),[c,N]=i.useState(A),x=(o={})=>N(t=>({...t,...o})),g=(o={})=>d(t=>({...t,...o})),b={cloudFrontRootObject:i.useRef(null),alternativeDomainNames:i.useRef(null),s3BucketSelectedOption:i.useRef(null),certificateExpiryDate:i.useRef(null),certificateExpiryTime:i.useRef(null),functions:i.useRef(null),originId:i.useRef(null),customHeaders:i.useRef(null),codeEditor:i.useRef(null),tags:i.useRef(null),originRequestPolicyName:i.useRef(null),cachePolicy:i.useRef(null)},O=(o,t)=>{var p;let n=o[t]&&o[t].length>0;return t==="functions"&&!n&&(n=((p=o.functionFiles)==null?void 0:p.length)!==void 0&&o.functionFiles.length>0),n},k=o=>{var t,n;for(const[p,f]of Object.entries(b))if(O(o,p)){if((t=f.current)!=null&&t.focus)return f.current.focus();if((n=f.current)!=null&&n.focusAddButton)return f.current.focusAddButton()}},T=()=>{let o="";const t=s.customHeaders.map(n=>{const{errorText:p}=v("customHeaders",n.key,"name"),{errorText:f}=v("customHeaders",n.value,"value");return o=p||f,{...n,keyError:p,valueError:f}});return g({customHeaders:t}),o},P=()=>{if(!s.isOriginRequestPolicyNew)return"";const{errorText:o}=v("originRequestPolicyName",s.originRequestPolicyName);return o||""},S=()=>{const{errorText:o}=v("cachePolicy",l.selectedPolicy);return o||""},C=()=>{},q=()=>{a(e.jsxDEV(e.Fragment,{children:["You have reached the maximum amount of distributions you can create."," ",e.jsxDEV(w,{external:!0,variant:"primary",href:"#",children:"Learn more about distribution limits"},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:313,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:311,columnNumber:7},void 0));const o={...c};_.forEach(t=>{const{errorText:n}=v(t,s[t],s[t]);n&&(o[t]=n)}),o.customHeaders=T(),o.originRequestPolicyName=P(),o.cachePolicy=S(),x(o),k(o)};return e.jsxDEV(y,{onCancelClick:C,header:u,content:e.jsxDEV(E,{size:"l",children:[e.jsxDEV(D,{loadHelpPanelContent:r,validation:!0,data:s,errors:c,setData:g,setErrors:x,refs:b},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:341,columnNumber:11},void 0),e.jsxDEV(F,{loadHelpPanelContent:r,validation:!0,data:s,errors:c,setData:g,setErrors:x,refs:b},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:350,columnNumber:11},void 0),e.jsxDEV(V,{loadHelpPanelContent:r,refs:b,validation:!0,data:s,errors:c,setErrors:x,setData:g,cachePolicyProps:l},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:359,columnNumber:11},void 0),e.jsxDEV(R,{loadHelpPanelContent:r,refs:b,setErrors:x},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:369,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:340,columnNumber:9},void 0),onSubmitClick:q,errorText:m},void 0,!1,{fileName:"/app/code/src/pages/form/components/form.tsx",lineNumber:336,columnNumber:5},void 0)};export{lo as FormFull,uo as FormHeader,fo as FormWithValidation,po as LimitedForm};

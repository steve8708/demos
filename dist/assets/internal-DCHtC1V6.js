import{_ as le,n as oe,o as ce,x as de,y as _e,z as ue,w as me,m as we,ay as B,r as N,A as k,D as be,E as pe,a_ as v,R as e,p as w,a$ as ve,g as fe,b0 as ge,f as G,b1 as he,b2 as Ee,M,aL as P,K as W}from"./index-D7GDf1UU.js";function m(r,a,s){if(r)return`${a}-${s}`}function Ie(r,a,s,t,o,i){return{label:m(a,r,"label"),description:m(s,r,"description"),constraint:m(t,r,"constraint"),error:m(o,r,"error"),warning:m(i,r,"warning")}}function Se({error:r,warning:a,description:s,constraint:t}){const o=[r,a,s,t].filter(u=>!!u);return o.length?o.join(" "):void 0}function ye(r,a,s){let t;return r?t=[{colspan:12},{colspan:12}]:t=[{colspan:{default:12,xs:8}},{colspan:{default:12,xs:4}}],a?t:[t[0]]}const xe={label:"awsui_label_aqu00_ocied_5"},n={"error-icon-shake-wrapper":"awsui_error-icon-shake-wrapper_14mhv_8dwez_153","warning-icon-shake-wrapper":"awsui_warning-icon-shake-wrapper_14mhv_8dwez_154","error-icon-scale-wrapper":"awsui_error-icon-scale-wrapper_14mhv_8dwez_184","warning-icon-scale-wrapper":"awsui_warning-icon-scale-wrapper_14mhv_8dwez_185",warning:"awsui_warning_14mhv_8dwez_154",error:"awsui_error_14mhv_8dwez_153",root:"awsui_root_14mhv_8dwez_236",label:"awsui_label_14mhv_8dwez_269",info:"awsui_info_14mhv_8dwez_285",description:"awsui_description_14mhv_8dwez_291",constraint:"awsui_constraint_14mhv_8dwez_292",hints:"awsui_hints_14mhv_8dwez_299","constraint-has-validation-text":"awsui_constraint-has-validation-text_14mhv_8dwez_300","secondary-control":"awsui_secondary-control_14mhv_8dwez_304",controls:"awsui_controls_14mhv_8dwez_308","label-hidden":"awsui_label-hidden_14mhv_8dwez_308","label-wrapper":"awsui_label-wrapper_14mhv_8dwez_311",control:"awsui_control_14mhv_8dwez_308",error__message:"awsui_error__message_14mhv_8dwez_338",warning__message:"awsui_warning__message_14mhv_8dwez_339","visually-hidden":"awsui_visually-hidden_14mhv_8dwez_343"};function Ae({id:r,children:a,errorIconAriaLabel:s}){const t=M("form-field"),o=N.useRef(null),i=t("i18nStrings.errorIconAriaLabel",s);return e.createElement(e.Fragment,null,e.createElement("div",{id:r,className:n.error},e.createElement("div",{className:n["error-icon-shake-wrapper"]},e.createElement("div",{className:n["error-icon-scale-wrapper"]},e.createElement(P,{name:"status-negative",size:"small",ariaLabel:i}))),e.createElement("span",{className:n.error__message,ref:o},a)),e.createElement(W,{assertive:!0,tagName:"span",sources:[i,o]}))}function Ne({id:r,children:a,warningIconAriaLabel:s}){const t=M("form-field"),o=N.useRef(null),i=t("i18nStrings.warningIconAriaLabel",s);return e.createElement(e.Fragment,null,e.createElement("div",{id:r,className:n.warning},e.createElement("div",{className:n["warning-icon-shake-wrapper"]},e.createElement("div",{className:n["warning-icon-scale-wrapper"]},e.createElement(P,{name:"status-warning",size:"small",ariaLabel:i}))),e.createElement("span",{className:n.warning__message,ref:o},a)),e.createElement(W,{assertive:!0,tagName:"span",sources:[i,o]}))}function ze({id:r,hasValidationText:a,children:s}){return e.createElement("div",{id:r,className:w(n.constraint,a&&n["constraint-has-validation-text"])},s)}function Re(r){var{controlId:a,stretch:s=!1,label:t,info:o,i18nStrings:i,children:u,secondaryControl:f,description:g,constraintText:b,errorText:c,warningText:d,__hideLabel:h,__internalRootRef:p=null,__disableGutters:$=!1,__analyticsMetadata:_=void 0,__style:j={}}=r,z=le(r,["controlId","stretch","label","info","i18nStrings","children","secondaryControl","description","constraintText","errorText","warningText","__hideLabel","__internalRootRef","__disableGutters","__analyticsMetadata","__style"]);const L=oe(z),O=ce("formField"),E=a||O,V=a||E,{funnelIdentifier:q,funnelInteractionId:I,submissionAttempt:U,funnelState:K,errorCount:S}=de(),{stepIdentifier:H,stepNumber:J,stepNameSelector:F}=_e(),{subStepErrorContext:Q,subStepIdentifier:X,subStepSelector:Y,subStepNameSelector:R}=ue(),T=d&&!c;d&&c&&me("FileUpload","Both `errorText` and `warningText` exist. `warningText` will not be shown.");const l=Ie(V,t,g,b,c,T?d:void 0),Z=Se(l),ee=ye(s,!!f),{ariaLabelledby:ne,ariaDescribedby:re,invalid:C,warning:ae}=we({}),D={ariaLabelledby:B(ne,l.label)||void 0,ariaDescribedby:B(re,Z)||void 0,invalid:!!c||!!C,warning:!!d&&!c||!!ae&&!C},te={[Ee]:l.label?v(l.label):void 0,[he]:l.error?v(l.error):void 0};return N.useEffect(()=>{var y,x,A;if(I&&c&&K.current!=="complete"){const ie=k(F),se=k(R);return S.current++,((A=(x=(y=p==null?void 0:p.current)===null||y===void 0?void 0:y.getBoundingClientRect())===null||x===void 0?void 0:x.width)!==null&&A!==void 0?A:0)>0&&be.funnelSubStepError({funnelInteractionId:I,funnelIdentifier:q,subStepSelector:Y,subStepName:se,subStepNameSelector:R,subStepIdentifier:X,stepNumber:J,stepName:ie,stepNameSelector:F,stepIdentifier:H,subStepErrorContext:Q,fieldErrorSelector:`${v(l.error)} .${n.error__message}`,fieldLabelSelector:v(l.label),subStepAllSelector:pe(),fieldIdentifier:_==null?void 0:_.instanceIdentifier,fieldErrorContext:_==null?void 0:_.errorContext}),()=>{S.current--}}},[I,c,U,S]),e.createElement("div",Object.assign({},L,{className:w(L.className,n.root),style:j,ref:p},te,ve(z)),e.createElement("div",{className:w(n["label-wrapper"],h&&n["visually-hidden"])},t&&e.createElement("label",{className:w(n.label,xe.label),id:l.label,htmlFor:E},t),e.createElement(fe.Provider,{value:l.label},!h&&o&&e.createElement("span",{className:n.info},o))),g&&e.createElement("div",{className:n.description,id:l.description},g),e.createElement("div",{className:w(n.controls,h&&n["label-hidden"])},e.createElement(ge,{gridDefinition:ee,disableGutters:$},e.createElement(G.Provider,{value:Object.assign({controlId:E},D)},u&&e.createElement("div",{className:n.control},u)),f&&e.createElement(G.Provider,{value:D},e.createElement("div",{className:n["secondary-control"]},f)))),(b||c||d)&&e.createElement("div",{className:n.hints},c&&e.createElement(Ae,{id:l.error,errorIconAriaLabel:i==null?void 0:i.errorIconAriaLabel},c),T&&e.createElement(Ne,{id:l.warning,warningIconAriaLabel:i==null?void 0:i.warningIconAriaLabel},d),b&&e.createElement(ze,{id:l.constraint,hasValidationText:!!c||!!d},b)))}export{ze as C,Ae as F,Re as I,xe as a,Ne as b};

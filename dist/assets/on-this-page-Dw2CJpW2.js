import{r as l,bp as E,bq as C,p as m,R as d,_ as x,n as y,br as I,O as A,u as H,c as S,j as g,B as L}from"./index-DLMN1afU.js";import{E as O}from"./index-BQjY3-Kn.js";import"./internal-BatzASRu.js";import"./is-development-CxJkH8d1.js";const b=typeof window<"u";function j({hrefs:e,scrollSpyOffset:t,activeHref:n}){const[o,a]=l.useState(n),[r,h]=l.useState(!1);l.useEffect(()=>{a(n)},[n]),l.useEffect(()=>{var i;h(b&&!!document.getElementById((i=e[e.length-1])===null||i===void 0?void 0:i.slice(1)))},[e]);const c=l.useCallback(i=>{var s;return(s=document.getElementById(i.slice(1)))===null||s===void 0?void 0:s.getBoundingClientRect()},[]),v=l.useCallback(()=>r&&Math.ceil(window.scrollY)>=Math.floor(document.body.scrollHeight-window.innerHeight),[r]),_=l.useCallback(()=>e.find(i=>{const s=c(i);return s&&s.bottom<=window.innerHeight&&s.top>=t}),[c,t,e]),w=l.useCallback(()=>[...e].reverse().find(i=>{const s=c(i);return s&&s.bottom<=window.innerHeight}),[c,e]),f=l.useCallback(()=>{if(n||!b)return;const{scrollY:i}=window;document.body.scrollHeight>window.innerHeight&&v()?a(e[e.length-1]):a(_()||(i>0?w():void 0))},[n,v,_,w,e]);return l.useEffect(()=>{if(b)return f(),window.addEventListener("scroll",f,{passive:!0}),()=>{window.removeEventListener("scroll",f)}},[f]),o}const u={root:"awsui_root_swimc_knekq_189","anchor-list":"awsui_anchor-list_swimc_knekq_221","anchor-item":"awsui_anchor-item_swimc_knekq_244","anchor-item--active":"awsui_anchor-item--active_swimc_knekq_264","anchor-link":"awsui_anchor-link_swimc_knekq_281","anchor-link--active":"awsui_anchor-link--active_swimc_knekq_323","anchor-link-text":"awsui_anchor-link-text_swimc_knekq_330","anchor-link-info":"awsui_anchor-link-info_swimc_knekq_334"},p={root:"awsui_root_17oho_5eh15_5","anchor-list":"awsui_anchor-list_17oho_5eh15_9","anchor-item--active":"awsui_anchor-item--active_17oho_5eh15_13","anchor-link":"awsui_anchor-link_17oho_5eh15_17","anchor-link-text":"awsui_anchor-link-text_17oho_5eh15_21","anchor-link-info":"awsui_anchor-link-info_17oho_5eh15_25"},B=({anchor:e,onFollow:t,isActive:n,index:o,children:a})=>{E("AnchorNavigation",e.href);const r=l.useCallback(c=>{C(c)&&t(e,c)},[t,e]),h=m(u["anchor-item--active"],p["anchor-item--active"]);return d.createElement("li",{"data-itemid":`anchor-item-${o+1}`,className:m(u["anchor-item"],n&&h)},d.createElement("a",Object.assign({onClick:r,className:m(u["anchor-link"],p["anchor-link"],n&&u["anchor-link--active"])},n?{"aria-current":!0}:{},{href:e.href}),d.createElement("span",{className:m(u["anchor-link-text"],p["anchor-link-text"]),style:{paddingInlineStart:`${e.level*16+2}px`}},e.text),e.info&&d.createElement("span",{className:m(u["anchor-link-info"],p["anchor-link-info"])},e.info)),a)},R=(e,t,n)=>{const o=[];let a=t+1;for(;a<e.length&&e[a].level>n;)o.push(e[a]),a++;return o},q=(e,t,n,o,a)=>{const r=[],h=n.length>0,c=m(u["anchor-list"],p["anchor-list"]);return h&&o.push({items:n,parentList:r,startIndex:t+1}),d.createElement(B,{onFollow:a.onFollowHandler,isActive:e.href===a.currentActiveHref,key:t,index:t,anchor:e},h&&d.createElement("ol",{className:c},r))},D=(e,t,n,o,a)=>{let r=0;for(;r<e.length;){const h=e[r],c=R(e,r,h.level);n.push(q(h,t+r,c,o,a)),r+=c.length+1}},P=(e,t)=>{const n=[],o=[];for(o.push({items:e,parentList:n,startIndex:0});o.length>0;){const a=o.shift();D(a.items,a.startIndex,a.parentList,o,t)}return n};function V(e){var{anchors:t,ariaLabelledby:n,onFollow:o,onActiveHrefChange:a,activeHref:r="",__internalRootRef:h=null,scrollSpyOffset:c=0}=e,v=x(e,["anchors","ariaLabelledby","onFollow","onActiveHrefChange","activeHref","__internalRootRef","scrollSpyOffset"]);const _=y(v),w=l.useMemo(()=>t.map(s=>s.href),[t]),f=l.useCallback((s,k)=>{I(o,s,k)},[o]),i=j({hrefs:w,scrollSpyOffset:c,activeHref:r});return l.useEffect(()=>{if(i){const s=t.find(k=>k.href===i);A(a,s)}},[a,t,i]),d.createElement("nav",Object.assign({},_,{ref:h,"aria-labelledby":n,className:m(_.className,u.root,p.root)}),d.createElement("ol",{className:m(u["anchor-list"],p["anchor-list"])},P(t,{onFollowHandler:f,currentActiveHref:i})))}function N(e){var{scrollSpyOffset:t=0}=e,n=x(e,["scrollSpyOffset"]);const o=H("AnchorNavigation");return d.createElement(V,Object.assign({scrollSpyOffset:t},n,o))}S(N,"AnchorNavigation");function U({variant:e}){const t=g.jsxDEV(N,{anchors:[{text:"Product overview",href:"#product-overview",level:1},{text:"Pricing",href:"#pricing",level:1},{text:"Details",href:"#details",level:1},{text:"Support",href:"#support",level:1},{text:"Related products and services",href:"#related-products",level:1}],ariaLabelledby:"navigation-header"},void 0,!1,{fileName:"/app/code/src/pages/product-detail-page/on-this-page.tsx",lineNumber:11,columnNumber:5},this);return e==="side"?g.jsxDEV("div",{className:"on-this-page--side","data-testid":"on-this-page",children:[g.jsxDEV(L,{variant:"h2",margin:{bottom:"xxs"},children:g.jsxDEV("span",{id:"navigation-header",children:"On this page"},void 0,!1,{fileName:"/app/code/src/pages/product-detail-page/on-this-page.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/product-detail-page/on-this-page.tsx",lineNumber:45,columnNumber:7},this),t]},void 0,!0,{fileName:"/app/code/src/pages/product-detail-page/on-this-page.tsx",lineNumber:44,columnNumber:5},this):g.jsxDEV(O,{variant:"footer",headingTagOverride:"h2",headerText:"On this page",children:t},void 0,!1,{fileName:"/app/code/src/pages/product-detail-page/on-this-page.tsx",lineNumber:51,columnNumber:5},this)}export{U as OnThisPageNavigation};

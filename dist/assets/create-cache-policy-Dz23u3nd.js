import{r as x,j as e,S as n,B as u,L as g,a as h,H as y}from"./index-D7GDf1UU.js";import{F as o}from"./index-CzmrE8hw.js";import{I as a}from"./index-BmhwJCRy.js";import d from"./form-validation-config-DmOjk-Dn.js";import E from"./cache-key-origin-settings-dU9SngzH.js";import"./internal-DCHtC1V6.js";import"./_cacheHas-CYLlYDNj.js";import"./_arrayIncludesWith-DkxKNHnR.js";import"./_setToArray-D5OH3LE_.js";import"./index-D5tI8lFG.js";import"./internal-DQx_AHCB.js";import"./index-DOUzosrE.js";import"./index-C8soZkHE.js";import"./use-select-BZucm8VV.js";import"./index-CrIdmadX.js";import"./is-development-CxJkH8d1.js";import"./form-config-N3XWZB5L.js";function s({title:i,children:r}){return e.jsxDEV(n,{size:"s",children:[e.jsxDEV(y,{children:i},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:30,columnNumber:7},this),e.jsxDEV(n,{size:"m",children:r},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:32,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:29,columnNumber:5},this)}function w({data:i,setData:r,errors:f,setErrors:l,onSubmit:b,onCancel:N,validation:m}){const t=x.useRef(null),v=()=>{var p;if(!m)return;const{errorText:c}=d("cachePolicyName",i.name);if(c&&c.length>0){l({nameError:c}),(p=t.current)==null||p.focus();return}r({isSubmitting:!0}),setTimeout(()=>{r({isSubmitting:!1}),b()},2e3)};return e.jsxDEV("form",{onSubmit:c=>{c.preventDefault(),v()},children:e.jsxDEV(n,{size:"m",children:[e.jsxDEV(u,{variant:"p",children:["Specify how CloudFront caches responses, including cache key values and caching duration, to optimize performance and reduce origin load. To configure advanced settings"," ",e.jsxDEV(g,{href:"#",external:!0,variant:"primary",children:"create cache policy"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:80,columnNumber:11},this),"."]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:77,columnNumber:9},this),e.jsxDEV(n,{size:"xl",children:[e.jsxDEV(s,{title:"Details",children:[e.jsxDEV(o,{label:"Name",description:"Enter a name for the cache policy.",errorText:f.nameError,i18nStrings:{errorIconAriaLabel:"Error"},children:e.jsxDEV(a,{ref:t,value:i.name,onChange:({detail:c})=>{r({name:c.value}),l({nameError:""})},onBlur:()=>{if(m){const{errorText:c}=d("cachePolicyName",i.name);l({nameError:c||""})}},ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:88,columnNumber:13},this),e.jsxDEV(o,{label:e.jsxDEV(e.Fragment,{children:["Description - ",e.jsxDEV("i",{children:"optional"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:113,columnNumber:33},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:112,columnNumber:17},this),description:"Enter a description for the cache policy.",children:e.jsxDEV(a,{value:i.description||"",onChange:({detail:c})=>r({description:c.value})},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:87,columnNumber:11},this),e.jsxDEV(s,{title:"TTL settings",children:[e.jsxDEV(o,{label:"Minimum TTL",description:"Minimum time to live in seconds.",children:e.jsxDEV(a,{type:"number",value:String(i.minimumTtl),onChange:c=>r({minimumTtl:Number(c.detail.value)}),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV(o,{label:"Maximum TTL",description:"Maximum time to live in seconds.",children:e.jsxDEV(a,{type:"number",value:String(i.maximumTtl),onChange:c=>r({maximumTtl:Number(c.detail.value)}),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(o,{label:"Default TTL",description:"Default time to live in seconds.",children:e.jsxDEV(a,{type:"number",value:String(i.defaultTtl),onChange:c=>r({defaultTtl:Number(c.detail.value)}),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(s,{title:"Cache key settings",children:e.jsxDEV(E,{header:i.header,queryStrings:i.queryStrings,cookies:i.cookies,setHeader:c=>r({header:c}),setQueryStrings:c=>r({queryStrings:c}),setCookies:c=>r({cookies:c}),spacing:"m"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:150,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV(u,{float:"right",children:e.jsxDEV(n,{size:"s",direction:"horizontal",children:[e.jsxDEV(h,{variant:"link",formAction:"none",onClick:N,"data-testid":"create-cache-policy-cancel-button",children:"Cancel"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:164,columnNumber:13},this),e.jsxDEV(h,{loading:i.isSubmitting,"data-testid":"create-cache-policy-submit-button",children:"Create"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:163,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:76,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/create-cache-policy.tsx",lineNumber:70,columnNumber:5},this)}export{w as default};

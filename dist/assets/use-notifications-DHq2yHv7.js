import{r as l,j as I,a as r}from"./index-BE4yRgP3.js";import{useDisclaimerFlashbarItem as x}from"./disclaimer-flashbar-item-DnmFzdcC.js";function A({resourceName:e}){const m=l.useId(),[b,h]=l.useState(!1),f=x(()=>h(!0)),[y,a]=l.useState(f&&!b?[f]:[]),d=l.useCallback(t=>{a(i=>i.filter(s=>s.id!==t))},[]),c=l.useCallback(t=>{a(i=>{const s=i.findIndex(n=>n.id===t.id);if(s===-1)return[t,...i];{const n=[...i];return n.splice(s,1,t),n}})},[]),$=l.useCallback(t=>{if(t!=null&&t.length){const i=`delete-notification-${t[0].id}`,s=t.length===1?`Successfully deleted ${e} ${t[0].id}.`:`Successfully deleted ${t.length} ${e}s.`;c({type:"success",dismissible:!0,statusIconAriaLabel:"success",dismissLabel:"Dismiss message",content:s,id:i,onDismiss:()=>d(i)})}},[d,e,c]),p=l.useCallback((t,i)=>{t!=null&&t.length&&a(s=>[...t.map(n=>{const o=`failed-${n.id}`,g=i==null?void 0:i.retry;return{type:"error",dismissible:!0,statusIconAriaLabel:"error",dismissLabel:"Dismiss message",header:`Failed to delete ${e} ${n.id}`,content:"Your request couldnâ€™t be processed because of an issue with the server. Try again later.",action:g?I.jsxDEV(r,{onClick:()=>g(n),children:"Retry"},void 0,!1,{fileName:"/app/code/src/pages/delete-with-simple-confirmation/use-notifications.tsx",lineNumber:76,columnNumber:31},this):void 0,id:o,onDismiss:()=>d(o)}}),...s])},[d,e]),u=t=>{a(i=>i.filter(s=>s.id!==`failed-${t.id}`))},D=l.useCallback(t=>{if(t!=null&&t.length){const i=t.length===1?`Deleting ${e} ${t[0].id}.`:`Deleting ${t.length} ${e}s.`;c({loading:!0,type:"info",statusIconAriaLabel:"info",dismissible:!1,content:i,id:m})}else a(i=>i.filter(s=>s.id!==m))},[m,e,c]);return{clearFailed:u,notifications:y,notifyDeleted:$,notifyFailed:p,notifyInProgress:D}}export{A as default};

import{r as s,O as N,R as n,aK as ne,bL as Oe,bS as je,b3 as oe,bk as Ke,aW as Ge,p as R,ay as B,P as H,aD as Ve,aQ as $e,$ as Je,M as re,K as ie,bT as se,_ as Qe,u as We,m as Ue,aq as Xe,n as Ye,au as Ze,Y as el,o as ll,J as al,b2 as tl,c as nl}from"./index-WOunTE3s.js";import{I as ol}from"./index-yHACLkq5.js";import{C as rl}from"./internal-B7i7uY4B.js";import{I as il}from"./internal-CN81xZnG.js";import{I as sl}from"./internal-BN51aXo6.js";import{I as ul}from"./internal-nCT0UzHa.js";const c={"code-editor-refresh":"awsui_code-editor-refresh_1gl9c_qts7p_158","code-editor":"awsui_code-editor_1gl9c_qts7p_158",pane:"awsui_pane_1gl9c_qts7p_492","pane__close-container":"awsui_pane__close-container_1gl9c_qts7p_503",pane__list:"awsui_pane__list_1gl9c_qts7p_508",pane__table:"awsui_pane__table_1gl9c_qts7p_515",pane__item:"awsui_pane__item_1gl9c_qts7p_521",pane__cell:"awsui_pane__cell_1gl9c_qts7p_521",pane__location:"awsui_pane__location_1gl9c_qts7p_556",pane__description:"awsui_pane__description_1gl9c_qts7p_556","focus-lock":"awsui_focus-lock_1gl9c_qts7p_571",editor:"awsui_editor_1gl9c_qts7p_615","editor-refresh":"awsui_editor-refresh_1gl9c_qts7p_645","status-bar":"awsui_status-bar_1gl9c_qts7p_650","status-bar-with-hidden-pane":"awsui_status-bar-with-hidden-pane_1gl9c_qts7p_659","status-bar__left":"awsui_status-bar__left_1gl9c_qts7p_663","status-bar__right":"awsui_status-bar__right_1gl9c_qts7p_670","status-bar__language-mode":"awsui_status-bar__language-mode_1gl9c_qts7p_674","status-bar__cursor-position":"awsui_status-bar__cursor-position_1gl9c_qts7p_674","status-bar__cog-button":"awsui_status-bar__cog-button_1gl9c_qts7p_680","tab-list":"awsui_tab-list_1gl9c_qts7p_685","tab-button":"awsui_tab-button_1gl9c_qts7p_690","tab-button--refresh":"awsui_tab-button--refresh_1gl9c_qts7p_723","tab-button--warnings":"awsui_tab-button--warnings_1gl9c_qts7p_726","tab-button--active":"awsui_tab-button--active_1gl9c_qts7p_735","tab-button--disabled":"awsui_tab-button--disabled_1gl9c_qts7p_751","tab-button--divider":"awsui_tab-button--divider_1gl9c_qts7p_784","tab-button--errors":"awsui_tab-button--errors_1gl9c_qts7p_791",count:"awsui_count_1gl9c_qts7p_800",text:"awsui_text_1gl9c_qts7p_803","loading-screen":"awsui_loading-screen_1gl9c_qts7p_825","error-screen":"awsui_error-screen_1gl9c_qts7p_826"},cl=({children:e,recoveryText:l,onRecoveryClick:t})=>{const o=s.useCallback(()=>N(t),[t]);return n.createElement("div",{className:c["error-screen"]},n.createElement(ne,{name:"status-negative",variant:"error"})," ",e," ",n.createElement(Oe,{variant:"recovery",onFollow:o},l))};function dl(e,l,t){const o=je(d=>{N(t,d)},0),i=oe(()=>{const d={value:(e==null?void 0:e.getValue())||""};N(l,d),o(d)});s.useEffect(()=>{if(e)return e.on("change",i),()=>e.off("change",i)},[e,i])}const bl=e=>n.createElement("div",{className:c["loading-screen"]},n.createElement(Ke,{size:"normal",variant:"normal"})," ",e.children),I={"resizable-box":"awsui_resizable-box_cufu9_1152v_149","cursor-active":"awsui_cursor-active_cufu9_1152v_153","resizable-box-handle":"awsui_resizable-box-handle_cufu9_1152v_167","resize-active":"awsui_resize-active_cufu9_1152v_176"},z=20;function ue({children:e,height:l,minHeight:t,onResize:o,handleAriaLabel:i,handleTooltipText:d}){const[v,a]=s.useState(null),r=oe(o),b=s.useRef(null),h=u=>{if(u.pointerType==="mouse"&&u.button!==0||!b.current)return;const g=b.current.getBoundingClientRect().bottom;a(g-u.clientY)},E=u=>{switch(u.key){case"ArrowDown":case"ArrowRight":u.preventDefault(),r(l+z);break;case"ArrowUp":case"ArrowLeft":u.preventDefault(),r(Math.max(l-z,t));break}};return s.useEffect(()=>{if(v===null||!b.current)return;const u=b.current,g=A=>{const{top:k}=u.getBoundingClientRect(),C=A.clientY;r(Math.max(C+v-k,t))},S=()=>{a(null)},w=new AbortController;return document.body.classList.add(I["resize-active"]),u.classList.add(I["cursor-active"]),document.addEventListener("pointermove",g,{signal:w.signal}),document.addEventListener("pointerup",S,{signal:w.signal}),()=>{w.abort(),document.body.classList.remove(I["resize-active"]),u.classList.remove(I["cursor-active"])}},[v,t,r]),n.createElement("div",{ref:b,className:I["resizable-box"],style:{height:l}},e,n.createElement("div",{className:I["resizable-box-handle"]},n.createElement(ol,{ariaLabel:i,variant:"resize-area",ariaValue:{valueMin:t,valueMax:1e6,valueNow:l},tooltipText:d,onPointerDown:h,onKeyDown:E,directions:{"block-start":l>t?"active":"disabled","block-end":"active"},onDirectionClick:u=>{switch(u){case"block-end":r(l+z);break;case"block-start":r(Math.max(l-z,t));break}}})))}const vl=[{value:"abap",label:"ABAP"},{value:"abc",label:"ABC"},{value:"actionscript",label:"ActionScript"},{value:"ada",label:"ADA"},{value:"alda",label:"Alda"},{value:"apache_conf",label:"Apache Conf"},{value:"apex",label:"Apex"},{value:"aql",label:"AQL"},{value:"asciidoc",label:"AsciiDoc"},{value:"asl",label:"ASL"},{value:"assembly_x86",label:"Assembly x86"},{value:"autohotkey",label:"AutoHotkey/AutoIt"},{value:"batchfile",label:"BatchFile"},{value:"c_cpp",label:"C/C++"},{value:"c9search",label:"C9Search"},{value:"cirru",label:"Cirru"},{value:"clojure",label:"Clojure"},{value:"cobol",label:"Cobol"},{value:"coffee",label:"CoffeeScript"},{value:"coldfusion",label:"ColdFusion"},{value:"crystal",label:"Crystal"},{value:"csharp",label:"C#"},{value:"csound_document",label:"Csound Document"},{value:"csound_orchestra",label:"Csound"},{value:"csound_score",label:"Csound Score"},{value:"css",label:"CSS"},{value:"curly",label:"Curly"},{value:"d",label:"D"},{value:"dart",label:"Dart"},{value:"diff",label:"Diff"},{value:"django",label:"Django"},{value:"dockerfile",label:"Dockerfile"},{value:"dot",label:"Dot"},{value:"drools",label:"Drools"},{value:"edifact",label:"Edifact"},{value:"eiffel",label:"Eiffel"},{value:"ejs",label:"EJS"},{value:"elixir",label:"Elixir"},{value:"elm",label:"Elm"},{value:"erlang",label:"Erlang"},{value:"forth",label:"Forth"},{value:"fortran",label:"Fortran"},{value:"fsharp",label:"FSharp"},{value:"fsl",label:"FSL"},{value:"ftl",label:"FreeMarker"},{value:"gcode",label:"Gcode"},{value:"gherkin",label:"Gherkin"},{value:"gitignore",label:"Gitignore"},{value:"glsl",label:"Glsl"},{value:"gobstones",label:"Gobstones"},{value:"golang",label:"Go"},{value:"graphqlschema",label:"GraphQLSchema"},{value:"groovy",label:"Groovy"},{value:"haml",label:"HAML"},{value:"handlebars",label:"Handlebars"},{value:"haskell",label:"Haskell"},{value:"haskell_cabal",label:"Haskell Cabal"},{value:"haxe",label:"haXe"},{value:"hjson",label:"Hjson"},{value:"html",label:"HTML"},{value:"html_elixir",label:"HTML (Elixir)"},{value:"html_ruby",label:"HTML (Ruby)"},{value:"ini",label:"INI"},{value:"io",label:"Io"},{value:"jack",label:"Jack"},{value:"jade",label:"Jade"},{value:"java",label:"Java"},{value:"javascript",label:"JavaScript"},{value:"json",label:"JSON"},{value:"json5",label:"JSON5"},{value:"jsoniq",label:"JSONiq"},{value:"jsp",label:"JSP"},{value:"jssm",label:"JSSM"},{value:"jsx",label:"JSX"},{value:"julia",label:"Julia"},{value:"kotlin",label:"Kotlin"},{value:"latex",label:"LaTeX"},{value:"less",label:"LESS"},{value:"liquid",label:"Liquid"},{value:"lisp",label:"Lisp"},{value:"livescript",label:"LiveScript"},{value:"logiql",label:"LogiQL"},{value:"lsl",label:"LSL"},{value:"lua",label:"Lua"},{value:"luapage",label:"LuaPage"},{value:"lucene",label:"Lucene"},{value:"makefile",label:"Makefile"},{value:"markdown",label:"Markdown"},{value:"mask",label:"Mask"},{value:"matlab",label:"MATLAB"},{value:"maze",label:"Maze"},{value:"mediawiki",label:"MediaWiki"},{value:"mel",label:"MEL"},{value:"mixal",label:"MIXAL"},{value:"mushcode",label:"MUSHCode"},{value:"mysql",label:"MySQL"},{value:"nginx",label:"Nginx"},{value:"nim",label:"Nim"},{value:"nix",label:"Nix"},{value:"nsis",label:"NSIS"},{value:"nunjucks",label:"Nunjucks"},{value:"objectivec",label:"Objective-C"},{value:"ocaml",label:"OCaml"},{value:"pascal",label:"Pascal"},{value:"perl",label:"Perl"},{value:"perl6",label:"Perl 6"},{value:"pgsql",label:"pgSQL"},{value:"php",label:"PHP"},{value:"php_laravel_blade",label:"PHP (Blade Template)"},{value:"pig",label:"Pig"},{value:"powershell",label:"Powershell"},{value:"praat",label:"Praat"},{value:"prisma",label:"Prisma"},{value:"prolog",label:"Prolog"},{value:"properties",label:"Properties"},{value:"protobuf",label:"Protobuf"},{value:"puppet",label:"Puppet"},{value:"python",label:"Python"},{value:"qml",label:"QML"},{value:"r",label:"R"},{value:"razor",label:"Razor"},{value:"rdoc",label:"RDoc"},{value:"red",label:"Red"},{value:"rhtml",label:"RHTML"},{value:"rst",label:"RST"},{value:"ruby",label:"Ruby"},{value:"rust",label:"Rust"},{value:"sass",label:"SASS"},{value:"scad",label:"SCAD"},{value:"scala",label:"Scala"},{value:"scheme",label:"Scheme"},{value:"scss",label:"SCSS"},{value:"sh",label:"SH"},{value:"sjs",label:"SJS"},{value:"slim",label:"Slim"},{value:"smarty",label:"Smarty"},{value:"snippets",label:"snippets"},{value:"soy_template",label:"Soy Template"},{value:"space",label:"Space"},{value:"sql",label:"SQL"},{value:"sqlserver",label:"SQLServer"},{value:"stylus",label:"Stylus"},{value:"svg",label:"SVG"},{value:"swift",label:"Swift"},{value:"tcl",label:"Tcl"},{value:"terraform",label:"Terraform"},{value:"tex",label:"Tex"},{value:"text",label:"Text"},{value:"textile",label:"Textile"},{value:"toml",label:"Toml"},{value:"tsx",label:"TSX"},{value:"twig",label:"Twig"},{value:"typescript",label:"TypeScript"},{value:"vala",label:"Vala"},{value:"vbscript",label:"VBScript"},{value:"velocity",label:"Velocity"},{value:"verilog",label:"Verilog"},{value:"vhdl",label:"VHDL"},{value:"visualforce",label:"Visualforce"},{value:"wollok",label:"Wollok"},{value:"xml",label:"XML"},{value:"xquery",label:"XQuery"},{value:"yaml",label:"YAML"},{value:"zeek",label:"Zeek"}],K=[{value:"chrome",label:"Chrome"},{value:"clouds",label:"Clouds"},{value:"crimson_editor",label:"Crimson Editor"},{value:"dawn",label:"Dawn"},{value:"dreamweaver",label:"Dreamweaver"},{value:"eclipse",label:"Eclipse"},{value:"github",label:"GitHub"},{value:"iplastic",label:"IPlastic"},{value:"solarized_light",label:"Solarized Light"},{value:"textmate",label:"TextMate"},{value:"tomorrow",label:"Tomorrow"},{value:"xcode",label:"Xcode"},{value:"kuroir",label:"Kuroir"},{value:"katzenmilch",label:"KatzenMilch"},{value:"sqlserver",label:"SQL Server"},{value:"cloud_editor",label:"CloudEditor"}],G=[{value:"ambiance",label:"Ambiance"},{value:"chaos",label:"Chaos"},{value:"clouds_midnight",label:"Clouds Midnight"},{value:"dracula",label:"Dracula"},{value:"cobalt",label:"Cobalt"},{value:"gruvbox",label:"Gruvbox"},{value:"gob",label:"Green on Black"},{value:"idle_fingers",label:"idle Fingers"},{value:"kr_theme",label:"krTheme"},{value:"merbivore",label:"Merbivore"},{value:"merbivore_soft",label:"Merbivore Soft"},{value:"mono_industrial",label:"Mono Industrial"},{value:"monokai",label:"Monokai"},{value:"nord_dark",label:"Nord Dark"},{value:"pastel_on_dark",label:"Pastel on dark"},{value:"solarized_dark",label:"Solarized Dark"},{value:"terminal",label:"Terminal"},{value:"tomorrow_night",label:"Tomorrow Night"},{value:"tomorrow_night_blue",label:"Tomorrow Night Blue"},{value:"tomorrow_night_bright",label:"Tomorrow Night Bright"},{value:"tomorrow_night_eighties",label:"Tomorrow Night 80s"},{value:"twilight",label:"Twilight"},{value:"vibrant_ink",label:"Vibrant Ink"},{value:"cloud_editor_dark",label:"CloudEditor Dark"}],V="cloud_editor",$="cloud_editor_dark",gl="dawn",ml="tomorrow_night_bright",fl={light:K.map(e=>e.value).filter(e=>e!==V),dark:G.map(e=>e.value).filter(e=>e!==$)};function _l(e,l){var t;const o=(t=e==null?void 0:e.version)===null||t===void 0?void 0:t.split(".").map(i=>{const d=parseInt(i);return Number.isNaN(d)?i:d});return!!o&&typeof o[0]=="number"&&o[0]>=l[0]&&typeof o[1]=="number"&&o[1]>=l[1]&&typeof o[2]=="number"&&o[2]>=l[2]}function ce(e){return _l(e,[1,23,0])}function hl(e){return Object.assign({behavioursEnabled:!0},ce(e)?{enableKeyboardAccessibility:!0}:{})}function de(e,l){return e==="light"?l!=null&&l.light.some(t=>t===V)?V:gl:l!=null&&l.dark.some(t=>t===$)?$:ml}function be(e){return`ace/theme/${e}`}function pl(e){var l;return((l=vl.filter(t=>t.value===e)[0])===null||l===void 0?void 0:l.label)||e}function J({paneId:e,paneStatus:l}){return e?`${e}-button-${l}`:void 0}const El=31,Sl=12,le=3*El+2*Sl,wl=({id:e,paneStatus:l,visible:t,annotations:o,highlighted:i,onClose:d,onAnnotationClick:v,onAnnotationClear:a,cursorPositionLabel:r,closeButtonAriaLabel:b,handleAriaLabel:h,handleTooltipText:E})=>{const[u,g]=s.useState(le),S=s.useRef(null);s.useEffect(()=>{var f;if(!i)return;const{row:L,column:M}=i,P=o.indexOf(o.filter(y=>y.row===L&&y.column===M)[0]);if(P>-1){const y=(f=S.current)===null||f===void 0?void 0:f.children[P];y==null||y.focus()}},[i,o]);const w=f=>{v(f)},A=(f,L)=>{(L.keyCode===H.enter||L.keyCode===H.space)&&(L.preventDefault(),v(f))},k=f=>{f.keyCode===H.escape&&(f.preventDefault(),d())},C=J({paneId:e,paneStatus:l});return t?n.createElement("div",{id:e,className:c.pane,onKeyDown:k,role:"tabpanel","aria-labelledby":C},n.createElement(ue,{height:u,minHeight:le,onResize:f=>g(f),handleAriaLabel:h,handleTooltipText:E},n.createElement(Ge,{className:c["focus-lock"],autoFocus:!0,restoreFocus:!0},n.createElement("div",{className:c.pane__list,tabIndex:-1},n.createElement("table",{className:c.pane__table,role:"presentation"},n.createElement("colgroup",null,n.createElement("col",{style:{width:1}}),n.createElement("col",{style:{width:"auto"}})),n.createElement("tbody",{ref:S},o.map((f,L)=>{var M;return n.createElement("tr",{key:L,role:"link",className:c.pane__item,onMouseOver:a,onClick:w.bind(null,f),onKeyDown:A.bind(null,f),tabIndex:0},n.createElement("td",{className:R(c.pane__location,c.pane__cell),tabIndex:-1},(M=r==null?void 0:r((f.row||0)+1,(f.column||0)+1))!==null&&M!==void 0?M:""),n.createElement("td",{className:R(c.pane__description,c.pane__cell),tabIndex:-1},f.text))})))),n.createElement("div",{className:c["pane__close-container"]},n.createElement(B,{formAction:"none",variant:"icon",iconName:"close",onClick:d,ariaLabel:b}))))):null};function ae(e,l){return e.filter(t=>l.indexOf(t.value)>-1)}const Ll=e=>{var l,t,o,i;const[d,v]=s.useState((t=(l=e.preferences)===null||l===void 0?void 0:l.wrapLines)!==null&&t!==void 0?t:!0),[a,r]=s.useState((i=(o=e.preferences)===null||o===void 0?void 0:o.theme)!==null&&i!==void 0?i:e.defaultTheme),b=[{label:e.i18nStrings.lightThemes,options:ae(K,e.themes.light)},{label:e.i18nStrings.darkThemes,options:ae(G,e.themes.dark)}],[h,E]=s.useState(()=>[...K,...G].filter(g=>g.value===a)[0]),u=g=>{r(g.detail.selectedOption.value),E(g.detail.selectedOption)};return n.createElement(sl,{size:"medium",visible:!0,getModalRoot:e.getModalRoot,removeModalRoot:e.removeModalRoot,onDismiss:e.onDismiss,header:e.i18nStrings.header,closeAriaLabel:e.i18nStrings.cancel,footer:n.createElement(Ve,{float:"right"},n.createElement($e,{direction:"horizontal",size:"xs"},n.createElement(B,{onClick:e.onDismiss},e.i18nStrings.cancel),n.createElement(B,{onClick:()=>e.onConfirm({wrapLines:d,theme:a}),variant:"primary"},e.i18nStrings.confirm)))},n.createElement(rl,{columns:2,variant:"text-grid"},n.createElement("div",null,n.createElement(Je,{checked:d,onChange:g=>v(g.detail.checked)},e.i18nStrings.wrapLines)),n.createElement("div",null,n.createElement(il,{label:e.i18nStrings.theme},n.createElement(ul,{selectedOption:h,onChange:u,options:b,filteringType:"auto",filteringAriaLabel:e.i18nStrings.themeFilteringAriaLabel,filteringClearAriaLabel:e.i18nStrings.themeFilteringClearAriaLabel,filteringPlaceholder:e.i18nStrings.themeFilteringPlaceholder})))))};function Cl(e,l,t,o,i,d){Al(e,l),l.session.selection.on("changeCursor",()=>{o(l.getCursorPosition())}),l.session.on("changeAnnotation",()=>{const r=l.session.getAnnotations(),b=r.filter(h=>h.type!=="info");r.length!==b.length&&l.session.setAnnotations(b),t(b)});const v=r=>{typeof r.row=="number"&&l.gotoLine(r.row+1,r.column||0,!1)},a=r=>{const b=l.session.getAnnotations().filter(E=>E.row===r&&E.type!=="info"),h=b.filter(E=>E.type==="error");h.length>0?(i(h[0]),d("error"),v(h[0])):b.length>0?(i(b[0]),d("warning"),v(b[0])):(i(void 0),d("hidden"),l.gotoLine(r+1,0,!1))};l.on("gutterclick",r=>{const{row:b}=r.getDocumentPosition();a(b)}),l.on("gutterkeydown",r=>{if(r.isInAnnotationLane()&&(r.getKey()==="space"||r.getKey()==="return")){const b=r.getRow();a(b)}}),l.on("change",()=>{l.getValue().length===0&&l.session.clearAnnotations()})}function Al(e,l){e.config.loadModule("ace/ext/language_tools",function(){l.setOptions({displayIndentGuides:!1,enableSnippets:!0,enableBasicAutocompletion:!0})}),l.setAutoScrollEditorIntoView(!0),ce(e)||l.commands.addCommand({name:"exitCodeEditor",bindKey:"Esc",exec:()=>{l.container.focus()}}),l.on("focus",()=>{l.textInput.getElement().setAttribute("tabindex",0)}),l.on("blur",()=>{l.textInput.getElement().setAttribute("tabindex",-1)}),l.textInput.getElement().setAttribute("tabindex",-1),l.commands.removeCommand("showSettingsMenu",!1),l.on("guttermousedown",t=>{t.stop()}),l.setHighlightActiveLine(!1),l.$updateHighlightActiveLine=function(){const t=this.getSession();let o;if(this.$highlightActiveLine&&((this.$selectionStyle!=="line"||!this.selection.isMultiLine())&&(o=this.getCursorPosition()),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(o=!1)),t.$highlightLineMarker&&!o)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&o){const i=new e.Range(o.row,0,o.row,1/0);i.id=t.addMarker(i,"ace_active-line","fullLine"),t.$highlightLineMarker=i}else o&&(t.$highlightLineMarker.start.row=o.row,t.$highlightLineMarker.end.row=o.row,t.$highlightLineMarker.start.column=0,t._signal("changeBackMarker"))},l.setHighlightActiveLine(!0),l.on("showGutterTooltip",t=>{t.hide()})}const te=n.forwardRef(({active:e,disabled:l,iconName:t,onClick:o,onFocus:i,onBlur:d,tabIndex:v,ariaHidden:a,ariaLabel:r,paneId:b,isRefresh:h,count:E,text:u,className:g,id:S},w)=>n.createElement("button",{className:R([c["tab-button"],g],{[c["tab-button--active"]]:e,[c["tab-button--disabled"]]:l,[c["tab-button--refresh"]]:h}),id:S,type:"button",onClick:o,onFocus:i,onBlur:d,disabled:l,ref:w,tabIndex:v,role:"tab","aria-selected":e,"aria-controls":b,"aria-hidden":a,"aria-label":r},n.createElement(ne,{name:t}),n.createElement("span",{className:c.count},E),n.createElement("span",{className:c.text},u)));function kl({languageLabel:e,cursorPosition:l,paneStatus:t,onErrorPaneToggle:o,onWarningPaneToggle:i,onTabFocus:d,onTabBlur:v,errorsTabRef:a,warningsTabRef:r,isTabFocused:b,paneId:h,onPreferencesOpen:E,i18nStrings:u,errorCount:g,warningCount:S,isRefresh:w}){const A=re("code-editor"),k=`${A("i18nStrings.errorsTab",u==null?void 0:u.errorsTab)}: ${g}`,C=`${A("i18nStrings.warningsTab",u==null?void 0:u.warningsTab)}: ${S}`,f=J({paneId:h,paneStatus:"error"}),L=J({paneId:h,paneStatus:"warning"});return n.createElement("div",{className:R(c["status-bar"],{[c["status-bar-with-hidden-pane"]]:t==="hidden"})},n.createElement("div",{className:R(c["status-bar__left"])},n.createElement("span",{className:c["status-bar__language-mode"]},e),n.createElement("span",{className:c["status-bar__cursor-position"]},l),n.createElement("div",{className:c["tab-list"],role:"tablist"},n.createElement(te,{id:f,count:g,text:k,className:c["tab-button--errors"],iconName:"status-negative",disabled:g===0,active:t==="error",onClick:o,onFocus:d,onBlur:v,ref:a,ariaLabel:k,paneId:h,isRefresh:w}),n.createElement("span",{className:c["tab-button--divider"]}),n.createElement(te,{id:L,count:S,text:C,className:c["tab-button--warnings"],iconName:"status-warning",disabled:S===0,active:t==="warning",onClick:i,onFocus:d,onBlur:v,ref:r,tabIndex:t==="error"&&b?-1:void 0,ariaHidden:t==="error"&&b?!0:void 0,ariaLabel:C,paneId:h,isRefresh:w})),n.createElement(ie,{assertive:!0,hidden:!0,tagName:"span"},n.createElement("span",null,k," "),n.createElement("span",null,C))),n.createElement("div",{className:c["status-bar__right"]},n.createElement("div",{className:c["status-bar__cog-button"]},n.createElement(B,{formAction:"none",variant:"icon",iconName:"settings",iconAlt:"Settings",ariaLabel:A("i18nStrings.preferencesButtonAriaLabel",u==null?void 0:u.preferencesButtonAriaLabel),onClick:E,__nativeAttributes:{tabIndex:t!=="hidden"&&b?-1:void 0,"aria-hidden":t!=="hidden"&&b?!0:void 0}}))))}function Tl(e,l,t){const o=s.useRef(null),[i,d]=s.useState(null),[v]=s.useState(be(de(se(o),l)));return s.useEffect(()=>{const a=o.current;if(!e||!a)return;const r=hl(e);d(e.edit(a,Object.assign(Object.assign({},r),{theme:v})))},[e,t,v]),{editorRef:o,editor:i}}function yl(e,{controlId:l,ariaLabel:t,ariaLabelledby:o,ariaDescribedby:i}){s.useEffect(()=>{if(!e)return;const{textarea:d}=e.renderer;if(!d)return;const v=(a,r)=>{r?d.setAttribute(a,r):d.removeAttribute(a)};v("id",l),v("aria-labelledby",o),v("aria-describedby",i),typeof e.getOption("textInputAriaLabel")=="string"?e.setOption("textInputAriaLabel",t??""):v("aria-label",t)},[t,i,o,l,e])}function Ml(e,{width:l,height:t}){return s.useEffect(()=>{e==null||e.resize()},[e,l,t]),{onResize:s.useCallback(()=>{e==null||e.resize()},[e])}}function xl(e,l){s.useEffect(()=>{if(!e||l===e.getValue())return;const t=e.session.selection.toJSON();e.setValue(l,-1),e.session.selection.fromJSON(t)},[e,l])}function Rl(e,l){s.useEffect(()=>{e==null||e.session.setMode(`ace/mode/${l}`)},[e,l])}function Il(e,l){s.useEffect(()=>{e==null||e.session.setUseWrapMode(l??!0)},[e,l])}function Nl(e,l){s.useEffect(()=>{e==null||e.setTheme(be(l))},[e,l])}const Dl=s.forwardRef((e,l)=>{var t,o;const{ace:i,value:d,language:v,i18nStrings:a,editorContentHeight:r,onEditorContentResize:b,ariaLabel:h,languageLabel:E,preferences:u,loading:g,themes:S,getModalRoot:w,removeModalRoot:A}=e,k=Qe(e,["ace","value","language","i18nStrings","editorContentHeight","onEditorContentResize","ariaLabel","languageLabel","preferences","loading","themes","getModalRoot","removeModalRoot"]),{__internalRootRef:C}=We("CodeEditor",{props:{language:v}}),{controlId:f,ariaLabelledby:L,ariaDescribedby:M}=Ue(e),[P=480,y]=Xe(r,b,480,{componentName:"code-editor",changeHandler:"onEditorContentResize",controlledProp:"editorContentHeight"}),ve=se(C),Q=tl(),W=Ye(k),_=re("code-editor"),ge=s.useRef(null),me=s.useRef(null),[fe,_e]=Ze(m=>m.contentBoxWidth),he=el(_e,C),U=ll("code-editor-pane"),[T,D]=s.useState("hidden"),[x,pe]=s.useState([]),[Ee,F]=s.useState(),[q,Se]=s.useState({row:0,column:0}),[we,X]=s.useState(!1),{editorRef:Y,editor:p}=Tl(i,S,g);al(l,Y),s.useEffect(()=>{if(!(!i||!p))return Cl(i,p,pe,Se,F,D),()=>{p==null||p.destroy()}},[i,p]),yl(p,{controlId:f,ariaLabel:h,ariaLabelledby:L,ariaDescribedby:M});const{onResize:Le}=Ml(p,{width:fe,height:r});xl(p,d),Rl(p,v),Il(p,u==null?void 0:u.wrapLines);const Z=de(ve,S);Nl(p,(t=u==null?void 0:u.theme)!==null&&t!==void 0?t:Z),dl(p,e.onChange,e.onDelayedChange),s.useEffect(()=>{x.length===0&&D("hidden"),e.onValidate&&N(e.onValidate,{annotations:x})},[x,e.onValidate]);const Ce=E??pl(v),Ae=x.filter(m=>m.type==="error").length,ke=x.filter(m=>m.type==="warning").length,Te=s.useMemo(()=>x.filter(m=>m.type===T),[x,T]),ye=s.useCallback(m=>{p&&m.target===p.container&&m.keyCode===H.enter&&(m.stopPropagation(),m.preventDefault(),p.focus())},[p]),Me=s.useCallback(()=>X(!0),[]),xe=s.useCallback(()=>X(!1),[]),Re=s.useCallback(()=>{D(T!=="error"?"error":"hidden")},[T]),Ie=s.useCallback(()=>{D(T!=="warning"?"warning":"hidden")},[T]),Ne=()=>{D("hidden")},De=({row:m=0,column:j=0})=>{p&&(p.focus(),p.gotoLine(m+1,j,!1),F(void 0))},Pe=s.useCallback(()=>{F(void 0)},[]),[qe,O]=s.useState(!1),ze=()=>O(!0),He=m=>{N(e.onPreferencesChange,m),O(!1)},Be=()=>O(!1),ee=T!=="hidden";return n.createElement("div",Object.assign({},W,{className:R(c["code-editor"],W.className,{[c["code-editor-refresh"]]:Q}),ref:he}),g&&n.createElement(bl,null,n.createElement(ie,{tagName:"span"},_("i18nStrings.loadingState",a==null?void 0:a.loadingState))),!i&&!g&&n.createElement(cl,{recoveryText:_("i18nStrings.errorStateRecovery",a==null?void 0:a.errorStateRecovery),onRecoveryClick:e.onRecoveryClick},_("i18nStrings.errorState",a==null?void 0:a.errorState)),i&&!g&&n.createElement(n.Fragment,null,n.createElement(ue,{height:Math.max(P,20),minHeight:20,onResize:m=>{y(m),Le(),N(b,{height:m})},handleAriaLabel:_("i18nStrings.resizeHandleAriaLabel",a==null?void 0:a.resizeHandleAriaLabel),handleTooltipText:_("i18nStrings.resizeHandleTooltipText",a==null?void 0:a.resizeHandleTooltipText)},n.createElement("div",{ref:Y,className:R(c.editor,c.ace,c["editor-refresh"]),onKeyDown:ye,tabIndex:0,role:"group","aria-label":_("i18nStrings.editorGroupAriaLabel",a==null?void 0:a.editorGroupAriaLabel)})),n.createElement("div",{role:"group","aria-label":_("i18nStrings.statusBarGroupAriaLabel",a==null?void 0:a.statusBarGroupAriaLabel)},n.createElement(kl,{languageLabel:Ce,cursorPosition:_("i18nStrings.cursorPosition",(o=a==null?void 0:a.cursorPosition)===null||o===void 0?void 0:o.call(a,q.row+1,q.column+1),m=>m({row:q.row+1,column:q.column+1})),errorCount:Ae,warningCount:ke,paneStatus:T,onErrorPaneToggle:Re,onWarningPaneToggle:Ie,onTabFocus:Me,onTabBlur:xe,errorsTabRef:ge,warningsTabRef:me,i18nStrings:a,isTabFocused:we,paneId:ee?U:void 0,onPreferencesOpen:ze,isRefresh:Q}),n.createElement(wl,{id:U,paneStatus:T,visible:ee,annotations:Te,highlighted:Ee,onAnnotationClick:De,onAnnotationClear:Pe,onClose:Ne,cursorPositionLabel:_("i18nStrings.cursorPosition",a==null?void 0:a.cursorPosition,m=>(j,Fe)=>m({row:j,column:Fe})),closeButtonAriaLabel:_("i18nStrings.paneCloseButtonAriaLabel",a==null?void 0:a.paneCloseButtonAriaLabel),handleAriaLabel:_("i18nStrings.resizeHandleAriaLabel",a==null?void 0:a.resizeHandleAriaLabel),handleTooltipText:_("i18nStrings.resizeHandleTooltipText",a==null?void 0:a.resizeHandleTooltipText)})),qe&&n.createElement(Ll,{getModalRoot:w,removeModalRoot:A,onConfirm:He,onDismiss:Be,themes:S??fl,preferences:u,defaultTheme:Z,i18nStrings:{header:_("i18nStrings.preferencesModalHeader",a==null?void 0:a.preferencesModalHeader),cancel:_("i18nStrings.preferencesModalCancel",a==null?void 0:a.preferencesModalCancel),confirm:_("i18nStrings.preferencesModalConfirm",a==null?void 0:a.preferencesModalConfirm),wrapLines:_("i18nStrings.preferencesModalWrapLines",a==null?void 0:a.preferencesModalWrapLines),theme:_("i18nStrings.preferencesModalTheme",a==null?void 0:a.preferencesModalTheme),lightThemes:_("i18nStrings.preferencesModalLightThemes",a==null?void 0:a.preferencesModalLightThemes),darkThemes:_("i18nStrings.preferencesModalDarkThemes",a==null?void 0:a.preferencesModalDarkThemes),themeFilteringAriaLabel:_("i18nStrings.preferencesModalThemeFilteringAriaLabel",a==null?void 0:a.preferencesModalThemeFilteringAriaLabel),themeFilteringPlaceholder:_("i18nStrings.preferencesModalThemeFilteringPlaceholder",a==null?void 0:a.preferencesModalThemeFilteringPlaceholder),themeFilteringClearAriaLabel:a==null?void 0:a.preferencesModalThemeFilteringClearAriaLabel}})))});nl(Dl,"CodeEditor");export{Dl as C};

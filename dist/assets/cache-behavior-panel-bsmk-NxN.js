const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ace-DbSUfSvv.js","assets/index-BE4yRgP3.js","assets/index-C7yIpT8V.css"])))=>i.map(i=>d[i]);
import{r as o,ah as W,j as e,C as G,S as x,a as s,H as Y}from"./index-BE4yRgP3.js";import{C as J}from"./index-CKdIzqJC.js";import{C as K}from"./index-CcOdgEv7.js";import{F as i}from"./index-DutyyULC.js";import{I as p}from"./index-5LFjcnj9.js";import{R as h}from"./index-DSTRkxRf.js";import{S as Q}from"./index-Di11rdQI.js";import"./common-components-BZ9mOytS.js";import{VIEWER_PROTOCOL_POLICY_OPTIONS as g,ALLOWED_HTTP_METHOD_OPTIONS as E,FORWARD_HEADER_OPTIONS as C,CODE_EDITOR_THEMES as U}from"./form-config-N3XWZB5L.js";import X from"./cache-behavior-footer-DvghjgC9.js";import Z from"./origin-request-policy-BsmvqkJ_.js";import{InfoLink as $}from"./info-link-BYratZ4H.js";import"./help-panel-CmLZfnwk.js";import"./index-BYbrfVCt.js";import"./internal-DSrgjZgo.js";import"./internal-BV8Tvtkr.js";import"./internal-BHGl6YvS.js";import"./reset-contexts-for-modal-DLATEn5u.js";import"./internal-BwkHy2e0.js";import"./index-CWZQ9OB-.js";import"./index-Le2aB-FB.js";import"./use-select-BUQYPFrV.js";import"./index-DFd9ICZj.js";import"./is-development-CxJkH8d1.js";import"./internal-C8Sn4bE2.js";import"./radio-group-rgmxrT-l.js";import"./all.en-B8oujjg7.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./breadcrumbs-DCd0KdBT.js";import"./index-oSmH0jDR.js";import"./external-link-BoMsN8AD.js";import"./external-link-group-NAonENHc.js";import"./index-DmWNv3ti.js";import"./full-page-header-B246aIki.js";import"./navigation-B_ptShBe.js";import"./index-DKAL2oF0.js";import"./internal-CXCLALy2.js";import"./notifications-C0mOdQEg.js";import"./disclaimer-flashbar-item-DnmFzdcC.js";import"./index-BqGYj5Hl.js";import"./index-C7JkGmFA.js";import"./form-validation-config-DPY_-iEN.js";import"./_cacheHas-D0koY4q2.js";import"./_arrayIncludesWith-DkxKNHnR.js";import"./_setToArray-BGIYkLTN.js";import"./cache-key-origin-settings-BSa4qyzt.js";const n={minimumTtl:0,maximumTtl:31536e3,defaultTtl:86400};function Je({data:T,loadHelpPanelContent:j,validation:u=!1,errors:c,setErrors:t,setData:m,refs:r,cachePolicyProps:l}){const[D,d]=o.useState(n.minimumTtl),[V,b]=o.useState(n.maximumTtl),[S,f]=o.useState(n.defaultTtl),[y,R]=o.useState(g[0].value),[O,P]=o.useState(E[0].value),[_,w]=o.useState(C[0].value),[L,A]=o.useState(),[H,v]=o.useState(!0),[I,F]=o.useState(""),[q,M]=o.useState(null);o.useEffect(()=>{v(!0),W(()=>import("./ace-DbSUfSvv.js").then(a=>a.a),__vite__mapDeps([0,1,2])).then(a=>{a.config.set("basePath","./libs/ace/"),A(a),v(!1)})},[]);const k=a=>{const{value:N}=a.detail;F(N),u&&(m==null||m({codeEditor:N}),t==null||t({codeEditor:""}))},z=a=>{M(a.detail)},B=()=>{d(n.minimumTtl),b(n.maximumTtl),f(n.defaultTtl)};return e.jsxDEV(G,{id:"cache-behavior-panel",className:"custom-screenshot-hide",header:e.jsxDEV(Y,{variant:"h2",info:e.jsxDEV($,{onFollow:()=>j(8)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:91,columnNumber:36},this),children:"Cache behavior settings"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:91,columnNumber:9},this),footer:e.jsxDEV(X,{},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:95,columnNumber:15},this),children:e.jsxDEV(x,{size:"l",children:[e.jsxDEV(Z,{refs:r,data:T,errors:c,setData:m,setErrors:t,validation:u},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:98,columnNumber:9},this),e.jsxDEV(i,{label:"Cache policy",description:"The Amazon S3 bucket or web server that you want CloudFront to get your web content from.",errorText:!l.selectedPolicy&&(c==null?void 0:c.cachePolicy),secondaryControl:e.jsxDEV(x,{direction:"horizontal",size:"m",children:[e.jsxDEV(s,{formAction:"none",iconName:"refresh",ariaLabel:"Refresh cache policies"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:113,columnNumber:15},this),e.jsxDEV(s,{ref:l.buttonRef,formAction:"none","data-testid":"create-cache-policy-button",onClick:()=>l.toggleSplitPanel(!0),children:"Create cache policy"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:112,columnNumber:13},this),children:e.jsxDEV(Q,{ref:r==null?void 0:r.cachePolicy,placeholder:"Choose a cache policy",options:l.policies,selectedAriaLabel:"Selected",ariaRequired:!0,selectedOption:l.selectedPolicy,onChange:({detail:{selectedOption:a}})=>{l.setSelectedPolicy(a),t==null||t({cachePolicy:""})},"data-testid":"cache-policy-select"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:107,columnNumber:9},this),e.jsxDEV(i,{label:"Viewer protocol policy",stretch:!0,children:e.jsxDEV(h,{items:g,value:y,onChange:a=>R(a.detail.value),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:142,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:141,columnNumber:9},this),e.jsxDEV(i,{label:"Allowed HTTP methods",stretch:!0,children:e.jsxDEV(h,{items:E,value:O,onChange:a=>P(a.detail.value),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:150,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:149,columnNumber:9},this),e.jsxDEV(i,{label:"Forward headers",description:"Cache your objects based on header values.",stretch:!0,children:e.jsxDEV(h,{items:C,value:_,onChange:a=>w(a.detail.value),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:157,columnNumber:9},this),e.jsxDEV(i,{label:"Object caching",stretch:!0,description:"Cache your objects based on header values.",children:e.jsxDEV(K,{columns:4,children:[e.jsxDEV(i,{label:"Minimum TTL",children:e.jsxDEV(p,{type:"number",value:String(D),onChange:a=>d(Number(a.detail.value)),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:168,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:167,columnNumber:13},this),e.jsxDEV(i,{label:"Maximum TTL",children:e.jsxDEV(p,{type:"number",value:String(V),onChange:a=>b(Number(a.detail.value)),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:176,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:175,columnNumber:13},this),e.jsxDEV(i,{label:"Default TTL",children:e.jsxDEV(p,{type:"number",value:String(S),onChange:a=>f(Number(a.detail.value)),ariaRequired:!0},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:184,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:183,columnNumber:13},this),e.jsxDEV("div",{className:"custom-header",children:e.jsxDEV(s,{formAction:"none",onClick:B,children:"Set to default"},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:192,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:166,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:165,columnNumber:9},this),e.jsxDEV(i,{label:"Create policy",description:"Create a policy for your cache behavior settings.",stretch:!0,errorText:c==null?void 0:c.codeEditor,children:e.jsxDEV(J,{ace:L,value:I,language:"json",onChange:k,preferences:q,onPreferencesChange:z,loading:H,themes:U,ref:r==null?void 0:r.codeEditor},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:204,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:97,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/form/components/cache-behavior-panel/cache-behavior-panel.tsx",lineNumber:87,columnNumber:5},this)}export{Je as default};

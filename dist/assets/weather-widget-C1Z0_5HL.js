import{j as e,S as n,C as l,B as r,I as h,H as N}from"./index-WOunTE3s.js";import{C as f}from"./index-CyDR53BV.js";import{K as v}from"./index-PfMNUIq2.js";import{S as g}from"./index-DL1yZozt.js";import{T as D}from"./index-CkQFQf-B.js";import{WEATHER_CODES as c}from"./types-CuN4PTCR.js";import"./internal-B7i7uY4B.js";import"./collection-preferences-metadata-context-CaMNS2lh.js";import"./internal-Dam-vJDs.js";import"./index-B0LTniq4.js";import"./internal-CN81xZnG.js";function L({weatherData:o,location:d}){const{current:t,daily:s}=o,p=s?s.time.map((a,i)=>({day:new Date(a).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),weatherCode:s.weather_code[i],maxTemp:s.temperature_2m_max[i],minTemp:s.temperature_2m_min[i],precipitation:s.precipitation_sum[i],windSpeed:s.wind_speed_10m_max[i]})):[],m=a=>`${Math.round(a)}Â°C`,u=(a,i)=>{const x=i!==void 0?["N","NE","E","SE","S","SW","W","NW"][Math.round(i/45)%8]:"";return`${Math.round(a)} km/h ${x}`.trim()},w=a=>(c[a]||c[0]).iconName,b=a=>(c[a]||c[0]).description;return e.jsxDEV(n,{size:"l",children:[t&&e.jsxDEV(l,{header:e.jsxDEV(N,{variant:"h2",description:`Current conditions for ${d.name}, ${d.country}`,children:"Current Weather"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:73,columnNumber:13},this),children:e.jsxDEV(f,{columns:2,variant:"text-grid",children:[e.jsxDEV("div",{children:e.jsxDEV(n,{size:"m",children:[e.jsxDEV(r,{variant:"h1",fontSize:"display-l",children:m(t.temperature_2m)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(n,{size:"xs",direction:"horizontal",alignItems:"center",children:[e.jsxDEV(h,{name:w(t.weather_code)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:85,columnNumber:19},this),e.jsxDEV(r,{variant:"h3",children:b(t.weather_code)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:86,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:84,columnNumber:17},this),e.jsxDEV(r,{variant:"small",color:"text-body-secondary",children:["Feels like ",m(t.apparent_temperature)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:79,columnNumber:13},this),e.jsxDEV("div",{children:e.jsxDEV(v,{columns:1,items:[{label:"Humidity",value:`${t.relative_humidity_2m}%`},{label:"Wind",value:u(t.wind_speed_10m,t.wind_direction_10m)},{label:"Precipitation",value:`${t.precipitation} mm`},{label:"Last updated",value:new Date(t.time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}]},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:71,columnNumber:9},this),s&&p.length>0&&e.jsxDEV(l,{header:e.jsxDEV(N,{variant:"h2",description:"Extended weather forecast",children:"7-Day Forecast"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:128,columnNumber:13},this),children:e.jsxDEV(D,{columnDefinitions:[{id:"day",header:"Day",cell:a=>a.day,width:150},{id:"weather",header:"Weather",cell:a=>e.jsxDEV(n,{size:"xs",direction:"horizontal",alignItems:"center",children:[e.jsxDEV(h,{name:w(a.weatherCode)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:146,columnNumber:21},this),e.jsxDEV(r,{children:b(a.weatherCode)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:147,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:145,columnNumber:19},this),width:200},{id:"temperature",header:"Temperature",cell:a=>e.jsxDEV(n,{size:"xs",direction:"horizontal",children:[e.jsxDEV(r,{variant:"strong",children:m(a.maxTemp)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:157,columnNumber:21},this),e.jsxDEV(r,{color:"text-body-secondary",children:m(a.minTemp)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:158,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:156,columnNumber:19},this),width:120},{id:"precipitation",header:"Rain",cell:a=>`${a.precipitation} mm`,width:80},{id:"wind",header:"Wind",cell:a=>u(a.windSpeed),width:100}],items:p,loadingText:"Loading forecast",trackBy:"day",empty:e.jsxDEV(r,{textAlign:"center",color:"inherit",children:e.jsxDEV(r,{variant:"strong",textAlign:"center",color:"inherit",children:"No forecast data available"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:181,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:180,columnNumber:15},this),variant:"borderless"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:68,columnNumber:5},this)}function I({error:o,onRetry:d}){return e.jsxDEV(l,{children:e.jsxDEV(r,{textAlign:"center",children:e.jsxDEV(n,{size:"m",children:[e.jsxDEV(g,{type:"error",children:"Weather data unavailable"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:204,columnNumber:11},this),e.jsxDEV(r,{variant:"p",children:o},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:205,columnNumber:11},this),d&&e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"inline-block",children:e.jsxDEV(h,{name:"refresh"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:209,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:208,columnNumber:15},this),e.jsxDEV(r,{display:"inline-block",margin:{left:"xs"},children:e.jsxDEV("button",{onClick:d,style:{background:"none",border:"none",color:"inherit",textDecoration:"underline",cursor:"pointer"},children:"Try again"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:212,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:203,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:202,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:201,columnNumber:5},this)}function A({location:o}){return e.jsxDEV(l,{children:e.jsxDEV(r,{textAlign:"center",children:e.jsxDEV(n,{size:"m",children:[e.jsxDEV(g,{type:"loading",children:"Loading weather data"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:242,columnNumber:11},this),o&&e.jsxDEV(r,{variant:"p",children:["Fetching current conditions for ",o.name,", ",o.country,"..."]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:244,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:241,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:240,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/weather-widget.tsx",lineNumber:239,columnNumber:5},this)}export{I as WeatherError,A as WeatherLoading,L as WeatherWidget};

import{r as i,j as t,ae as W,af as z}from"./index-DWytQeHI.js";import{T as B}from"./index-C0qHFaFs.js";import{g as U}from"./header-Bq6a0rSg.js";import{r as G}from"./pagination-CstYi-qE.js";import{a as K}from"./table-BjmAWgEe.js";import{g as q}from"./text-filter-B4Foq7I4.js";import{FullPageHeader as J}from"./full-page-header-D_SPZQpz.js";import"./help-panel-DBGbqBAd.js";import{Navigation as Q}from"./navigation-ImUsOz4E.js";import{Notifications as X}from"./notifications-DwJXt7KH.js";import{CustomAppLayout as Y,TableNoMatchState as Z,TableEmptyState as $}from"./common-components-XsZD54w0.js";import{EDITABLE_COLUMN_DEFINITIONS as ee,DEFAULT_PREFERENCES as te,Preferences as oe,serverSideErrorsStore as P,domainNameRegex as ie,INVALID_DOMAIN_MESSAGE as ae}from"./table-config-B402brkv.js";import{useColumnWidths as se}from"./use-column-widths-BwuOhfy8.js";import{useLocalStorage as re}from"./use-local-storage-UKsI4IvL.js";import{ToolsContent as le,Breadcrumbs as ne,ManualRefresh as me}from"./common-components-iG82dnVM.js";import{u as pe}from"./use-collection-DqbeOA_O.js";import"./collection-preferences-metadata-context-NvX2sgjg.js";import"./internal-C90uBoFa.js";import"./index-iaMOno-n.js";import"./internal-MwMY9qEn.js";import"./info-link-BGUgkRzC.js";import"./index-CFHpzKZ7.js";import"./internal-BE_uTrzb.js";import"./is-development-CxJkH8d1.js";import"./disclaimer-flashbar-item-d0Dp6eIT.js";import"./all.en-Dd8uVYwB.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./breadcrumbs-bGwlz0Xp.js";import"./index-Cpt1Ufuk.js";import"./external-link-C_xfEIPy.js";import"./external-link-group-Drp_sksv.js";import"./index-CoOR3VZR.js";import"./index-CxhBN4UB.js";import"./internal-3WXCd40b.js";import"./index-BC4zSFnP.js";import"./index-CRLKZ1Ah.js";import"./index-H3pcvOdj.js";import"./index-D4pXWhEB.js";import"./internal-8v-3qFGZ.js";import"./reset-contexts-for-modal-DSN45wI8.js";import"./utilities.esm-B5npNyjX.js";import"./index-BUiGObGZ.js";import"./internal-Bt9KX7iP.js";import"./internal-DXWxGLKw.js";import"./internal-DAYR_Pls.js";import"./radio-group-C1-xwU2X.js";import"./index-CNVZV4R0.js";import"./index-bSc1U2-i.js";import"./internal-QylLaprw.js";import"./use-select-D8CSqomU.js";import"./index-DPXgacSO.js";import"./index-BMIwXoru.js";import"./index-B87KDpc_.js";import"./breadcrumbs-ncC75ksv.js";const ue=m=>new Promise(s=>setTimeout(()=>s(),m));function be({loadHelpPanelContent:m,distributions:s}){var y;const[p,u]=i.useState(!0),[l,h]=i.useState(!1),[b,x]=i.useState(!1),[V,C]=i.useState(),[d,E]=i.useState(s),[D,I]=se("React-TableEditable-Widths",ee),[e,R]=re("React-TableEditable-Preferences",te),[w,T]=i.useState(),c=()=>{E(d),T(void 0)},{items:S,actions:A,filteredItemsCount:F,collectionProps:n,filterProps:f,paginationProps:v,allPageItems:k}=pe(d,{filtering:{empty:t.jsxDEV($,{resourceName:"Distribution"},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:65,columnNumber:16},this),noMatch:t.jsxDEV(Z,{onClearFilter:()=>A.setFiltering("")},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:66,columnNumber:18},this)},pagination:{pageSize:e==null?void 0:e.pageSize},sorting:{defaultState:{sortingColumn:D[0]}},selection:{}}),M={...v,onChange:o=>{c(),v.onChange(o)}},H={...f,onChange:o=>{c(),f.onChange(o)}},g={...n,onSortingChange:o=>{var a;c(),(a=n.onSortingChange)==null||a.call(n,o)}},O=async()=>{h(!0),await ue(500),c(),C(new Date),h(!1)};i.useEffect(()=>{setTimeout(()=>{u(!1),C(new Date)},500)},[]);const _=async(o,a,L)=>{if(!a.id)return;x(!0),await new Promise(r=>setTimeout(r,1500));let N=d;if(P.delete(o),a.id==="domainName"&&!ie.test(String(L)))throw P.set(o,ae),new Error("Inline error");const j={...o,[a.id]:L};n.sortingColumn===a&&(N=[...k]),f.filteringText&&(N=d),(n.sortingColumn===a||f.filteringText)&&T(S.map(r=>r===o?j:r)),E(N.map(r=>r===o?j:r)),x(!1)};return t.jsxDEV(B,{...g,enableKeyboardNavigation:!0,columnDefinitions:D,columnDisplay:e==null?void 0:e.contentDisplay,items:w||S,submitEdit:_,ariaLabels:K,renderAriaLive:G,variant:"full-page",stickyHeader:!0,resizableColumns:!0,onColumnWidthsChange:I,wrapLines:e==null?void 0:e.wrapLines,stripedRows:e==null?void 0:e.stripedRows,contentDensity:e==null?void 0:e.contentDensity,stickyColumns:e==null?void 0:e.stickyColumns,selectionType:"multi",loading:p,header:t.jsxDEV(J,{selectedItemsCount:((y=g.selectedItems)==null?void 0:y.length)??0,counter:p?void 0:U(s,g.selectedItems),extraActions:t.jsxDEV(me,{onRefresh:O,loading:l,disabled:b,lastRefresh:V},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:178,columnNumber:13},this),onInfoLinkClick:m},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:174,columnNumber:9},this),filter:t.jsxDEV(z,{...H,filteringAriaLabel:"Filter distributions",filteringPlaceholder:"Find distributions",filteringClearAriaLabel:"Clear",countText:q(F??0),disabled:b},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:184,columnNumber:9},this),pagination:t.jsxDEV(W,{...M,disabled:b},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:193,columnNumber:19},this),preferences:t.jsxDEV(oe,{preferences:e,setPreferences:R,disabled:b},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:194,columnNumber:20},this)},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:154,columnNumber:5},this)}function ct({distributions:m}){const s=i.useRef(null),[p,u]=i.useState(!1);return t.jsxDEV(Y,{ref:s,navigation:t.jsxDEV(Q,{activeHref:"#/distributions"},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:210,columnNumber:19},this),notifications:t.jsxDEV(X,{},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:211,columnNumber:22},this),breadcrumbs:t.jsxDEV(ne,{},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:212,columnNumber:20},this),content:t.jsxDEV(be,{distributions:m,loadHelpPanelContent:()=>{var l;u(!0),(l=s.current)==null||l.focusToolsClose()}},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:214,columnNumber:9},this),contentType:"table",tools:t.jsxDEV(le,{},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:223,columnNumber:14},this),toolsOpen:p,onToolsChange:({detail:l})=>u(l.open),stickyNotifications:!0},void 0,!1,{fileName:"/app/code/src/pages/table-editable/root.tsx",lineNumber:208,columnNumber:5},this)}export{ct as App};

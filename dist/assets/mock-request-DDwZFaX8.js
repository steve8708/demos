import{R as r,m as le,a9 as Te,r as L,b3 as ne,M as R,J as W,ay as x,K as de,aD as B,b as Me,ce as ze,ca as Ue,aX as Ve,aQ as J,cf as De,bL as ce,aK as je,bO as we,cg as Fe,b2 as Oe,_ as Ne,bn as xe,u as ke,n as Be,p as Ee,O as ee,c as Re}from"./index-WOunTE3s.js";import{I as te}from"./internal-CN81xZnG.js";import{I as ge}from"./internal-nCT0UzHa.js";import{m as Ke,P as Se}from"./promises-BGwITM36.js";import{I as Ae}from"./internal-BN51aXo6.js";import{r as G,_ as Pe,t as Je,a as Ye}from"./index-5qndC0qu.js";import{I as $e}from"./internal-Dam-vJDs.js";import{u as qe}from"./use-collection-HQtRa1Qy.js";import{f as N}from"./aws-region-utils-DEwpaX2O.js";var ue=6e4,fe=36e5;function We(o){return G(1,arguments),o instanceof Date||Pe(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}function Ge(o){if(G(1,arguments),!We(o)&&typeof o!="number")return!1;var e=Je(o);return!isNaN(Number(e))}function He(o,e){var t;G(1,arguments);var a=Ye((t=void 0)!==null&&t!==void 0?t:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof o=="string"||Object.prototype.toString.call(o)==="[object String]"))return new Date(NaN);var i=et(o),n;if(i.date){var f=tt(i.date,a);n=ot(f.restDateString,f.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var _=n.getTime(),b=0,v;if(i.time&&(b=at(i.time),isNaN(b)))return new Date(NaN);if(i.timezone){if(v=it(i.timezone),isNaN(v))return new Date(NaN)}else{var m=new Date(_+b),c=new Date(0);return c.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),c.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),c}return new Date(_+b+v)}var g={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ze=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Qe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function et(o){var e={},t=o.split(g.dateTimeDelimiter),a;if(t.length>2)return e;if(/:/.test(t[0])?a=t[0]:(e.date=t[0],a=t[1],g.timeZoneDelimiter.test(e.date)&&(e.date=o.split(g.timeZoneDelimiter)[0],a=o.substr(e.date.length,o.length))),a){var i=g.timezone.exec(a);i?(e.time=a.replace(i[1],""),e.timezone=i[1]):e.time=a}return e}function tt(o,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=o.match(t);if(!a)return{year:NaN,restDateString:""};var i=a[1]?parseInt(a[1]):null,n=a[2]?parseInt(a[2]):null;return{year:n===null?i:n*100,restDateString:o.slice((a[1]||a[2]).length)}}function ot(o,e){if(e===null)return new Date(NaN);var t=o.match(Ze);if(!t)return new Date(NaN);var a=!!t[4],i=k(t[1]),n=k(t[2])-1,f=k(t[3]),_=k(t[4]),b=k(t[5])-1;if(a)return dt(e,_,b)?st(e,_,b):new Date(NaN);var v=new Date(0);return!lt(e,n,f)||!nt(e,i)?new Date(NaN):(v.setUTCFullYear(e,n,Math.max(i,f)),v)}function k(o){return o?parseInt(o):1}function at(o){var e=o.match(Qe);if(!e)return NaN;var t=P(e[1]),a=P(e[2]),i=P(e[3]);return ct(t,a,i)?t*fe+a*ue+i*1e3:NaN}function P(o){return o&&parseFloat(o.replace(",","."))||0}function it(o){if(o==="Z")return 0;var e=o.match(Xe);if(!e)return 0;var t=e[1]==="+"?-1:1,a=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ut(a,i)?t*(a*fe+i*ue):NaN}function st(o,e,t){var a=new Date(0);a.setUTCFullYear(o,0,4);var i=a.getUTCDay()||7,n=(e-1)*7+t+1-i;return a.setUTCDate(a.getUTCDate()+n),a}var rt=[31,null,31,30,31,30,31,31,30,31,30,31];function be(o){return o%400===0||o%4===0&&o%100!==0}function lt(o,e,t){return e>=0&&e<=11&&t>=1&&t<=(rt[e]||(be(o)?29:28))}function nt(o,e){return e>=1&&e<=(be(o)?366:365)}function dt(o,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function ct(o,e,t){return o===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&o>=0&&o<25}function ut(o,e){return e>=0&&e<=59}function ft(o,e){if(e=bt(o,e),e===0)return"(UTC)";const{hours:t,minutes:a}=mt(e),i=e<0?"-":"+",n=a===0?"":`:${a}`;return`(UTC${i}${t}${n})`}function bt(o,e){return e??0-new Date(o).getTimezoneOffset()}function mt(o){return{hours:Math.floor(Math.abs(o)/60),minutes:Math.abs(o%60)}}function vt({date:o,hideTimeOffset:e,isDateOnly:t,isMonthOnly:a,timeOffset:i,locale:n}){let f=He(o);Ge(f)||(f=new Date(o));const _=new Intl.DateTimeFormat(n,{month:"long",year:"numeric",day:"numeric"}).format(f),b=new Intl.DateTimeFormat(n,{hour:"2-digit",hourCycle:"h23",minute:"2-digit",second:"2-digit"}).format(f),v=_+ht(n)+b;if(e)return v;const m=ft(o,i);return v+" "+m}const _t=["ja","zh-CN","zh-TW"];function ht(o){return o&&_t.includes(o)?" ":", "}const It=r.forwardRef((o,e)=>{const t=le(o);return r.createElement(Te,Object.assign({type:"search"},o,t,{ref:e}))}),Y="s3://",Ct=/^[a-z0-9]{1}/,pt=/[A-Z]/,Lt=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function yt(o){return 3<=o.length&&o.length<=63}function me(o){const[e,...t]=o.replace(Y,"").split("/");return[e,t.join("/")]}function $(o){if(o==="")return;if(o.slice(0,Y.length)!==Y)return"validationPathMustBegin";const[e]=me(o);if(!Ct.test(e))return"validationBucketLowerCase";if(pt.test(e))return"validationBucketMustNotContain";if(!yt(e))return"validationBucketLength";if(!Lt.test(e))return"validationBucketMustComplyDns"}function oe(o,e,t){return t?o(`i18nStrings.${t}`,e==null?void 0:e[t]):void 0}function Tt(o){const[e,t]=L.useState(!1),[a,i]=L.useState(""),[n,f]=L.useState([]);return{loading:e,versions:n,resetVersions:()=>f([]),loadVersions:ne(b=>{if(b===a)return;i(b);const v=$(b),[m,c]=me(b);if(v||!m||!c||c.slice(-1)==="/")return;t(!0);const u=Ke(o(m,c));return u.promise.then(l=>{t(!1),f(l.map(s=>({value:s.VersionId,label:s.LastModified})))},l=>{l instanceof Se||t(!1)}),u})}}const O={root:"awsui_root_1vtzr_x02pv_9","view-button":"awsui_view-button_1vtzr_x02pv_13","browse-button":"awsui_browse-button_1vtzr_x02pv_17",layout:"awsui_layout_1vtzr_x02pv_21","layout-uri":"awsui_layout-uri_1vtzr_x02pv_33","layout-version":"awsui_layout-version_1vtzr_x02pv_37","layout-divider":"awsui_layout-divider_1vtzr_x02pv_42"},Mt=r.forwardRef(({i18nStrings:o,inputPlaceholder:e,resource:t,viewHref:a,invalid:i,inputAriaDescribedby:n,selectableItemsTypes:f,fetchVersions:_,onChange:b,onBrowse:v},m)=>{const c=R("s3-resource-selector"),u=L.useRef(!0),[l,s]=L.useState(!1),{versions:d,loading:h,loadVersions:C,resetVersions:y}=Tt(_),V=L.useRef(null);W(m,V);const T=t.uri,M=f&&f.indexOf("versions")>-1,z=d.filter(p=>p.value===t.versionId)[0]||null;function D(p){const U=p.detail.value,w=l?$(U):void 0;y(),b({uri:U},oe(c,o,w))}function I(){u.current=!0,s(!0);const p=$(t.uri);b(t,oe(c,o,p)),M&&C(t.uri)}return L.useEffect(()=>{var p;if(!u.current||!M)return;const{cancel:U}=(p=C(T))!==null&&p!==void 0?p:{};return U},[T,M,C]),r.createElement("div",{className:O.root},r.createElement("div",{className:O.layout},r.createElement(te,{className:O["layout-uri"],label:c("i18nStrings.inContextUriLabel",o==null?void 0:o.inContextUriLabel),stretch:!0},r.createElement(It,{ref:V,value:T,ariaDescribedby:n,clearAriaLabel:o==null?void 0:o.inContextInputClearAriaLabel,placeholder:e??(o==null?void 0:o.inContextInputPlaceholder),onChange:D,invalid:i,onFocus:()=>u.current=!1,onBlur:I})),M&&r.createElement(te,{className:O["layout-version"],label:c("i18nStrings.inContextVersionSelectLabel",o==null?void 0:o.inContextVersionSelectLabel),stretch:!0},r.createElement(ge,{selectedOption:z,placeholder:c("i18nStrings.inContextSelectPlaceholder",o==null?void 0:o.inContextSelectPlaceholder),disabled:d.length===0,options:d,onChange:p=>b(Object.assign(Object.assign({},t),{versionId:p.detail.selectedOption.value}),void 0),invalid:!1})),r.createElement("div",null,r.createElement(x,{className:O["view-button"],disabled:!a,href:a,target:"_blank",iconName:"external",iconAlign:"right",formAction:"none",ariaLabel:c("i18nStrings.inContextViewButtonAriaLabel",o==null?void 0:o.inContextViewButtonAriaLabel)},c("i18nStrings.inContextViewButton",o==null?void 0:o.inContextViewButton))),r.createElement("div",{className:O["layout-divider"]}),r.createElement("div",null,r.createElement(x,{className:O["browse-button"],disabled:h,formAction:"none",onClick:v},c("i18nStrings.inContextBrowseButton",o==null?void 0:o.inContextBrowseButton)))),r.createElement(de,{assertive:!0},h&&r.createElement(B,{margin:{top:"s"}},r.createElement(Me,{type:"loading"},c("i18nStrings.inContextLoadingText",o==null?void 0:o.inContextLoadingText)))))});function K(o){return o.reduce((e,t)=>(e&&e[e.length-1]!=="/"&&(e=e+"/"),e+t),"")}function zt({title:o,subtitle:e,action:t}){return r.createElement(B,{textAlign:"center",color:"inherit"},r.createElement(B,{variant:"strong",textAlign:"center",color:"inherit"},o),r.createElement(B,{variant:"p",padding:{bottom:"s"},color:"inherit"},e),t)}const q={"modal-actions":"awsui_modal-actions_12hyz_1xqz4_181","submit-button":"awsui_submit-button_12hyz_1xqz4_185","last-updated-caption":"awsui_last-updated-caption_12hyz_1xqz4_189"};function H(o,e){return{filteringCounterText:o("i18nStrings.filteringCounterText",e==null?void 0:e.filteringCounterText,t=>a=>t({count:a})),labelRefresh:o("i18nStrings.labelRefresh",e==null?void 0:e.labelRefresh),labelsPagination:e==null?void 0:e.labelsPagination,noMatchTitle:o("i18nStrings.filteringNoMatches",e==null?void 0:e.filteringNoMatches),noMatchSubtitle:o("i18nStrings.filteringCantFindMatch",e==null?void 0:e.filteringCantFindMatch),clearFilterButtonText:o("i18nStrings.clearFilterButtonText",e==null?void 0:e.clearFilterButtonText),filteringClearAriaLabel:e==null?void 0:e.labelClearFilter,lastUpdatedText:o("i18nStrings.modalLastUpdatedText",e==null?void 0:e.modalLastUpdatedText)}}function Z({forwardFocusRef:o,columnDefinitions:e,fetchData:t,trackBy:a,i18nStrings:i={},isVisualRefresh:n,visibleColumns:f,isItemDisabled:_,onSelect:b}){var v;const[m,c]=L.useState(!1),[u,l]=L.useState([]),[s,d]=L.useState(),h=L.useRef(null),C=ne(b);function y(){return c(!0),t().then(w=>{l(w),c(!1)}).catch(()=>{c(!1)})}function V(){return De(this,void 0,void 0,function*(){yield y(),d(new Date)})}L.useEffect(()=>{y()},[]),W(o,h);const{items:T,filteredItemsCount:M,collectionProps:z,filterProps:D,paginationProps:I,actions:p}=qe(u,{selection:{trackBy:a},filtering:{empty:i.emptyText,noMatch:r.createElement(zt,{title:i.noMatchTitle,subtitle:i.noMatchSubtitle,action:r.createElement(x,{onClick:()=>p.setFiltering("")},i.clearFilterButtonText)})},pagination:{},sorting:{}}),U=(v=z.selectedItems)===null||v===void 0?void 0:v[0];return L.useEffect(()=>{C(U)},[U,C]),r.createElement($e,Object.assign({variant:n?"borderless":"container"},z,{header:r.createElement(Ve,{variant:n?"h3":"h2",headingTagOverride:"h3",actions:r.createElement(Ut,{reloadData:V,i18nStrings:i,lastUpdated:s}),counter:U?`(1/${u.length})`:`(${u.length})`},i.header),trackBy:a,filter:r.createElement(Ue,Object.assign({},D,{ref:h,filteringAriaLabel:i.filteringAriaLabel,filteringClearAriaLabel:i.filteringClearAriaLabel,filteringPlaceholder:i.filteringPlaceholder,countText:i.filteringCounterText?i.filteringCounterText(M):""})),pagination:r.createElement(ze,Object.assign({},I,{ariaLabels:i.labelsPagination})),selectionType:"single",ariaLabels:i.selectionLabels,loading:m,loadingText:i.loadingText,items:T,visibleColumns:f,isItemDisabled:_,columnDefinitions:e,enableKeyboardNavigation:!0}))}function Ut({i18nStrings:o,reloadData:e,lastUpdated:t}){function a(){if(!t||!o.lastUpdatedText)return null;const i=vt({date:t.toString(),isDateOnly:!1,isMonthOnly:!1});return r.createElement("div",{className:q["last-updated-caption"]},o.lastUpdatedText,r.createElement("br",null),i,r.createElement(de,{tagName:"span",sources:[o.lastUpdatedText,i]}))}return r.createElement(J,{size:"s",direction:"horizontal",alignItems:"center"},a(),r.createElement(x,{iconName:"refresh",ariaLabel:o.labelRefresh,onClick:e}))}const ae=1024,Vt=2,ie=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function S(o){return o||"-"}function ve(o){if(o===void 0)return"-";if(o===0)return`0 ${ie[0]}`;const e=Math.floor(Math.log(o)/Math.log(ae));return parseFloat((o/Math.pow(ae,e)).toFixed(Vt))+" "+ie[e]}function E(o,e){return!!o&&o.indexOf(e)>-1}const Q=(o,e)=>{const t=o?new Date(o).getTime():0,a=e?new Date(e).getTime():0;return t-a};function j(o,e,t=""){return({sorted:a,descending:i})=>{var n,f,_,b,v,m;return a?i?(b=o("i18nStrings.labelSortedDescending",(_=e==null?void 0:e.labelSortedDescending)===null||_===void 0?void 0:_.call(e,t),c=>c({columnName:t})))!==null&&b!==void 0?b:"":(m=o("i18nStrings.labelSortedAscending",(v=e==null?void 0:e.labelSortedAscending)===null||v===void 0?void 0:v.call(e,t),c=>c({columnName:t})))!==null&&m!==void 0?m:"":(f=o("i18nStrings.labelNotSorted",(n=e==null?void 0:e.labelNotSorted)===null||n===void 0?void 0:n.call(e,t),c=>c({columnName:t})))!==null&&f!==void 0?f:""}}function Dt({forwardFocusRef:o,i18nStrings:e,isVisualRefresh:t,isItemDisabled:a,selectableItemsTypes:i,fetchData:n,visibleColumns:f,onDrilldown:_,onSelect:b}){var v,m,c,u;const l=R("s3-resource-selector");return r.createElement(Z,{forwardFocusRef:o,trackBy:"Name",fetchData:n,visibleColumns:f,isItemDisabled:a||(()=>!E(i,"buckets")),i18nStrings:Object.assign(Object.assign({},H(l,e)),{header:l("i18nStrings.selectionBuckets",e==null?void 0:e.selectionBuckets),loadingText:l("i18nStrings.selectionBucketsLoading",e==null?void 0:e.selectionBucketsLoading),filteringAriaLabel:(v=l("i18nStrings.labelFiltering",e==null?void 0:e.labelFiltering,s=>d=>s({itemsType:d})))===null||v===void 0?void 0:v((m=l("i18nStrings.selectionBuckets",e==null?void 0:e.selectionBuckets))!==null&&m!==void 0?m:""),filteringPlaceholder:l("i18nStrings.selectionBucketsSearchPlaceholder",e==null?void 0:e.selectionBucketsSearchPlaceholder),emptyText:l("i18nStrings.selectionBucketsNoItems",e==null?void 0:e.selectionBucketsNoItems),selectionLabels:Object.assign(Object.assign({},e==null?void 0:e.labelsBucketsSelection),{selectionGroupLabel:l("i18nStrings.labelsBucketsSelection.selectionGroupLabel",(c=e==null?void 0:e.labelsBucketsSelection)===null||c===void 0?void 0:c.selectionGroupLabel),itemSelectionLabel:l("i18nStrings.labelsBucketsSelection.itemSelectionLabel",(u=e==null?void 0:e.labelsBucketsSelection)===null||u===void 0?void 0:u.itemSelectionLabel,s=>(d,h)=>{var C;return s({item__Name:(C=h.Name)!==null&&C!==void 0?C:""})})})}),isVisualRefresh:t,columnDefinitions:[{id:"Name",header:l("i18nStrings.columnBucketName",e==null?void 0:e.columnBucketName),ariaLabel:j(l,e,l("i18nStrings.columnBucketName",e==null?void 0:e.columnBucketName)),sortingField:"Name",cell:s=>E(i,"objects")||E(i,"versions")?r.createElement(ce,{onFollow:()=>s.Name&&_(s.Name),variant:"link"},s.Name):s.Name,minWidth:"250px"},{id:"Region",header:l("i18nStrings.columnBucketRegion",e==null?void 0:e.columnBucketRegion),ariaLabel:j(l,e,l("i18nStrings.columnBucketRegion",e==null?void 0:e.columnBucketRegion)),sortingField:"Region",cell:s=>S(s.Region),minWidth:"150px"},{id:"CreationDate",header:l("i18nStrings.columnBucketCreationDate",e==null?void 0:e.columnBucketCreationDate),ariaLabel:j(l,e,l("i18nStrings.columnBucketCreationDate",e==null?void 0:e.columnBucketCreationDate)),sortingComparator:(s,d)=>Q(s.CreationDate,d.CreationDate),cell:s=>S(s.CreationDate)}],onSelect:s=>{var d;return b((d=s==null?void 0:s.Name)!==null&&d!==void 0?d:"")}})}function jt({forwardFocusRef:o,pathSegments:e,i18nStrings:t,isVisualRefresh:a,isItemDisabled:i,selectableItemsTypes:n,fetchData:f,visibleColumns:_,onDrilldown:b,onSelect:v}){var m,c,u,l;const s=R("s3-resource-selector");return r.createElement(Z,{key:e.join("/"),forwardFocusRef:o,trackBy:"Key",fetchData:()=>{const[d,...h]=e;return f(d,K(h))},i18nStrings:Object.assign(Object.assign({},H(s,t)),{header:s("i18nStrings.selectionObjects",t==null?void 0:t.selectionObjects),loadingText:s("i18nStrings.selectionObjectsLoading",t==null?void 0:t.selectionObjectsLoading),filteringAriaLabel:(m=s("i18nStrings.labelFiltering",t==null?void 0:t.labelFiltering,d=>h=>d({itemsType:h})))===null||m===void 0?void 0:m((c=s("i18nStrings.selectionObjects",t==null?void 0:t.selectionObjects))!==null&&c!==void 0?c:""),filteringPlaceholder:s("i18nStrings.selectionObjectsSearchPlaceholder",t==null?void 0:t.selectionObjectsSearchPlaceholder),emptyText:s("i18nStrings.selectionObjectsNoItems",t==null?void 0:t.selectionObjectsNoItems),selectionLabels:Object.assign(Object.assign({},t==null?void 0:t.labelsObjectsSelection),{selectionGroupLabel:s("i18nStrings.labelsObjectsSelection.selectionGroupLabel",(u=t==null?void 0:t.labelsObjectsSelection)===null||u===void 0?void 0:u.selectionGroupLabel),itemSelectionLabel:s("i18nStrings.labelsObjectsSelection.itemSelectionLabel",(l=t==null?void 0:t.labelsObjectsSelection)===null||l===void 0?void 0:l.itemSelectionLabel,d=>(h,C)=>{var y;return d({item__Key:(y=C.Key)!==null&&y!==void 0?y:""})})})}),isVisualRefresh:a,visibleColumns:_,isItemDisabled:i||(()=>!E(n,"objects")),columnDefinitions:[{id:"Key",header:s("i18nStrings.columnObjectKey",t==null?void 0:t.columnObjectKey),ariaLabel:j(s,t,s("i18nStrings.columnObjectKey",t==null?void 0:t.columnObjectKey)),sortingField:"Key",cell:d=>{const h=d.IsFolder||E(n,"versions"),C=d.IsFolder?{name:"folder",ariaLabel:s("i18nStrings.labelIconFolder",t==null?void 0:t.labelIconFolder)}:{name:"file",ariaLabel:s("i18nStrings.labelIconObject",t==null?void 0:t.labelIconObject)};return r.createElement(r.Fragment,null,r.createElement(je,Object.assign({},C))," ",h?r.createElement(ce,{onFollow:()=>d.Key&&b(d),variant:"link"},d.Key):d.Key)},minWidth:"250px"},{id:"LastModified",header:s("i18nStrings.columnObjectLastModified",t==null?void 0:t.columnObjectLastModified),ariaLabel:j(s,t,s("i18nStrings.columnObjectLastModified",t==null?void 0:t.columnObjectLastModified)),sortingComparator:(d,h)=>Q(d.LastModified,h.LastModified),cell:d=>S(d.LastModified)},{id:"Size",header:s("i18nStrings.columnObjectSize",t==null?void 0:t.columnObjectSize),ariaLabel:j(s,t,s("i18nStrings.columnObjectSize",t==null?void 0:t.columnObjectSize)),sortingField:"Size",cell:d=>ve(d.Size)}],onSelect:d=>{var h;return v((h=d==null?void 0:d.Key)!==null&&h!==void 0?h:"")}})}function wt({forwardFocusRef:o,pathSegments:e,i18nStrings:t,isVisualRefresh:a,isItemDisabled:i,fetchData:n,visibleColumns:f,onSelect:_}){var b,v,m,c;const u=R("s3-resource-selector");return r.createElement(Z,{forwardFocusRef:o,trackBy:"VersionId",fetchData:()=>{const[l,...s]=e;return n(l,K(s))},i18nStrings:Object.assign(Object.assign({},H(u,t)),{header:u("i18nStrings.selectionVersions",t==null?void 0:t.selectionVersions),loadingText:u("i18nStrings.selectionVersionsLoading",t==null?void 0:t.selectionVersionsLoading),filteringAriaLabel:(b=u("i18nStrings.labelFiltering",t==null?void 0:t.labelFiltering,l=>s=>l({itemsType:s})))===null||b===void 0?void 0:b((v=u("i18nStrings.selectionVersions",t==null?void 0:t.selectionVersions))!==null&&v!==void 0?v:""),filteringPlaceholder:u("i18nStrings.selectionVersionsSearchPlaceholder",t==null?void 0:t.selectionVersionsSearchPlaceholder),emptyText:u("i18nStrings.selectionVersionsNoItems",t==null?void 0:t.selectionVersionsNoItems),selectionLabels:Object.assign(Object.assign({},t==null?void 0:t.labelsVersionsSelection),{selectionGroupLabel:u("i18nStrings.labelsVersionsSelection.selectionGroupLabel",(m=t==null?void 0:t.labelsVersionsSelection)===null||m===void 0?void 0:m.selectionGroupLabel),itemSelectionLabel:u("i18nStrings.labelsVersionsSelection.itemSelectionLabel",(c=t==null?void 0:t.labelsVersionsSelection)===null||c===void 0?void 0:c.itemSelectionLabel,l=>(s,d)=>{var h;return l({item__VersionId:(h=d.VersionId)!==null&&h!==void 0?h:""})})})}),isVisualRefresh:a,visibleColumns:f,isItemDisabled:i,columnDefinitions:[{id:"ID",header:u("i18nStrings.columnVersionID",t==null?void 0:t.columnVersionID),ariaLabel:j(u,t,u("i18nStrings.columnVersionID",t==null?void 0:t.columnVersionID)),sortingField:"VersionId",cell:l=>l.VersionId,minWidth:"250px"},{id:"LastModified",header:u("i18nStrings.columnVersionLastModified",t==null?void 0:t.columnVersionLastModified),ariaLabel:j(u,t,u("i18nStrings.columnVersionLastModified",t==null?void 0:t.columnVersionLastModified)),sortingComparator:(l,s)=>Q(l.LastModified,s.LastModified),cell:l=>S(l.LastModified)},{id:"Size",header:u("i18nStrings.columnVersionSize",t==null?void 0:t.columnVersionSize),ariaLabel:j(u,t,u("i18nStrings.columnVersionSize",t==null?void 0:t.columnVersionSize)),sortingField:"Size",cell:l=>ve(l.Size)}],onSelect:l=>{var s;return _((s=l==null?void 0:l.VersionId)!==null&&s!==void 0?s:"")}})}const Ft={"modal-root":"awsui_modal-root_rkh1e_1yimk_5"};function Ot(o){return null}const _e={selectedItem:null,currentView:"buckets",breadcrumbs:[]};function Nt(o,e){switch(e.type){case"browse-buckets":return _e;case"browse-objects":return{selectedItem:null,currentView:"objects",breadcrumbs:e.breadcrumbs};case"browse-versions":return{selectedItem:null,currentView:"versions",breadcrumbs:e.breadcrumbs};case"select-item":return Object.assign(Object.assign({},o),{selectedItem:e.item})}return o}function xt({currentView:o,breadcrumbs:e,selectedItem:t}){const a="s3://";return o==="versions"?{uri:a+K(e),versionId:t??void 0}:{uri:a+K([...e,t])}}function kt({i18nStrings:o,alert:e,selectableItemsTypes:t,fetchBuckets:a,bucketsVisibleColumns:i,bucketsIsItemDisabled:n,fetchObjects:f,objectsVisibleColumns:_,objectsIsItemDisabled:b,fetchVersions:v,versionsVisibleColumns:m,versionsIsItemDisabled:c,getModalRoot:u,removeModalRoot:l,onSubmit:s,onDismiss:d}){var h;const[{currentView:C,breadcrumbs:y,selectedItem:V},T]=L.useReducer(Nt,_e),M=L.useRef(null),z=R("s3-resource-selector"),D=Oe();return we(()=>{var I;(I=M.current)===null||I===void 0||I.focus()},[y]),r.createElement("div",null,r.createElement(Ae,{className:Ft["modal-root"],visible:!0,size:"max",getModalRoot:u,removeModalRoot:l,closeAriaLabel:o==null?void 0:o.labelModalDismiss,onDismiss:d,header:z("i18nStrings.modalTitle",o==null?void 0:o.modalTitle),footer:r.createElement(J,{className:q["modal-actions"],size:"xs",direction:"horizontal"},r.createElement(x,{variant:"link",formAction:"none",onClick:d},z("i18nStrings.modalCancelButton",o==null?void 0:o.modalCancelButton)),r.createElement(x,{variant:"primary",className:q["submit-button"],disabled:!V,formAction:"none",onClick:()=>s(xt({currentView:C,breadcrumbs:y,selectedItem:V}))},z("i18nStrings.modalSubmitButton",o==null?void 0:o.modalSubmitButton)))},r.createElement(J,{size:"xxs"},r.createElement(Fe,{ariaLabel:z("i18nStrings.labelBreadcrumbs",o==null?void 0:o.labelBreadcrumbs),expandAriaLabel:o==null?void 0:o.labelExpandBreadcrumbs,onFollow:I=>{I.preventDefault(),I.detail.item.meta.onClick()},items:[{text:(h=z("i18nStrings.modalBreadcrumbRootItem",o==null?void 0:o.modalBreadcrumbRootItem))!==null&&h!==void 0?h:"",href:"",meta:{onClick:()=>T({type:"browse-buckets"})}},...y.map((I,p)=>({text:I,href:"",meta:{onClick:()=>T({type:"browse-objects",breadcrumbs:y.slice(0,p+1)})}}))]}),e,C==="buckets"?r.createElement(Dt,{forwardFocusRef:M,fetchData:a,visibleColumns:i,isItemDisabled:n,selectableItemsTypes:t,i18nStrings:o,isVisualRefresh:D,onDrilldown:I=>T({type:"browse-objects",breadcrumbs:[I]}),onSelect:I=>T({type:"select-item",item:I})}):C==="objects"?r.createElement(jt,{forwardFocusRef:M,pathSegments:y,fetchData:f,visibleColumns:_,isItemDisabled:b,selectableItemsTypes:t,i18nStrings:o,isVisualRefresh:D,onDrilldown:I=>{T({type:I.IsFolder?"browse-objects":"browse-versions",breadcrumbs:[...y,I.Key]})},onSelect:I=>T({type:"select-item",item:I})}):C==="versions"?r.createElement(wt,{forwardFocusRef:M,pathSegments:y,fetchData:v,visibleColumns:m,isItemDisabled:c,i18nStrings:o,isVisualRefresh:D,onSelect:I=>T({type:"select-item",item:I})}):Ot())))}const se={root:"awsui_root_1u0yw_rfo7y_5",alert:"awsui_alert_1u0yw_rfo7y_9"},Bt=r.forwardRef((o,e)=>{var{i18nStrings:t,inputPlaceholder:a,alert:i,resource:n,viewHref:f,invalid:_,selectableItemsTypes:b=[],inputAriaDescribedby:v,bucketsVisibleColumns:m=["Name","CreationDate"],bucketsIsItemDisabled:c,fetchBuckets:u,fetchObjects:l,objectsVisibleColumns:s=["Key","LastModified","Size"],objectsIsItemDisabled:d,fetchVersions:h,versionsVisibleColumns:C=["ID","LastModified","Size"],versionsIsItemDisabled:y,onChange:V,ariaLabel:T,getModalRoot:M,removeModalRoot:z}=o,D=Ne(o,["i18nStrings","inputPlaceholder","alert","resource","viewHref","invalid","selectableItemsTypes","inputAriaDescribedby","bucketsVisibleColumns","bucketsIsItemDisabled","fetchBuckets","fetchObjects","objectsVisibleColumns","objectsIsItemDisabled","fetchVersions","versionsVisibleColumns","versionsIsItemDisabled","onChange","ariaLabel","getModalRoot","removeModalRoot"]);xe("S3ResourceSelector",f);const{__internalRootRef:I}=ke("S3ResourceSelector"),[p,U]=L.useState(!1),w=L.useRef(null),A=L.useRef(!1);W(e,w);const{ariaLabelledby:Ce,ariaDescribedby:pe}=le(D);L.useEffect(()=>{var F;!p&&A.current&&(A.current=!1,(F=w.current)===null||F===void 0||F.focus())},[p]);const X=Be(D),Le={alert:i,i18nStrings:t,fetchBuckets:u,selectableItemsTypes:b,bucketsVisibleColumns:m,bucketsIsItemDisabled:c,fetchObjects:l,objectsVisibleColumns:s,objectsIsItemDisabled:d,fetchVersions:h,versionsVisibleColumns:C,versionsIsItemDisabled:y,getModalRoot:M,removeModalRoot:z,onSubmit:F=>{ee(V,{resource:F}),U(!1),A.current=!0},onDismiss:()=>U(!1)};return r.createElement("div",Object.assign({},X,{className:Ee(se.root,X.className),ref:I,role:"group","aria-labelledby":Ce,"aria-describedby":pe,"aria-label":T}),r.createElement(Mt,{ref:w,selectableItemsTypes:b,i18nStrings:t,inputPlaceholder:a,resource:n,viewHref:f,invalid:_,inputAriaDescribedby:v,fetchVersions:h,onBrowse:()=>U(!0),onChange:(F,ye)=>ee(V,{resource:F,errorText:ye})}),!p&&i&&r.createElement(B,{className:se.alert,margin:{top:"s"}},i),p&&r.createElement(kt,Object.assign({},Le)))});Re(Bt,"S3ResourceSelector");const he=[{Name:"bucket-enim",CreationDate:"May 02, 2019, 21:03:21 (UTC+02:00)",__region:N("me-south-1"),__folders:[],__objects:[{Key:"neutrino-8ms.sim",LastModified:"January 16, 2020, 08:31:37 (UTC+01:00)",Size:37920746064365,IsFolder:!1,__versions:[{VersionId:"a58deb0e-c9c1-4636-90e9-d63161ec95b8",LastModified:"June 27, 2019, 08:35:46 (UTC+02:00)",Size:73435821489602},{VersionId:"0143a158-9c66-41f0-9111-31fa86db04c0",LastModified:"July 03, 2019, 11:55:42 (UTC+02:00)",Size:89834263902093}]},{Key:"neutrino-7ms.sim",LastModified:"July 27, 2019, 00:15:08 (UTC+02:00)",Size:52174744931208,IsFolder:!1,__versions:[{VersionId:"07be0720-44e9-4782-bb5b-a42a922bc900",LastModified:"June 13, 2019, 16:31:06 (UTC+02:00)",Size:66667698917012},{VersionId:"3b94af6c-e7e7-4f10-b191-ad561c1a8ed9",LastModified:"May 28, 2019, 10:37:48 (UTC+02:00)",Size:0x63470b5c1405},{VersionId:"d0632c33-bb49-43cd-9c56-4369fba6704e",LastModified:"February 03, 2020, 21:49:36 (UTC+01:00)",Size:68883654768899}]},{Key:"quarks-3h.sim",LastModified:"January 06, 2020, 07:03:51 (UTC+01:00)",Size:0x60589518e8b1,IsFolder:!1,__versions:[{VersionId:"9217a7e9-ac01-4a5f-93d2-32e6cc4ea1f8",LastModified:"April 30, 2019, 01:49:01 (UTC+02:00)",Size:46528196001797},{VersionId:"03cd823b-065c-4fa5-af2d-eda7909978ca",LastModified:"August 03, 2019, 10:31:39 (UTC+02:00)",Size:86297690115515},{VersionId:"eb1c4dc5-d832-4003-a936-8e33530d46f0",LastModified:"July 05, 2019, 13:18:17 (UTC+02:00)",Size:60075512470480}]}]},{Name:"bucket-ex",CreationDate:"September 07, 2019, 17:24:10 (UTC+02:00)",__region:N("ca-central-1"),__folders:[{Key:"simulation-nano-2019",IsFolder:!0,__objects:[{Key:"quarks-8ms.sim",LastModified:"July 19, 2019, 03:59:07 (UTC+02:00)",Size:19939311060117,IsFolder:!1,__versions:[{VersionId:"5a089d13-f87a-45f3-8d7b-1117865b0aa0",LastModified:"February 19, 2020, 15:37:19 (UTC+01:00)",Size:94746267790554}]}]}],__objects:[]},{Name:"bucket-qui",CreationDate:"February 06, 2020, 19:53:08 (UTC+01:00)",__region:N("us-east-2"),__folders:[{Key:"simulation-micro-2020",IsFolder:!0,__objects:[{Key:"universe-5ms.sim",LastModified:"August 03, 2019, 00:16:17 (UTC+02:00)",Size:90011556476108,IsFolder:!1,__versions:[{VersionId:"64766fa1-5add-4a97-a8b5-c41f1f815ce4",LastModified:"June 18, 2019, 04:27:46 (UTC+02:00)",Size:20556208373429},{VersionId:"762c4e1b-1f27-4596-b39d-e3b0effc96d1",LastModified:"May 24, 2019, 00:00:15 (UTC+02:00)",Size:95989434446720}]},{Key:"neutrino-6ns.sim",LastModified:"February 13, 2020, 08:20:34 (UTC+01:00)",Size:78630822188422,IsFolder:!1,__versions:[{VersionId:"e4fb9005-9694-47f3-9fdf-b59f1a472193",LastModified:"January 22, 2020, 15:00:05 (UTC+01:00)",Size:8996181899790},{VersionId:"34bbc574-9a26-4442-b537-805862c334d2",LastModified:"September 14, 2019, 23:40:33 (UTC+02:00)",Size:41235829117335}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}}]},{Key:"simulation-macro-2018",IsFolder:!0,__objects:[{Key:"collision-3ms.sim",LastModified:"May 09, 2019, 00:34:13 (UTC+02:00)",Size:26142214013937,IsFolder:!1,__versions:[{VersionId:"c3030b2a-82d0-46d0-92a0-4d5769004bd3",LastModified:"February 02, 2020, 04:43:04 (UTC+01:00)",Size:18678967047565},{VersionId:"65882de2-b096-4db7-99cf-33517f4523c9",LastModified:"February 06, 2020, 06:29:59 (UTC+01:00)",Size:2855180158320}]},{Key:"particle-3ns.sim",LastModified:"January 26, 2020, 04:32:00 (UTC+01:00)",Size:47778118171289,IsFolder:!1,__versions:[{VersionId:"d49b5f7d-5c00-4a68-8e2c-9d99725d0041",LastModified:"February 26, 2020, 13:39:51 (UTC+01:00)",Size:72290590842305}]}]}],__objects:[{Key:"galaxy-7s.sim",LastModified:"September 22, 2019, 06:26:54 (UTC+02:00)",Size:6308938201246,IsFolder:!1,__versions:[{VersionId:"256e42c1-69fc-4bbd-918d-bd91d24bf914",LastModified:"July 09, 2019, 04:29:47 (UTC+02:00)",Size:41098527276714}]},{Key:"black-hole-9h.sim",LastModified:"August 27, 2019, 02:41:44 (UTC+02:00)",Size:0x9ac189b63e6,IsFolder:!1,__versions:[{VersionId:"683e5f24-fec0-4f75-bde5-590d5400fd48",LastModified:"August 28, 2019, 13:29:03 (UTC+02:00)",Size:30369384279742}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"neutrino-3h.sim",LastModified:"October 03, 2019, 22:07:50 (UTC+02:00)",Size:0x5e313b6b3bc8,IsFolder:!1,__versions:[{VersionId:"de9ff369-3794-49a3-84ef-e60e4d72c84f",LastModified:"November 24, 2019, 22:56:50 (UTC+01:00)",Size:5825470398596},{VersionId:"799345ac-0d07-4ad7-8dc8-e5d3bbc04d94",LastModified:"February 20, 2020, 03:14:34 (UTC+01:00)",Size:21962938052707}]},{Key:"collision-9h.sim",LastModified:"December 26, 2019, 20:22:14 (UTC+01:00)",Size:52109667471797,IsFolder:!1,__versions:[{VersionId:"2219502a-dd02-4130-bc7e-ea497a2207b4",LastModified:"November 23, 2019, 17:57:05 (UTC+01:00)",Size:69041957033697},{VersionId:"49c6aa4c-fadc-4fb6-a926-474b3546b67c",LastModified:"April 05, 2019, 17:46:34 (UTC+02:00)",Size:2822516626484},{VersionId:"0f4db3ee-3774-4558-a358-797f2aa7b0dc",LastModified:"October 07, 2019, 13:18:01 (UTC+02:00)",Size:23417942110251}]}]},{Name:"bucket-officia",CreationDate:"August 28, 2019, 01:56:08 (UTC+02:00)",__region:N("ca-central-1"),__folders:[],__objects:[{Key:"particle-1ns.sim",LastModified:"June 16, 2019, 00:43:28 (UTC+02:00)",Size:0x9d9538a2355,IsFolder:!1,__versions:[{VersionId:"b61170ef-702e-46f2-b37f-f61d587b6165",LastModified:"October 31, 2019, 22:00:46 (UTC+01:00)",Size:64668978309605}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"particle-6h.sim",LastModified:"September 28, 2019, 02:18:52 (UTC+02:00)",Size:94614592401063,IsFolder:!1,__versions:[{VersionId:"d90913ca-1980-4939-bd8e-c0781b5eee38",LastModified:"September 14, 2019, 06:56:25 (UTC+02:00)",Size:85676438589901}]},{Key:"wave-function-4ns.sim",LastModified:"May 30, 2019, 08:04:33 (UTC+02:00)",Size:34812060078660,IsFolder:!1,__versions:[{VersionId:"4e5ba8cb-fbf7-4b16-b983-5e1b8ef753f7",LastModified:"October 28, 2019, 06:51:49 (UTC+01:00)",Size:54315002078159}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}}]},{Name:"bucket-sunt",CreationDate:"April 27, 2019, 21:43:48 (UTC+02:00)",__region:N("ca-central-1"),__folders:[{Key:"simulation-micro-2020",IsFolder:!0,__objects:[{Key:"quarks-6h.sim",LastModified:"November 18, 2019, 10:46:29 (UTC+01:00)",Size:0x60bbb29fa011,IsFolder:!1,__versions:[{VersionId:"f1c027d3-4715-4e25-86bf-48ec8824a914",LastModified:"February 07, 2020, 02:49:03 (UTC+01:00)",Size:39554506575775},{VersionId:"9e26c00f-f1a5-423b-b700-25db0eec1790",LastModified:"November 25, 2019, 04:43:14 (UTC+01:00)",Size:84434803342481}]},{Key:"galaxy-3ns.sim",LastModified:"May 23, 2019, 00:53:38 (UTC+02:00)",Size:70986901548844,IsFolder:!1,__versions:[{VersionId:"c4c7b2fa-a7ed-4f85-a5ee-8d9bdc35bf50",LastModified:"September 07, 2019, 14:37:54 (UTC+02:00)",Size:51792527139512},{VersionId:"c54fe983-88a0-477b-94fc-3f6b0c989ece",LastModified:"December 23, 2019, 08:02:46 (UTC+01:00)",Size:0x5b1227798797},{VersionId:"9324110b-df4f-4554-9411-f93b7bb0205f",LastModified:"January 15, 2020, 05:31:14 (UTC+01:00)",Size:46554585862931}]},{Key:"proton-9ms.sim",LastModified:"September 23, 2019, 12:10:34 (UTC+02:00)",Size:0x627b7019fd2c,IsFolder:!1,__versions:[{VersionId:"c57acd0c-cc6c-47d1-9de2-41e2298c72be",LastModified:"May 13, 2019, 22:14:40 (UTC+02:00)",Size:80122783667995},{VersionId:"a6df4373-1f4d-49d0-afd8-020ed90e91a2",LastModified:"April 06, 2019, 12:03:06 (UTC+02:00)",Size:25188698091128}]},{Key:"universe-4ns.sim",LastModified:"November 28, 2019, 15:50:44 (UTC+01:00)",Size:76504142446230,IsFolder:!1,__versions:[{VersionId:"4b83a878-2188-4ca3-acd0-46a05d883cec",LastModified:"July 19, 2019, 22:59:21 (UTC+02:00)",Size:0xdbc7d5ad52f},{VersionId:"0f723d37-c389-4cb0-b79f-e1f019f6c022",LastModified:"September 07, 2019, 18:58:14 (UTC+02:00)",Size:86319635397237},{VersionId:"12fba0eb-a319-4f8b-9599-2046d7fd2e4c",LastModified:"May 24, 2019, 03:10:49 (UTC+02:00)",Size:39502808503195}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"quarks-8s.sim",LastModified:"October 26, 2019, 15:13:14 (UTC+02:00)",Size:93225230902384,IsFolder:!1,__versions:[{VersionId:"c8187dd9-3cc5-4223-a1b2-2f16bd79f9f0",LastModified:"April 15, 2019, 18:55:05 (UTC+02:00)",Size:99875918538659}]},{Key:"electron-4ms.sim",LastModified:"February 21, 2020, 13:51:47 (UTC+01:00)",Size:21040657606167,IsFolder:!1,__versions:[{VersionId:"e3a13d94-ea2d-44d9-a7b2-5c7d76afba64",LastModified:"February 02, 2020, 01:04:32 (UTC+01:00)",Size:76861688060038}]}]},{Key:"simulation-earth-2017",IsFolder:!0,__objects:[{Key:"planet-7h.sim",LastModified:"September 09, 2019, 12:29:46 (UTC+02:00)",Size:59078463273866,IsFolder:!1,__versions:[{VersionId:"e811222b-16c9-434b-b0ae-7a31b8573e27",LastModified:"June 14, 2019, 01:09:03 (UTC+02:00)",Size:0x5d23f4894ac7},{VersionId:"93eb8f09-feef-46c9-8804-9aae1dc99059",LastModified:"July 02, 2019, 05:05:51 (UTC+02:00)",Size:57767169670664}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"electron-4s.sim",LastModified:"May 01, 2019, 18:00:39 (UTC+02:00)",Size:32661570516706,IsFolder:!1,__versions:[{VersionId:"83c431f4-058f-423a-82c6-91ac1e71b095",LastModified:"September 10, 2019, 14:11:58 (UTC+02:00)",Size:43752364458694},{VersionId:"7d827c3d-b8cd-40a0-977e-a41a1a32693d",LastModified:"June 01, 2019, 08:25:36 (UTC+02:00)",Size:19349202804892},{VersionId:"4cd67a3f-7c4e-4548-b2be-920e0d43c7ce",LastModified:"May 27, 2019, 19:09:29 (UTC+02:00)",Size:91897348630517}]},{Key:"universe-8ms.sim",LastModified:"December 28, 2019, 22:07:30 (UTC+01:00)",Size:0x608dea31dba4,IsFolder:!1,__versions:[{VersionId:"4ab60e02-6b0f-4439-a543-c33f0c0dedb8",LastModified:"December 06, 2019, 12:00:27 (UTC+01:00)",Size:63268847079353},{VersionId:"47236b20-63c7-4454-b771-d206db2dc4dd",LastModified:"February 01, 2020, 16:02:17 (UTC+01:00)",Size:31160155834069},{VersionId:"80ff9b1d-6ca4-4360-b381-829bbe70bf68",LastModified:"October 23, 2019, 23:01:07 (UTC+02:00)",Size:20034922977201}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}}]},{Key:"simulation-micro-2017",IsFolder:!0,__objects:[{Key:"wave-function-4s.sim",LastModified:"September 20, 2019, 08:25:42 (UTC+02:00)",Size:4635095260666,IsFolder:!1,__versions:[{VersionId:"370c7ded-762e-481c-8158-6041d556cb79",LastModified:"April 09, 2019, 15:10:52 (UTC+02:00)",Size:77800301868954},{VersionId:"07308409-c9bb-43e5-bf00-94b82ddb39cf",LastModified:"March 21, 2020, 14:14:59 (UTC+01:00)",Size:39993963705939},{VersionId:"4e97a35b-9793-49e4-be31-5eb8bc4e51ec",LastModified:"May 27, 2019, 05:58:51 (UTC+02:00)",Size:8105428507553}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"collision-2ns.sim",LastModified:"November 02, 2019, 04:45:55 (UTC+01:00)",Size:97994481320612,IsFolder:!1,__versions:[{VersionId:"260f4d5f-5ab9-47e3-a7c4-9e84333476fa",LastModified:"December 31, 2019, 19:06:34 (UTC+01:00)",Size:37689275136622}]},{Key:"quarks-9s.sim",LastModified:"March 30, 2019, 19:22:12 (UTC+01:00)",Size:85647494511064,IsFolder:!1,__versions:[{VersionId:"6a51fe83-c08c-445b-9f29-6adf048bdaa2",LastModified:"January 15, 2020, 22:56:02 (UTC+01:00)",Size:30781616068019}]},{Key:"quarks-6ns.sim",LastModified:"August 16, 2019, 07:59:32 (UTC+02:00)",Size:52765301613036,IsFolder:!1,__versions:[{VersionId:"501ab6dd-189d-4735-99fd-363f3aeb180e",LastModified:"January 15, 2020, 07:14:24 (UTC+01:00)",Size:95634361641682},{VersionId:"f0ad7796-8179-468b-ad33-bd0e8a2cd65f",LastModified:"May 26, 2019, 18:38:37 (UTC+02:00)",Size:69215336625306}]}]}],__objects:[{Key:"galaxy-5ms.sim",LastModified:"May 05, 2019, 12:13:50 (UTC+02:00)",Size:38047378251541,IsFolder:!1,__versions:[{VersionId:"d27bf6aa-1474-4c45-829f-2e35514b8d14",LastModified:"November 10, 2019, 03:25:21 (UTC+01:00)",Size:0xc0eeacc73e7},{VersionId:"df069dff-1850-4f45-ae88-5302e2b52f0d",LastModified:"October 15, 2019, 20:43:37 (UTC+02:00)",Size:95859176772021}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"electron-8ms.sim",LastModified:"June 21, 2019, 02:09:14 (UTC+02:00)",Size:89360510446416,IsFolder:!1,__versions:[{VersionId:"b49d5c24-fde0-440a-83f6-66bd12fef1dc",LastModified:"March 12, 2020, 01:40:00 (UTC+01:00)",Size:51834954407082},{VersionId:"ce3f70e5-a9ac-4a3f-b8ea-8413c919dcf6",LastModified:"August 05, 2019, 12:31:32 (UTC+02:00)",Size:40834130158910},{VersionId:"8411a60c-68dd-4654-a0fe-228130bfe8c9",LastModified:"November 08, 2019, 17:58:08 (UTC+01:00)",Size:1809958398426}]}]},{Name:"bucket-et",CreationDate:"May 06, 2019, 21:59:30 (UTC+02:00)",__region:N("us-east-2"),__folders:[],__objects:[{Key:"proton-2s.sim",LastModified:"November 13, 2019, 12:08:29 (UTC+01:00)",Size:37182367396013,IsFolder:!1,__versions:[{VersionId:"779e2995-b0d6-413e-994d-1d433bfbbc53",LastModified:"October 28, 2019, 22:58:18 (UTC+01:00)",Size:0xedb54426011},{VersionId:"da80349e-3491-4613-a639-3baa8bf53dfe",LastModified:"September 29, 2019, 03:34:14 (UTC+02:00)",Size:87535838805693}]},{Key:"black-hole-2ms.sim",LastModified:"June 20, 2019, 16:47:27 (UTC+02:00)",Size:42601316313128,IsFolder:!1,__versions:[{VersionId:"2d090a95-88d7-4dc6-8763-e94851fd1073",LastModified:"July 28, 2019, 05:35:51 (UTC+02:00)",Size:0xc78d6b223f8}]},{Key:"black-hole-2h.sim",LastModified:"February 11, 2020, 02:57:53 (UTC+01:00)",Size:7133938953874,IsFolder:!1,__versions:[{VersionId:"034e9a82-6816-40c6-a43a-a74a92e22b45",LastModified:"June 23, 2019, 03:48:48 (UTC+02:00)",Size:32064198673433}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}},{Key:"planet-2ns.sim",LastModified:"January 13, 2020, 05:04:08 (UTC+01:00)",Size:55560768156458,IsFolder:!1,__versions:[{VersionId:"32425748-90c2-4b3f-9594-381525d49c5d",LastModified:"June 21, 2019, 12:47:54 (UTC+02:00)",Size:54042968807744},{VersionId:"786e16c4-279c-44f7-9b45-c5c68fa6a1b3",LastModified:"April 12, 2019, 13:05:03 (UTC+02:00)",Size:21411431351739}]},{Key:"proton-2ms.sim",LastModified:"September 09, 2019, 06:06:40 (UTC+02:00)",Size:46813371522926,IsFolder:!1,__versions:[{VersionId:"56b02bd7-5ffe-4f29-a8ee-fea8779f2ff0",LastModified:"December 26, 2019, 05:59:39 (UTC+01:00)",Size:59437872996459}],__error:{type:"warning",header:"Object versions were not retrieved",content:"You might not have permissions to retrieve object versions. Contact your account administrator. If no version ID is specified, the most recent version of the object is used."}}]}];class re extends Error{constructor(e){super(e.content),this.type=e.type,this.header=e.header}}he.map(o=>{o.__objects=[...o.__folders??[],...o.__objects??[]]});const Ie=(o=500)=>~~(Math.random()*500)+o,Et=(o,e,t)=>{const a=o.filter(i=>i.Name===e||i.Key===e)[0];if(!a)throw`"${e}" ${t.substring(0,t.length-1)} doesn't exist`;return a},Rt=o=>Object.keys(o).filter(e=>e==="__objects"||e==="__versions")[0].replace("__",""),Wt=(o,e)=>{const t=[];o&&t.push(o),e&&e.length>0&&t.push(...e.split("/"));let a=he,i="buckets",n;for(const f of t){try{n=Et(a,f,i)}catch(_){throw new re({content:`Resource "s3://${o}/${e}" cannot be found: ${_}`,type:"error"})}if(i=Rt(n),n.__error){const _=new re(n.__error);throw _.type=n.__error.type,_.header=n.__error.header,_}a=n["__"+i]??[]}return new Promise(f=>{setTimeout(()=>{f(a)},Ie())})},Gt=o=>new Promise(e=>{setTimeout(()=>{o.Region=o.__region,e()},Ie(1e3))});export{Bt as S,re as a,Wt as g,Gt as r};

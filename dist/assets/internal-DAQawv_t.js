import{r as b,R as x,aD as di,p as he,M as br,aP as Mr,au as gi,bj as mi,o as Cn,w as Ie,bm as Sn,c9 as Nn,P as ge,_ as Bt,aJ as xi,Y as wr,b3 as pi,bC as _r,n as yi,aq as Dn,O as En}from"./index-BE4yRgP3.js";import{R as vi,a as bi,S as Mi,c as xt,p as wi,u as _i,C as Ti,b as Tr,L as ki,d as Ci,g as Si,e as Ni,f as Di,F as Ei}from"./index-lJMXPkzM.js";import{u as Fi}from"./index-Le2aB-FB.js";import{r as Jt,_ as Li,a as Ae,t as Wt}from"./index-5qndC0qu.js";import{a as Ii,b as Pi,s as Fn}from"./index-ByYgjtW3.js";function Ri(e,t){if(Jt(2,arguments),!t||Li(t)!=="object")return new Date(NaN);var n=t.years?Ae(t.years):0,r=t.months?Ae(t.months):0,i=t.weeks?Ae(t.weeks):0,a=t.days?Ae(t.days):0,s=t.hours?Ae(t.hours):0,o=t.minutes?Ae(t.minutes):0,l=t.seconds?Ae(t.seconds):0,u=Wt(e),c=r||n?Ii(u,r+n*12):u,h=a||i?Pi(c,a+i*7):c,f=o+s*60,y=l+f*60,g=y*1e3,N=new Date(h.getTime()+g);return N}function Ln(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Ui=864e5;function Hi(e,t){Jt(2,arguments);var n=Fn(e),r=Fn(t),i=n.getTime()-Ln(n),a=r.getTime()-Ln(r);return Math.round((i-a)/Ui)}function In(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Ai(e,t){Jt(2,arguments);var n=Wt(e),r=Wt(t),i=In(n,r),a=Math.abs(Hi(n,r));n.setDate(n.getDate()-i*a);var s=+(In(n,r)===-i),o=i*(a-s);return o===0?0:o}const P={axis:"awsui_axis_f0fot_12s32_9","vertical-marker":"awsui_vertical-marker_f0fot_12s32_10","axis--emphasized":"awsui_axis--emphasized_f0fot_12s32_15","axis-label":"awsui_axis-label_f0fot_12s32_19","axis-label--x":"awsui_axis-label--x_f0fot_12s32_24","axis-label--y":"awsui_axis-label--y_f0fot_12s32_25",grid:"awsui_grid_f0fot_12s32_29",ticks__line:"awsui_ticks__line_f0fot_12s32_34",ticks__text:"awsui_ticks__text_f0fot_12s32_39","ticks--y":"awsui_ticks--y_f0fot_12s32_44","ticks--x":"awsui_ticks--x_f0fot_12s32_45","ticks--bottom":"awsui_ticks--bottom_f0fot_12s32_49","labels-inline-start":"awsui_labels-inline-start_f0fot_12s32_54",ticks:"awsui_ticks_f0fot_12s32_34","labels-inline-start__label":"awsui_labels-inline-start__label_f0fot_12s32_69","labels-inline-start--hidden":"awsui_labels-inline-start--hidden_f0fot_12s32_73","labels-block-end":"awsui_labels-block-end_f0fot_12s32_81","vertical-marker-circle":"awsui_vertical-marker-circle_f0fot_12s32_92","vertical-marker-circle-active":"awsui_vertical-marker-circle-active_f0fot_12s32_98","chart-container":"awsui_chart-container_f0fot_12s32_111","fit-height":"awsui_fit-height_f0fot_12s32_116","chart-container-outer":"awsui_chart-container-outer_f0fot_12s32_121","has-filters":"awsui_has-filters_f0fot_12s32_127","chart-container-inner":"awsui_chart-container-inner_f0fot_12s32_131","chart-container-plot-wrapper":"awsui_chart-container-plot-wrapper_f0fot_12s32_138","chart-container-plot":"awsui_chart-container-plot_f0fot_12s32_138","chart-container-bottom-labels":"awsui_chart-container-bottom-labels_f0fot_12s32_150"},Pn=b.memo(Oi);function Oi({title:e,axis:t,position:n}){return e?x.createElement(di,{className:he(P["axis-label"],t==="x"?P["axis-label--x"]:P["axis-label--y"]),fontWeight:"bold",textAlign:n==="left"?"left":"center",margin:{bottom:n==="left"?"l":"n"}},x.createElement("span",{"aria-hidden":"true"},e)):null}const at=8,zt=4,en=16,$i=100,Yi=50,Bi=4;function kr({ticks:e,scale:t,getLabelSpace:n,tickFormatter:r}){return e.map(i=>{var a;const s=(a=t.d3Scale(i))!==null&&a!==void 0?a:NaN,l=((r?r(i):i.toString())+"").split(`
`);return{position:s,lines:l,space:Math.max(...l.map(n))}})}function Cr(e,t,n,r=!1){return e=Wi(e,t,n),r?zi(e):Xi(e)}function Wi(e,t,n){return e.filter(r=>t<=r.position-r.space/2&&r.position+r.space/2<=n)}function zi(e){const t=Sr(e),n=[];for(let r=0;r<e.length;r+=t)n.push(e[r]);return n}function Sr(e,t=1){if(t>=e.length)return t;for(let n=t;n<e.length;n+=t)if(Nr(e[n-t],e[n]))return Sr(e,t+1);return t}function Xi(e){const t=[];let n=null;for(const r of e)(!n||!Nr(n,r))&&(t.push(r),n=r);return t}function Nr(e,t){const[n,r]=e.position<t.position?[e,t]:[t,e],i=n.position+n.space/2+Bi,a=r.position-r.space/2;return i>a}function Vi(e){if(e&&e.getBBox)return e.getBBox()}function ji({ticks:e,scale:t,tickFormatter:n}){const r=b.useRef(null),i=b.useRef({}),s=kr({ticks:e,scale:t,getLabelSpace:l=>i.current[l]!==void 0&&i.current[l]!==0?i.current[l]:r.current&&r.current.getComputedTextLength?(r.current.textContent=l,i.current[l]=r.current.getComputedTextLength(),i.current[l]):0,tickFormatter:n});r.current&&(r.current.textContent="");let o=at+zt;for(const{lines:l}of s)o=Math.max(o,at+zt+l.length*en);return{virtualTextRef:r,formattedTicks:s,height:o}}const Gi=b.memo(qi);function qi({axis:e="x",width:t,height:n,scale:r,title:i,ariaRoleDescription:a,offsetLeft:s=0,offsetRight:o=0,virtualTextRef:l,formattedTicks:u,isRTL:c=!1}){const h=br("[charts]"),f=r.isCategorical()&&e==="x"?Math.max(0,r.d3Scale.bandwidth()-1)/2:0,y=c?o:s,g=c?s:o,N=0-y-f,v=t+g-f,w=e==="x"&&r.scaleType!=="log",D=Cr(u,N,v,w);return x.createElement("g",{transform:`translate(0,${n})`,className:P["labels-block-end"],"aria-label":i,role:"list","aria-roledescription":h("i18nStrings.chartAriaRoleDescription",a),"aria-hidden":!0},D.map(({position:C,lines:E},k)=>isFinite(C)&&x.createElement("g",{key:k,transform:`translate(${C+f},0)`,className:he(P.ticks,P["ticks--bottom"],{[P["ticks--x"]]:e==="x",[P["ticks--y"]]:e==="y"}),role:"listitem","aria-label":E.join(`
`)},x.createElement("line",{className:P.ticks__line,x1:0,x2:0,y1:0,y2:at,"aria-hidden":"true"}),E.map((m,_)=>x.createElement("text",{className:P.ticks__text,key:_,x:0,y:at+zt+_*en},m)))),x.createElement("text",{ref:l,x:0,y:0,style:{visibility:"hidden"},"aria-hidden":"true"}))}const Ki=40,Zi=b.forwardRef(({minHeight:e,fitHeight:t,leftAxisLabel:n,leftAxisLabelMeasure:r,bottomAxisLabel:i,chartPlot:a,popover:s,hasFilters:o},l)=>t?x.createElement("div",{className:he(P["chart-container"],P["fit-height"]),ref:l},n,x.createElement("div",{className:he(P["chart-container-outer"],P["fit-height"],o&&P["has-filters"])},r,x.createElement("div",{className:P["chart-container-inner"]},x.createElement("div",{className:he(P["chart-container-plot-wrapper"],P["fit-height"]),style:{minHeight:Math.max(e,Ki)}},x.createElement("div",{className:he(P["chart-container-plot"],P["fit-height"])},a)),x.createElement("div",{className:he(P["chart-container-bottom-labels"],P["fit-height"])},i)),s)):x.createElement("div",{className:P["chart-container"],ref:l},n,x.createElement("div",{className:P["chart-container-outer"]},r,x.createElement("div",{className:P["chart-container-inner"]},a,i),s))),Rn=b.memo(Qi);function Qi({axis:e="x",width:t,height:n,scale:r}){var i;const a=(i=r.d3Scale(0))!==null&&i!==void 0?i:NaN;return e==="x"&&isFinite(a)&&a<=n?x.createElement("line",{className:he(P.axis,P["axis--emphasized"]),x1:-4,x2:t,y1:a,y2:a,"aria-hidden":"true"}):e==="y"?x.createElement("line",{className:he(P.axis,P["axis--emphasized"]),x1:0,y1:0,x2:0,y2:n+at,"aria-hidden":"true"}):null}const Ji=b.memo(b.forwardRef(ea));function ea({point:e,role:t="group",ariaLabel:n,ariaHasPopup:r,ariaExpanded:i},a){return e?x.createElement("g",{ref:a,role:t,"aria-label":n,"aria-haspopup":r,"aria-expanded":i},x.createElement("circle",{key:e.key,"aria-hidden":"true",className:P["vertical-marker-circle-active"],cx:e.x,cy:e.y,r:4,stroke:e.color,fill:e.color})):null}const Un=12,ta=b.memo(na);function na({axis:e="y",plotWidth:t,plotHeight:n,maxLabelsWidth:r=Number.POSITIVE_INFINITY,scale:i,ticks:a,tickFormatter:s,title:o,ariaRoleDescription:l}){const u=br("[charts]"),c=b.useRef(null),h=e==="x"&&i.isCategorical()?Math.max(0,i.d3Scale.bandwidth()-1)/2:0,f=b.useRef({}),g=kr({ticks:a,scale:i,getLabelSpace:C=>{var E,k,m,_;return f.current[C]!==void 0?(k=(E=f.current[C])===null||E===void 0?void 0:E.height)!==null&&k!==void 0?k:0:(c.current&&(c.current.textContent=C),f.current[C]=Vi(c.current),(_=(m=f.current[C])===null||m===void 0?void 0:m.height)!==null&&_!==void 0?_:0)},tickFormatter:s});c.current&&(c.current.textContent="");const N=0-Un-h,v=n+Un-h,w=Cr(g,N,v),D=c.current?Mr(c.current):!1;return x.createElement("g",{className:P["labels-inline-start"],"aria-label":o,role:"list","aria-roledescription":u("i18nStrings.chartAriaRoleDescription",l),"aria-hidden":!0},w.map(({position:C,lines:E},k)=>isFinite(C)&&x.createElement("g",{key:k,role:"listitem",transform:`translate(0,${C+h})`,className:he(P.ticks,e==="x"?P["ticks--x"]:P["ticks--y"])},e==="y"&&x.createElement("line",{className:he(P.grid,P.ticks_line),x1:-8,y1:0,x2:t,y2:0,"aria-hidden":"true"}),E.map((m,_)=>{var I,G;const S={x:D?t- -12:-12,y:(_-(E.length-1)*.5)*en,className:P.ticks__text,children:m};return((G=(I=f.current[E[0]])===null||I===void 0?void 0:I.width)!==null&&G!==void 0?G:0)>r?x.createElement(vi,Object.assign({key:_},S,{maxWidth:r})):x.createElement("text",Object.assign({key:_},S))}))),x.createElement("text",{ref:c,x:0,y:0,style:{visibility:"hidden"},"aria-hidden":"true"}))}const ra=b.memo(ia);function ia({scale:e,ticks:t,tickFormatter:n,autoWidth:r,maxLabelsWidth:i}){const[a,s]=gi(l=>l.contentBoxWidth);b.useEffect(()=>{r(a||0)},[r,a]);const o=l=>{const u=e.d3Scale(l);if(u===void 0||!isFinite(u))return null;const h=((n?n(l):l.toString())+"").split(`
`);return x.createElement(b.Fragment,{key:`${l}`},h.map((f,y)=>x.createElement("div",{key:y,className:P["labels-inline-start__label"],"aria-hidden":"true"},f)))};return x.createElement("div",{ref:s,className:he(P["labels-inline-start"],P["labels-inline-start--hidden"]),style:{maxWidth:i}},t.map(o))}function wt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tn(e){let t,n,r;e.length!==2?(t=wt,n=(o,l)=>wt(e(o),l),r=(o,l)=>e(o)-l):(t=e===wt||e===aa?e:oa,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function oa(){return 0}function sa(e){return e===null?NaN:+e}const la=tn(wt),ua=la.right;tn(sa).center;var ca=ua;class Hn extends Map{constructor(t,n=da){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(An(this,t))}has(t){return super.has(An(this,t))}set(t,n){return super.set(fa(this,t),n)}delete(t){return super.delete(ha(this,t))}}function An({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ha({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function da(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Xt=Math.sqrt(50),Vt=Math.sqrt(10),jt=Math.sqrt(2);function Gt(e,t,n){var r,i=-1,a,s,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(o=Dr(e,t,n))===0||!isFinite(o))return[];if(o>0){let l=Math.round(e/o),u=Math.round(t/o);for(l*o<e&&++l,u*o>t&&--u,s=new Array(a=u-l+1);++i<a;)s[i]=(l+i)*o}else{o=-o;let l=Math.round(e*o),u=Math.round(t*o);for(l/o<e&&++l,u/o>t&&--u,s=new Array(a=u-l+1);++i<a;)s[i]=(l+i)/o}return r&&s.reverse(),s}function Dr(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Xt?10:a>=Vt?5:a>=jt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Xt?10:a>=Vt?5:a>=jt?2:1)}function qt(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Xt?i*=10:a>=Vt?i*=5:a>=jt&&(i*=2),t<e?-i:i}function ga(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ft(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const On=Symbol("implicit");function Er(){var e=new Hn,t=[],n=[],r=On;function i(a){let s=e.get(a);if(s===void 0){if(r!==On)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Hn;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Er(t,n).unknown(r)},ft.apply(i,arguments),i}function Fr(){var e=Er().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function h(){var f=t().length,y=i<r,g=y?i:r,N=y?r:i;a=(N-g)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),g+=(N-g-a*(f-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=ga(f).map(function(w){return g+a*w});return n(y?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(o=!!f,h()):o},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},e.copy=function(){return Fr(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},ft.apply(h(),arguments)}function nn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ht(){}var ot=.7,_t=1/ot,Ge="\\s*([+-]?\\d+)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ma=/^#([0-9a-f]{3,8})$/,xa=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),pa=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),ya=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${st}\\)$`),va=new RegExp(`^rgba\\(${_e},${_e},${_e},${st}\\)$`),ba=new RegExp(`^hsl\\(${st},${_e},${_e}\\)$`),Ma=new RegExp(`^hsla\\(${st},${_e},${_e},${st}\\)$`),$n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nn(ht,lt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yn,formatHex:Yn,formatHex8:wa,formatHsl:_a,formatRgb:Bn,toString:Bn});function Yn(){return this.rgb().formatHex()}function wa(){return this.rgb().formatHex8()}function _a(){return Ir(this).formatHsl()}function Bn(){return this.rgb().formatRgb()}function lt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ma.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wn(t):n===3?new xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xa.exec(e))?new xe(t[1],t[2],t[3],1):(t=pa.exec(e))?new xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ya.exec(e))?pt(t[1],t[2],t[3],t[4]):(t=va.exec(e))?pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ba.exec(e))?Vn(t[1],t[2]/100,t[3]/100,1):(t=Ma.exec(e))?Vn(t[1],t[2]/100,t[3]/100,t[4]):$n.hasOwnProperty(e)?Wn($n[e]):e==="transparent"?new xe(NaN,NaN,NaN,0):null}function Wn(e){return new xe(e>>16&255,e>>8&255,e&255,1)}function pt(e,t,n,r){return r<=0&&(e=t=n=NaN),new xe(e,t,n,r)}function Ta(e){return e instanceof ht||(e=lt(e)),e?(e=e.rgb(),new xe(e.r,e.g,e.b,e.opacity)):new xe}function Kt(e,t,n,r){return arguments.length===1?Ta(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nn(xe,Kt,Lr(ht,{brighter(e){return e=e==null?_t:Math.pow(_t,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xe($e(this.r),$e(this.g),$e(this.b),Tt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zn,formatHex:zn,formatHex8:ka,formatRgb:Xn,toString:Xn}));function zn(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}`}function ka(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}${Oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xn(){const e=Tt(this.opacity);return`${e===1?"rgb(":"rgba("}${$e(this.r)}, ${$e(this.g)}, ${$e(this.b)}${e===1?")":`, ${e})`}`}function Tt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $e(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oe(e){return e=$e(e),(e<16?"0":"")+e.toString(16)}function Vn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Me(e,t,n,r)}function Ir(e){if(e instanceof Me)return new Me(e.h,e.s,e.l,e.opacity);if(e instanceof ht||(e=lt(e)),!e)return new Me;if(e instanceof Me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Me(s,o,l,e.opacity)}function Ca(e,t,n,r){return arguments.length===1?Ir(e):new Me(e,t,n,r??1)}function Me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nn(Me,Ca,Lr(ht,{brighter(e){return e=e==null?_t:Math.pow(_t,e),new Me(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new Me(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xe(Rt(e>=240?e-240:e+120,i,r),Rt(e,i,r),Rt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Me(jn(this.h),yt(this.s),yt(this.l),Tt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tt(this.opacity);return`${e===1?"hsl(":"hsla("}${jn(this.h)}, ${yt(this.s)*100}%, ${yt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jn(e){return e=(e||0)%360,e<0?e+360:e}function yt(e){return Math.max(0,Math.min(1,e||0))}function Rt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var rn=e=>()=>e;function Sa(e,t){return function(n){return e+n*t}}function Na(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Da(e){return(e=+e)==1?Pr:function(t,n){return n-t?Na(t,n,e):rn(isNaN(t)?n:t)}}function Pr(e,t){var n=t-e;return n?Sa(e,n):rn(isNaN(e)?t:e)}var Gn=function e(t){var n=Da(t);function r(i,a){var s=n((i=Kt(i)).r,(a=Kt(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Pr(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Ea(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Fa(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function La(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=an(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Ia(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pa(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=an(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(Zt.source,"g");function Ra(e){return function(){return e}}function Ua(e){return function(t){return e(t)+""}}function Ha(e,t){var n=Zt.lastIndex=Ut.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Zt.exec(e))&&(i=Ut.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:kt(r,i)})),n=Ut.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Ua(l[0].x):Ra(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function an(e,t){var n=typeof t,r;return t==null||n==="boolean"?rn(t):(n==="number"?kt:n==="string"?(r=lt(t))?(t=r,Gn):Ha:t instanceof lt?Gn:t instanceof Date?Ia:Fa(t)?Ea:Array.isArray(t)?La:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pa:kt)(e,t)}function Aa(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Oa(e){return function(){return e}}function $a(e){return+e}var qn=[0,1];function Ve(e){return e}function Qt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Oa(isNaN(t)?NaN:.5)}function Ya(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ba(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Qt(i,r),a=n(s,a)):(r=Qt(r,i),a=n(a,s)),function(o){return a(r(o))}}function Wa(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Qt(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=ca(e,o,1,r)-1;return a[l](i[l](o))}}function on(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rr(){var e=qn,t=qn,n=an,r,i,a,s=Ve,o,l,u;function c(){var f=Math.min(e.length,t.length);return s!==Ve&&(s=Ya(e[0],e[f-1])),o=f>2?Wa:Ba,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=o(e.map(r),t,n)))(r(s(f)))}return h.invert=function(f){return s(i((u||(u=o(t,e.map(r),kt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,$a),c()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=Aa,c()},h.clamp=function(f){return arguments.length?(s=f?!0:Ve,c()):s!==Ve},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,y){return r=f,i=y,c()}}function Ur(){return Rr()(Ve,Ve)}function za(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ct(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qe(e){return e=Ct(Math.abs(e)),e?e[1]:NaN}function Xa(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Va(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ja=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ut(e){if(!(t=ja.exec(e)))throw new Error("invalid format: "+e);var t;return new sn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ut.prototype=sn.prototype;function sn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ga(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Hr;function qa(e,t){var n=Ct(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Hr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ct(e,Math.max(0,t+a-1))[0]}function Kn(e,t){var n=Ct(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Zn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:za,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kn(e*100,t),r:Kn,s:qa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qn(e){return e}var Jn=Array.prototype.map,er=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ka(e){var t=e.grouping===void 0||e.thousands===void 0?Qn:Xa(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Qn:Va(Jn.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ut(h);var f=h.fill,y=h.align,g=h.sign,N=h.symbol,v=h.zero,w=h.width,D=h.comma,C=h.precision,E=h.trim,k=h.type;k==="n"?(D=!0,k="g"):Zn[k]||(C===void 0&&(C=12),E=!0,k="g"),(v||f==="0"&&y==="=")&&(v=!0,f="0",y="=");var m=N==="$"?n:N==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=N==="$"?r:/[%p]/.test(k)?s:"",I=Zn[k],G=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Z(S){var A=m,Y=_,V,te,Q;if(k==="c")Y=I(S)+Y,S="";else{S=+S;var q=S<0||1/S<0;if(S=isNaN(S)?l:I(Math.abs(S),C),E&&(S=Ga(S)),q&&+S==0&&g!=="+"&&(q=!1),A=(q?g==="("?g:o:g==="-"||g==="("?"":g)+A,Y=(k==="s"?er[8+Hr/3]:"")+Y+(q&&g==="("?")":""),G){for(V=-1,te=S.length;++V<te;)if(Q=S.charCodeAt(V),48>Q||Q>57){Y=(Q===46?i+S.slice(V+1):S.slice(V))+Y,S=S.slice(0,V);break}}}D&&!v&&(S=t(S,1/0));var L=A.length+S.length+Y.length,M=L<w?new Array(w-L+1).join(f):"";switch(D&&v&&(S=t(M+S,M.length?w-Y.length:1/0),M=""),y){case"<":S=A+S+Y+M;break;case"=":S=A+M+S+Y;break;case"^":S=M.slice(0,L=M.length>>1)+A+S+Y+M.slice(L);break;default:S=M+A+S+Y;break}return a(S)}return Z.toString=function(){return h+""},Z}function c(h,f){var y=u((h=ut(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(qe(f)/3)))*3,N=Math.pow(10,-g),v=er[8+g/3];return function(w){return y(N*w)+v}}return{format:u,formatPrefix:c}}var vt,ln,Ar;Za({thousands:",",grouping:[3],currency:["$",""]});function Za(e){return vt=Ka(e),ln=vt.format,Ar=vt.formatPrefix,vt}function Qa(e){return Math.max(0,-qe(Math.abs(e)))}function Ja(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qe(t)/3)))*3-qe(Math.abs(e)))}function eo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qe(t)-qe(e))+1}function to(e,t,n,r){var i=qt(e,t,n),a;switch(r=ut(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Ja(i,s))&&(r.precision=a),Ar(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=eo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qa(i))&&(r.precision=a-(r.type==="%")*2);break}}return ln(r)}function no(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gt(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return to(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Dr(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Or(){var e=Ur();return e.copy=function(){return on(e,Or())},ft.apply(e,arguments),no(e)}function $r(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function tr(e){return Math.log(e)}function nr(e){return Math.exp(e)}function ro(e){return-Math.log(-e)}function io(e){return-Math.exp(-e)}function ao(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oo(e){return e===10?ao:e===Math.E?Math.exp:t=>Math.pow(e,t)}function so(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rr(e){return(t,n)=>-e(-t,n)}function lo(e){const t=e(tr,nr),n=t.domain;let r=10,i,a;function s(){return i=so(r),a=oo(r),n()[0]<0?(i=rr(i),a=rr(a),e(ro,io)):e(tr,nr),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),y=i(c),g,N;const v=o==null?10:+o;let w=[];if(!(r%1)&&y-f<v){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(g=1;g<r;++g)if(N=f<0?g/a(-f):g*a(f),!(N<u)){if(N>c)break;w.push(N)}}else for(;f<=y;++f)for(g=r-1;g>=1;--g)if(N=f>0?g/a(-f):g*a(f),!(N<u)){if(N>c)break;w.push(N)}w.length*2<v&&(w=Gt(u,c,v))}else w=Gt(f,y,Math.min(y-f,v)).map(a);return h?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ut(l)).precision==null&&(l.trim=!0),l=ln(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},t.nice=()=>n($r(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Yr(){const e=lo(Rr()).domain([1,10]);return e.copy=()=>on(e,Yr()).base(e.base()),ft.apply(e,arguments),e}const Ht=new Date,At=new Date;function ae(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>ae(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Ht.setTime(+a),At.setTime(+s),e(Ht),e(At),Math.floor(n(Ht,At))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const St=ae(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);St.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ae(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):St);St.range;const Ce=1e3,ve=Ce*60,Se=ve*60,Ne=Se*24,un=Ne*7,ir=Ne*30,Ot=Ne*365,je=ae(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ce)},(e,t)=>(t-e)/Ce,e=>e.getUTCSeconds());je.range;const cn=ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getMinutes());cn.range;const uo=ae(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCMinutes());uo.range;const fn=ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce-e.getMinutes()*ve)},(e,t)=>{e.setTime(+e+t*Se)},(e,t)=>(t-e)/Se,e=>e.getHours());fn.range;const co=ae(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Se)},(e,t)=>(t-e)/Se,e=>e.getUTCHours());co.range;const dt=ae(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ve)/Ne,e=>e.getDate()-1);dt.range;const hn=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ne,e=>e.getUTCDate()-1);hn.range;const fo=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ne,e=>Math.floor(e/Ne));fo.range;function Be(e){return ae(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ve)/un)}const Et=Be(0),Nt=Be(1),ho=Be(2),go=Be(3),Ke=Be(4),mo=Be(5),xo=Be(6);Et.range;Nt.range;ho.range;go.range;Ke.range;mo.range;xo.range;function We(e){return ae(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/un)}const Br=We(0),Dt=We(1),po=We(2),yo=We(3),Ze=We(4),vo=We(5),bo=We(6);Br.range;Dt.range;po.range;yo.range;Ze.range;vo.range;bo.range;const dn=ae(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dn.range;const Mo=ae(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mo.range;const De=ae(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());De.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});De.range;const Ye=ae(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function wo(e,t,n,r,i,a){const s=[[je,1,Ce],[je,5,5*Ce],[je,15,15*Ce],[je,30,30*Ce],[a,1,ve],[a,5,5*ve],[a,15,15*ve],[a,30,30*ve],[i,1,Se],[i,3,3*Se],[i,6,6*Se],[i,12,12*Se],[r,1,Ne],[r,2,2*Ne],[n,1,un],[t,1,ir],[t,3,3*ir],[e,1,Ot]];function o(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const y=h&&typeof h.range=="function"?h:l(u,c,h),g=y?y.range(u,+c+1):[];return f?g.reverse():g}function l(u,c,h){const f=Math.abs(c-u)/h,y=tn(([,,v])=>v).right(s,f);if(y===s.length)return e.every(qt(u/Ot,c/Ot,h));if(y===0)return St.every(Math.max(qt(u,c,h),1));const[g,N]=s[f/s[y-1][2]<s[y][2]/f?y-1:y];return g.every(N)}return[o,l]}const[_o,To]=wo(De,dn,Et,dt,fn,cn);function $t(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ko(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=rt(i),c=it(i),h=rt(a),f=it(a),y=rt(s),g=it(s),N=rt(o),v=it(o),w=rt(l),D=it(l),C={a:q,A:L,b:M,B:z,c:null,d:cr,e:cr,f:Go,g:is,G:os,H:Xo,I:Vo,j:jo,L:Wr,m:qo,M:Ko,p:j,q:ne,Q:dr,s:gr,S:Zo,u:Qo,U:Jo,V:es,w:ts,W:ns,x:null,X:null,y:rs,Y:as,Z:ss,"%":hr},E={a:B,A:ie,b:oe,B:J,c:null,d:fr,e:fr,f:fs,g:Ms,G:_s,H:ls,I:us,j:cs,L:Xr,m:hs,M:ds,p:pe,q:Ee,Q:dr,s:gr,S:gs,u:ms,U:xs,V:ps,w:ys,W:vs,x:null,X:null,y:bs,Y:ws,Z:Ts,"%":hr},k={a:Z,A:S,b:A,B:Y,c:V,d:lr,e:lr,f:Yo,g:sr,G:or,H:ur,I:ur,j:Ho,L:$o,m:Uo,M:Ao,p:G,q:Ro,Q:Wo,s:zo,S:Oo,u:Eo,U:Fo,V:Lo,w:Do,W:Io,x:te,X:Q,y:sr,Y:or,Z:Po,"%":Bo};C.x=m(n,C),C.X=m(r,C),C.c=m(t,C),E.x=m(n,E),E.X=m(r,E),E.c=m(t,E);function m(p,T){return function(U){var d=[],X=-1,R=0,ee=p.length,H,le,Te;for(U instanceof Date||(U=new Date(+U));++X<ee;)p.charCodeAt(X)===37&&(d.push(p.slice(R,X)),(le=ar[H=p.charAt(++X)])!=null?H=p.charAt(++X):le=H==="e"?" ":"0",(Te=T[H])&&(H=Te(U,le)),d.push(H),R=X+1);return d.push(p.slice(R,X)),d.join("")}}function _(p,T){return function(U){var d=nt(1900,void 0,1),X=I(d,p,U+="",0),R,ee;if(X!=U.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(T&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+d.p*12),d.m===void 0&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(R=Yt(nt(d.y,0,1)),ee=R.getUTCDay(),R=ee>4||ee===0?Dt.ceil(R):Dt(R),R=hn.offset(R,(d.V-1)*7),d.y=R.getUTCFullYear(),d.m=R.getUTCMonth(),d.d=R.getUTCDate()+(d.w+6)%7):(R=$t(nt(d.y,0,1)),ee=R.getDay(),R=ee>4||ee===0?Nt.ceil(R):Nt(R),R=dt.offset(R,(d.V-1)*7),d.y=R.getFullYear(),d.m=R.getMonth(),d.d=R.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),ee="Z"in d?Yt(nt(d.y,0,1)).getUTCDay():$t(nt(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+d.W*7-(ee+5)%7:d.w+d.U*7-(ee+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,Yt(d)):$t(d)}}function I(p,T,U,d){for(var X=0,R=T.length,ee=U.length,H,le;X<R;){if(d>=ee)return-1;if(H=T.charCodeAt(X++),H===37){if(H=T.charAt(X++),le=k[H in ar?T.charAt(X++):H],!le||(d=le(p,U,d))<0)return-1}else if(H!=U.charCodeAt(d++))return-1}return d}function G(p,T,U){var d=u.exec(T.slice(U));return d?(p.p=c.get(d[0].toLowerCase()),U+d[0].length):-1}function Z(p,T,U){var d=y.exec(T.slice(U));return d?(p.w=g.get(d[0].toLowerCase()),U+d[0].length):-1}function S(p,T,U){var d=h.exec(T.slice(U));return d?(p.w=f.get(d[0].toLowerCase()),U+d[0].length):-1}function A(p,T,U){var d=w.exec(T.slice(U));return d?(p.m=D.get(d[0].toLowerCase()),U+d[0].length):-1}function Y(p,T,U){var d=N.exec(T.slice(U));return d?(p.m=v.get(d[0].toLowerCase()),U+d[0].length):-1}function V(p,T,U){return I(p,t,T,U)}function te(p,T,U){return I(p,n,T,U)}function Q(p,T,U){return I(p,r,T,U)}function q(p){return s[p.getDay()]}function L(p){return a[p.getDay()]}function M(p){return l[p.getMonth()]}function z(p){return o[p.getMonth()]}function j(p){return i[+(p.getHours()>=12)]}function ne(p){return 1+~~(p.getMonth()/3)}function B(p){return s[p.getUTCDay()]}function ie(p){return a[p.getUTCDay()]}function oe(p){return l[p.getUTCMonth()]}function J(p){return o[p.getUTCMonth()]}function pe(p){return i[+(p.getUTCHours()>=12)]}function Ee(p){return 1+~~(p.getUTCMonth()/3)}return{format:function(p){var T=m(p+="",C);return T.toString=function(){return p},T},parse:function(p){var T=_(p+="",!1);return T.toString=function(){return p},T},utcFormat:function(p){var T=m(p+="",E);return T.toString=function(){return p},T},utcParse:function(p){var T=_(p+="",!0);return T.toString=function(){return p},T}}}var ar={"-":"",_:" ",0:"0"},se=/^\s*\d+/,Co=/^%/,So=/[\\^$*+?|[\]().{}]/g;function $(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function No(e){return e.replace(So,"\\$&")}function rt(e){return new RegExp("^(?:"+e.map(No).join("|")+")","i")}function it(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Do(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Eo(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Io(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function or(e,t,n){var r=se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Po(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ro(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Uo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ho(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ur(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ao(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Oo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $o(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yo(e,t,n){var r=se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bo(e,t,n){var r=Co.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Wo(e,t,n){var r=se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cr(e,t){return $(e.getDate(),t,2)}function Xo(e,t){return $(e.getHours(),t,2)}function Vo(e,t){return $(e.getHours()%12||12,t,2)}function jo(e,t){return $(1+dt.count(De(e),e),t,3)}function Wr(e,t){return $(e.getMilliseconds(),t,3)}function Go(e,t){return Wr(e,t)+"000"}function qo(e,t){return $(e.getMonth()+1,t,2)}function Ko(e,t){return $(e.getMinutes(),t,2)}function Zo(e,t){return $(e.getSeconds(),t,2)}function Qo(e){var t=e.getDay();return t===0?7:t}function Jo(e,t){return $(Et.count(De(e)-1,e),t,2)}function zr(e){var t=e.getDay();return t>=4||t===0?Ke(e):Ke.ceil(e)}function es(e,t){return e=zr(e),$(Ke.count(De(e),e)+(De(e).getDay()===4),t,2)}function ts(e){return e.getDay()}function ns(e,t){return $(Nt.count(De(e)-1,e),t,2)}function rs(e,t){return $(e.getFullYear()%100,t,2)}function is(e,t){return e=zr(e),$(e.getFullYear()%100,t,2)}function as(e,t){return $(e.getFullYear()%1e4,t,4)}function os(e,t){var n=e.getDay();return e=n>=4||n===0?Ke(e):Ke.ceil(e),$(e.getFullYear()%1e4,t,4)}function ss(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$(t/60|0,"0",2)+$(t%60,"0",2)}function fr(e,t){return $(e.getUTCDate(),t,2)}function ls(e,t){return $(e.getUTCHours(),t,2)}function us(e,t){return $(e.getUTCHours()%12||12,t,2)}function cs(e,t){return $(1+hn.count(Ye(e),e),t,3)}function Xr(e,t){return $(e.getUTCMilliseconds(),t,3)}function fs(e,t){return Xr(e,t)+"000"}function hs(e,t){return $(e.getUTCMonth()+1,t,2)}function ds(e,t){return $(e.getUTCMinutes(),t,2)}function gs(e,t){return $(e.getUTCSeconds(),t,2)}function ms(e){var t=e.getUTCDay();return t===0?7:t}function xs(e,t){return $(Br.count(Ye(e)-1,e),t,2)}function Vr(e){var t=e.getUTCDay();return t>=4||t===0?Ze(e):Ze.ceil(e)}function ps(e,t){return e=Vr(e),$(Ze.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function ys(e){return e.getUTCDay()}function vs(e,t){return $(Dt.count(Ye(e)-1,e),t,2)}function bs(e,t){return $(e.getUTCFullYear()%100,t,2)}function Ms(e,t){return e=Vr(e),$(e.getUTCFullYear()%100,t,2)}function ws(e,t){return $(e.getUTCFullYear()%1e4,t,4)}function _s(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ze(e):Ze.ceil(e),$(e.getUTCFullYear()%1e4,t,4)}function Ts(){return"+0000"}function hr(){return"%"}function dr(e){return+e}function gr(e){return Math.floor(+e/1e3)}var Xe,jr;ks({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ks(e){return Xe=ko(e),jr=Xe.format,Xe.parse,Xe.utcFormat,Xe.utcParse,Xe}function Cs(e){return new Date(e)}function Ss(e){return e instanceof Date?+e:+new Date(+e)}function Gr(e,t,n,r,i,a,s,o,l,u){var c=Ur(),h=c.invert,f=c.domain,y=u(".%L"),g=u(":%S"),N=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),D=u("%b %d"),C=u("%B"),E=u("%Y");function k(m){return(l(m)<m?y:o(m)<m?g:s(m)<m?N:a(m)<m?v:r(m)<m?i(m)<m?w:D:n(m)<m?C:E)(m)}return c.invert=function(m){return new Date(h(m))},c.domain=function(m){return arguments.length?f(Array.from(m,Ss)):f().map(Cs)},c.ticks=function(m){var _=f();return e(_[0],_[_.length-1],m??10)},c.tickFormat=function(m,_){return _==null?k:u(_)},c.nice=function(m){var _=f();return(!m||typeof m.range!="function")&&(m=t(_[0],_[_.length-1],m??10)),m?f($r(_,m)):c},c.copy=function(){return on(c,Gr(e,t,n,r,i,a,s,o,l,u))},c}function Ns(){return ft.apply(Gr(_o,To,De,dn,Et,dt,fn,cn,je,jr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ds(e){return e.length>0&&typeof e[0]=="number"}function Es(e){return e.length>0&&e[0]instanceof Date}function qr(e,t){let n;switch(e){case"log":n=Yr();break;default:n=Or()}return Ds(t)&&n.domain(t),n}function Fs(e){const t=Ns();return Es(e)&&t.domain(e),t}function Ls(e){const t=Fr().padding(.1);return t.domain(e),t}function Is(e,t,n){switch(e){case"linear":case"log":return{type:"numeric",scale:qr(e,t).range(n)};case"time":return{type:"time",scale:Fs(t).range(n)};case"categorical":return{type:"categorical",scale:Ls(t).range(n)}}}class gn{constructor(t,n,r,i=!1){this.scaleType=t,this.domain=n,this.range=r,this.scale=Is(this.scaleType,this.domain,this.range),this.d3Scale=this.scale.scale,this.isCategorical()&&(i?(this.d3Scale.paddingInner(.7),this.d3Scale.paddingOuter(0)):(this.d3Scale.paddingInner(.2),this.d3Scale.paddingOuter(.05)))}cloneScale(t,n,r){return new gn(t||this.scaleType,n||this.domain,r||this.range)}isNumeric(){return this.scale.type==="numeric"}isTime(){return this.scale.type==="time"}isCategorical(){return this.scale.type==="categorical"}}class Ps{constructor(t,n,r,i){this.scaleType=t;const a=qr(t,n).range(r);i!==null&&a.nice(i),this.scale={type:"numeric",scale:a},this.d3Scale=this.scale.scale}isCategorical(){return!1}}function Rs(e){return Math.ceil(e/$i)}function Us(e){return Math.ceil(e/Yi)}function Hs(e,t){if(e.isNumeric())return e.d3Scale.ticks(t);if(e.isTime()){const n=e.d3Scale.ticks(t),r=e.d3Scale.domain();return Os(n,r[r.length-1])}else return e.d3Scale.domain()}function As(e,t){const n=e.d3Scale.ticks(t);return e.scaleType==="log"&&n.length>10?e.d3Scale.ticks(3):n}function Os(e,t){return e.length<3||!$s(e)?e:Ys(e[0],t)}function $s(e){let t=!1,n=!1;for(let r=1;r<e.length;r++)t=t||mr(e[r-1],e[r],1),n=n||mr(e[r-1],e[r],2);return t&&n}function mr(e,t,n=1){return Math.abs(Ai(e,t))===n}function Ys(e,t){const n=[];let r=e;for(;r<t;)n.push(r),r=Ri(r,{days:2});return n}const Bs=b.memo(Ws);function Ws({ticks:e,scale:t,height:n}){return x.createElement("g",{"aria-hidden":"true"},e.map(r=>{var i;const a=(i=t.d3Scale(r))!==null&&i!==void 0?i:NaN;return isFinite(a)&&x.createElement("line",{key:r,className:P.grid,x1:a,y1:0,x2:a,y2:n})}))}const zs=b.memo(b.forwardRef(Xs));function Xs({height:e,showPoints:t=!0,showLine:n=!0,points:r},i){const[a]=r||[];return x.createElement("g",null,x.createElement("line",{ref:i,"aria-hidden":"true",className:P["vertical-marker"],style:{visibility:n&&a?"visible":"hidden"},x1:a==null?void 0:a.x,x2:a==null?void 0:a.x,y1:0,y2:e}),t&&r&&r.map(s=>x.createElement("circle",{key:s.key,"aria-hidden":"true",className:P["vertical-marker-circle"],cx:s.x,cy:s.y,r:4,stroke:s.color})))}const me={series:"awsui_series_1yz9c_v68e6_189","series--bar":"awsui_series--bar_1yz9c_v68e6_190",series__rect:"awsui_series__rect_1yz9c_v68e6_190",exiting:"awsui_exiting_1yz9c_v68e6_207","awsui-motion-fade-out-0":"awsui_awsui-motion-fade-out-0_1yz9c_v68e6_1",root:"awsui_root_1yz9c_v68e6_229","series--highlighted":"awsui_series--highlighted_1yz9c_v68e6_242","series__bar--highlighted":"awsui_series__bar--highlighted_1yz9c_v68e6_243","series--dimmed":"awsui_series--dimmed_1yz9c_v68e6_247","series--threshold":"awsui_series--threshold_1yz9c_v68e6_251","bar-group":"awsui_bar-group_1yz9c_v68e6_256"},bt=2;function Vs({ariaLabel:e,isRefresh:t,isPopoverPinned:n,barGroups:r,highlightedGroupIndex:i,highlightedGroupRef:a}){return x.createElement("g",{role:"group","aria-hidden":"true"},r.map((s,o)=>x.createElement("rect",{key:o,x:Math.max(0,s.position.x-bt),y:Math.max(0,s.position.y-bt),width:s.position.width+2*bt,height:s.position.height+2*bt,ref:o===i?a:void 0,rx:t?4:2,role:"button","aria-label":e,"aria-haspopup":!0,"aria-expanded":n,fill:"none",className:me["bar-group"]})))}const js=x.forwardRef(Gs);function Gs({containerRef:e,trackRef:t,isOpen:n,isPinned:r,highlightDetails:i,footer:a,onDismiss:s,size:o="medium",dismissAriaLabel:l,onMouseEnter:u,onMouseLeave:c,onBlur:h,setPopoverText:f},y){const[g,N]=b.useState({});return x.createElement(mi,{in:n},(v,w)=>x.createElement("div",{ref:w,className:he(v==="exiting"&&me.exiting)},(n||v!=="exited")&&i&&x.createElement(bi,{ref:y,title:i.position,trackRef:t,trackKey:i.position,dismissButton:r,dismissAriaLabel:l,onDismiss:s,container:e.current,size:o,onMouseEnter:u,onMouseLeave:c,onBlur:h,footer:a},x.createElement(Mi,{key:i.position,details:i.details,setPopoverText:f,expandedSeries:g[i.position],setExpandedState:(D,C)=>N(E=>{const k=new Set(E[i.position]);return C?k.add(D):k.delete(D),Object.assign(Object.assign({},E),{[i.position]:k})})}))))}function qs({x:e,y:t,width:n,height:r},i,a){const s=[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}],o={left:2,right:0,top:3,bottom:1}[a];let l="";for(let u=o;u<o+s.length+1;u++){const c=s[u%s.length],h=s[(u+1)%s.length],f=i&&u<o+3?Math.min(i/Math.hypot(h.x-c.x,h.y-c.y),.5):0;u===o&&(l+=`M${c.x*(1-f)+h.x*f},${c.y*(1-f)+h.y*f}`),u>o&&(l+=`Q${c.x},${c.y} ${c.x*(1-f)+h.x*f},${c.y*(1-f)+h.y*f}`),u<o+s.length&&(l+=`L${c.x*f+h.x*(1-f)},${c.y*f+h.y*(1-f)}`)}return l+"Z"}const Kr={line:"line",bar:"rectangle",threshold:"dashed"},Ks=(e,t,n=1)=>{let r=e;(r<0||r>=t.length)&&(r=0);do{if(t[r].isValid&&t[r].hasData)return r;r+=n,r>=t.length?r=0:r<0&&(r=t.length-1)}while(r!==e);return 0};function Zs(e){const t=[];let n=-1;return e.forEach(r=>{r.series.type==="bar"?n===-1&&(n=t.length,t.push(r.series)):t.push(r.series)}),{navigableSeries:t,navigableBarSeriesIndex:n}}const Ft=(e,t)=>e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t;function Qs(e){var t,n,r,i;const a=new Map,s=new Map,o=new Map;for(let l=0;l<e.length;l++)for(const u of e[l]){const c=Zr(u.x);u.y<0?a.set(c,((t=a.get(c))!==null&&t!==void 0?t:0)+u.y):s.set(c,((n=s.get(c))!==null&&n!==void 0?n:0)+u.y);const h=(r=u.y<0?a.get(c):s.get(c))!==null&&r!==void 0?r:0,f=(i=o.get(c))!==null&&i!==void 0?i:new Map;f.set(l,h),o.set(c,f)}return o}const Zr=e=>e instanceof Date?e.getTime():e;function we(e){return e.type==="threshold"&&"y"in e}function be(e){return e.type==="threshold"&&"x"in e}function ct(e){return e.type==="line"||e.type==="bar"}function Js({axis:e,series:t,color:n,xScale:r,yScale:i,highlighted:a,dimmed:s,highlightedGroupIndex:o,totalSeriesCount:l,seriesIndex:u,plotSize:c,chartAreaClipPath:h,stackedBarValues:f,isRtl:y}){const g=!!f,N=e==="x",v=(()=>{var D;if(t.type!=="bar"||!r.isCategorical())return[];const C=i.d3Scale,E=t.data.map(({x:Z})=>r.d3Scale(Z)||NaN),k=(D=i.d3Scale(0))!==null&&D!==void 0?D:NaN,m=isFinite(k)?Math.min(c,k):c;let _=r.d3Scale.bandwidth();const I=4;return!g&&l>1&&(_=(_-(l-1)*I)/l,_=Math.max(_,4)),E.map((Z,S)=>{var A,Y,V,te;const Q=t.data[S],q=Zr(Q.x);let L=Z,M=Q.y,z=!g,j=!g;if(g){const ne=(A=f.get(q))!==null&&A!==void 0?A:new Map;M=(Y=ne.get(u))!==null&&Y!==void 0?Y:0;const B=Array.from(ne.values()).sort((ie,oe)=>ie-oe);z=M===B[0],j=M===B[B.length-1]}else l>1&&(L+=u*(_+I));return M=M<0?M-Q.y:M,{x:L,y:(V=C(M))!==null&&V!==void 0?V:NaN,width:_,height:Math.abs(((te=C(Q.y))!==null&&te!==void 0?te:NaN)-m),isRoundedStart:z,isRoundedEnd:j}})})(),w=o!==null?r.domain[o]:null;return x.createElement("g",{"aria-label":t.title,clipPath:`url(#${h})`,className:he(me.series,me["series--bar"],{[me["series--highlighted"]]:a,[me["series--dimmed"]]:s})},v.map(({x:D,y:C,width:E,height:k,isRoundedStart:m,isRoundedEnd:_},I)=>{if(!isFinite(D)||!isFinite(k))return;const G=g?3:0,Z=k<4,S=Z?0:G,A=2,Y=Z?2:4,V=N?{x:D+A/2,y:C+S/2,width:E-A,height:k-S}:{x:C-(y?0:k)+S/2,y:D+A/2,width:k-S,height:E-A},te=he(me.series__rect,{[me["series--dimmed"]]:w!==null&&!Ft(w,t.data[I].x)}),Q={fill:n,className:te};let q="none";return m&&_?q="all":!m&&!_?q="none":N?q=m?"bottom":"top":y?q=m?"right":"left":q=m?"left":"right",q==="all"?x.createElement("rect",Object.assign({key:I},V,Q,{rx:Y})):q==="none"?x.createElement("rect",Object.assign({key:I},V,Q,{rx:0})):x.createElement("path",Object.assign({key:I,d:qs(V,Y,q)},Q))}))}function Qr(e){this._context=e}Qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function el(e){return new Qr(e)}function tl(e){return e[0]}function nl(e){return e[1]}function rl(){var e=tl,t=nl,n=xt(!0),r=null,i=el,a=null;function s(o){var l,u=o.length,c,h=!1,f;for(r==null&&(a=i(f=wi())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(f)return a=null,f+""||null}return s.x=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),s):e},s.y=function(o){return arguments.length?(t=typeof o=="function"?o:xt(+o),s):t},s.defined=function(o){return arguments.length?(n=typeof o=="function"?o:xt(!!o),s):n},s.curve=function(o){return arguments.length?(i=o,r!=null&&(a=i(r)),s):i},s.context=function(o){return arguments.length?(o==null?r=a=null:a=i(r=o),s):r},s}function il({axis:e,series:t,color:n,xScale:r,yScale:i,chartAreaClipPath:a}){var s;const o={"aria-hidden":!0,stroke:n,clipPath:`url(#${a})`};if(t.type==="line"){const l=rl().x(c=>{let h=r.d3Scale(c.x)||0;if(r.isCategorical()){const f=Math.max(0,r.d3Scale.bandwidth()-1)/2;h+=f}return h}).y(c=>i.d3Scale(c.y)||0),u=t.data.filter(({x:c})=>r.d3Scale(c)!==void 0);return x.createElement("path",Object.assign({},o,{d:l(u)||""}))}else if(we(t)){const[l,u]=r.d3Scale.range(),c=i.d3Scale(t.y),h=e==="x"?{x1:l,x2:u,y1:c,y2:c}:{x1:c,x2:c,y1:l,y2:u};return x.createElement("line",Object.assign({},o,h))}else if(be(t)){const[l,u]=i.d3Scale.range(),c=r.isCategorical()?Math.max(0,r.d3Scale.bandwidth()-1)/2:0,h=((s=r.d3Scale(t.x))!==null&&s!==void 0?s:NaN)+c,f=e==="x"?{x1:h,x2:h,y1:l,y2:u}:{x1:l,x2:u,y1:h,y2:h};return x.createElement("line",Object.assign({},o,f))}else return null}const al=2;function ol({axis:e,plotHeight:t,plotWidth:n,highlightedGroupIndex:r,highlightedSeries:i,stackedBars:a,isGroupNavigation:s,visibleSeries:o,xScale:l,yScale:u,isRtl:c}){const h=Cn("awsui-mixed-line-bar-chart__chart-area-"),f=Cn("awsui-line-chart__chart-area-"),y=b.useMemo(()=>{if(!a)return;const g=[];return o.forEach(({series:N})=>{N.type==="bar"?g.push(N.data):g.push([])}),Qs(g)},[o,a]);return x.createElement(x.Fragment,null,x.createElement("defs",{"aria-hidden":"true"},x.createElement("clipPath",{id:h},x.createElement("rect",{x:0,y:0,width:n,height:t})),x.createElement("clipPath",{id:f},x.createElement("rect",{x:0,y:-2/2,width:n,height:t+al}))),x.createElement("g",{"aria-hidden":s?!0:void 0,role:"group"},o.map(({series:g,color:N},v)=>{const w=g===i,D=!!i&&!w;switch(g.type){case"line":case"threshold":return x.createElement("g",{key:v,role:"group","aria-label":g.title,className:he(me.series,me[`series--${g.type}`],{[me["series--highlighted"]]:w,[me["series--dimmed"]]:D})},x.createElement(il,{axis:e,series:g,color:N,xScale:l,yScale:u,chartAreaClipPath:f}));case"bar":return x.createElement(Js,{key:v,axis:e,series:g,color:N,totalSeriesCount:o.filter(C=>C.series.type==="bar").length,seriesIndex:v,xScale:l,yScale:u,plotSize:e==="y"?n:t,highlighted:w,dimmed:D,chartAreaClipPath:h,stackedBarValues:y,highlightedGroupIndex:r,isRtl:c})}})))}function sl(e,t){return t==="categorical"?e.reduce((n,r)=>(ct(r.series)&&r.series.data.forEach(({x:i})=>{n.indexOf(i)===-1&&n.push(i)}),be(r.series)&&n.indexOf(r.series.x)===-1&&n.push(r.series.x),n),[]):e.reduce((n,r)=>{if(we(r.series))return n;if(be(r.series)){const[i,a]=n,s=i==null||r.series.x<i?r.series.x:i,o=a==null||a<r.series.x?r.series.x:a;return[s,o]}return ct(r.series)?r.series.data.reduce(([i,a],{x:s})=>{const o=i==null||s<i?s:i,l=a==null||a<s?s:a;return[o,l]},n):n},[])}function ll(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function ul(e,t,n){let r=e;if(n){const{positiveData:a,negativeData:s}=e.reduce((l,u)=>(u.series.type==="bar"&&u.series.data.forEach(({x:c,y:h})=>{const f=h<0?l.negativeData:l.positiveData,y=ll(f,g=>Ft(g.x,c));return y?y.y+=h:f.push({x:c,y:h}),l}),l),{positiveData:[],negativeData:[]});r=[...[{color:"",index:NaN,series:{type:"bar",title:"positive",data:a}},{color:"",index:NaN,series:{type:"bar",title:"negative",data:s}}],...r.filter(l=>l.series.type!=="bar")]}const i=r.reduce((a,s)=>{if(we(s.series)){const[o,l]=a,u=o===void 0||s.series.y<o?s.series.y:o,c=l===void 0||l<s.series.y?s.series.y:l;return[u,c]}return be(s.series)?a:ct(s.series)?s.series.data.reduce(([o,l],{y:u})=>{const c=o===void 0||u<o?u:o,h=l===void 0||l<u?u:l;return[c,h]},a):a},[0,0]);return t==="log"&&i[0]===0&&i[1]>1?[1,i[1]]:i}function xr({position:e,series:t,xTickFormatter:n,detailPopoverSeriesContent:r}){const i=n?n(e):e.toString(),a=[];return t.forEach(s=>{const o=cl({internalSeries:s,targetX:e,detailPopoverSeriesContent:r});o&&a.push(o)}),{position:i,details:a}}function cl({internalSeries:e,targetX:t,detailPopoverSeriesContent:n}){var r;const{series:i,color:a}=e;if(be(i))return i.x===t?{key:i.title,value:"",color:a,markerType:"dashed"}:null;if(we(i))return{key:i.title,value:i.valueFormatter?i.valueFormatter(i.y):i.y,color:a,markerType:"dashed"};if(ct(i)){for(const s of i.data)if(Ft(t,s.x)){const o=n?n({series:i,x:t,y:s.y}):void 0,l=!!(!((r=o==null?void 0:o.subItems)===null||r===void 0)&&r.length),u=(o==null?void 0:o.expandable)&&l,c=typeof(o==null?void 0:o.key)=="string",h=o!=null&&o.key&&(!u||c)?o.key:i.title;return o!=null&&o.expandable&&!l&&Ie("MixedLineBarChart","`expandable` was set to `true` for a series without sub-items. This property will be ignored."),u&&!c&&Ie("MixedLineBarChart","A ReactNode was used for the key of an expandable series. The series title will be used instead because nested interactive elements can cause accessiblity issues."),!c&&!u&&(o!=null&&o.value)&&typeof o.value!="string"&&Ie("MixedLineBarChart","Use a ReactNode for the key or the value of a series, but not for both. It is not recommended to use links for key and value at the same time."),{key:h,value:(o==null?void 0:o.value)||(i.valueFormatter?i.valueFormatter(s.y,t):s.y),color:a,markerType:i.type==="line"?"line":"rectangle",subItems:o==null?void 0:o.subItems,expandableId:u?i.title:void 0}}}return null}const pr=6,Mt=12;function fl({plotRef:e,popoverRef:t,scaledSeries:n,barGroups:r,highlightPoint:i,highlightGroup:a,clearHighlightedSeries:s,isGroupNavigation:o,isHandlersDisabled:l,highlightX:u}){const c=v=>{var w;if(!((w=t.current)===null||w===void 0)&&w.firstChild){const D=t.current.firstChild.getBoundingClientRect();if(v.clientX>D.x-Mt&&v.clientX<D.x+D.width+Mt&&v.clientY>D.y-Mt&&v.clientY<D.y+D.height+Mt)return!0}return!1},h=v=>{var w,D;const C=v.target.getBoundingClientRect(),E=v.clientX-C.left,k=n.map(m=>m.x).reduce((m,_)=>Math.abs(_-E)<Math.abs(m-E)?_:m,-1/0);if(isFinite(k)){const m=v.clientY-C.top,_=n.filter(I=>I.x===k||we(I.series)).map(I=>I.y).reduce((I,G)=>Math.abs(G-m)<Math.abs(I-m)?G:I,-1/0);if(isFinite(_)&&Math.abs(E-k)<pr&&Math.abs(m-_)<pr){const[{color:I,datum:G,series:Z}]=n.filter(S=>(S.x===k||we(S.series))&&S.y===_);i({x:k,y:_,color:I,datum:G,series:Z})}else{let I=null;for(const G of n)if(G.x===k){I=(D=(w=G.datum)===null||w===void 0?void 0:w.x)!==null&&D!==void 0?D:null;break}u({scaledX:k,label:I})}}},f=v=>{const w=v.target.getBoundingClientRect(),D=v.clientX-w.left,C=v.clientY-w.top;for(let E=0;E<r.length;E++){const{position:{x:k,y:m,width:_,height:I}}=r[E];if(k<=D&&D<=k+_&&m<=C&&C<=m+I){a(E);return}}s()};return{onSVGMouseMove:v=>{v.target===e.current.svg&&!l&&!c(v)&&(o?f(v):n.length>0&&h(v))},onSVGMouseOut:v=>{l||c(v)||(!Sn(e.current.svg,v.relatedTarget)||v.relatedTarget&&v.relatedTarget.classList.contains(me.series))&&(u(null),s())},onPopoverLeave:v=>{!l&&Sn(e.current.svg,v.relatedTarget)&&(u(null),s())}}}function hl({series:e,visibleSeries:t,scaledSeries:n,barGroups:r,xScale:i,yScale:a,highlightedPoint:s,highlightedGroupIndex:o,highlightedSeries:l,isHandlersDisabled:u,pinPopover:c,highlightSeries:h,highlightGroup:f,highlightPoint:y,highlightX:g,verticalMarkerX:N,isRtl:v,horizontalBars:w}){const[D,C]=b.useState(null),[E,k]=b.useState(0),m=b.useMemo(()=>t.some(({series:L})=>L.type==="bar"),[t]),{navigableSeries:_}=b.useMemo(()=>Zs(t),[t]),I=_.length>1,G=()=>{const L=o??0;C(i.domain[L]),f(L)},Z=()=>{var L;if(N===null){const M=v?A.length-1:0;I?te(M):Y(0,(L=A[M].datum)===null||L===void 0?void 0:L.x)}},S=()=>{m?G():Z()},A=b.useMemo(()=>{const L=[];for(let M=0;M<n.length;M+=1){const z=n[M];z!==void 0&&(!L.length||L[L.length-1].scaledX!==z.x)&&L.push({scaledX:z.x,datum:z.datum})}return L},[n]),Y=b.useCallback((L,M)=>{var z,j,ne,B,ie;if(m)return;const oe=i.isCategorical()?Math.max(0,i.d3Scale.bandwidth()-1)/2:0,J=_.length-1;let pe=-1;l&&(pe=_.indexOf(l));const Ee=I?-1:0;let p=0;if(pe!==null&&(p=pe+L,p>J?p=Ee:p<Ee&&(p=J)),p===-1){h(null),y(null);return}const T=_[p],U=e.filter(({series:R})=>R===T)[0],d=(z=D??M)!==null&&z!==void 0?z:null;let X=((j=i.d3Scale(d))!==null&&j!==void 0?j:NaN)+oe;if(isFinite(X)||(X=0),T.type==="line"){const ee=n.filter(H=>H.series===T).reduce((H,le)=>Math.abs(le.x-X)<Math.abs(H.x-X)?le:H,{x:-1/0,y:-1/0});y(Object.assign(Object.assign({},ee),{color:U.color,series:T}))}else if(we(T)){const R=n.map(ee=>{var H;return((H=ee.datum)===null||H===void 0?void 0:H.x)||null}).indexOf(d);y({x:X,y:(ne=a.d3Scale(T.y))!==null&&ne!==void 0?ne:NaN,color:U.color,series:T,datum:(B=n[R])===null||B===void 0?void 0:B.datum})}else be(T)&&y({x:(ie=i.d3Scale(T.x))!==null&&ie!==void 0?ie:NaN,y:a.d3Scale.range()[0],color:U.color,series:T,datum:{x:T.x,y:NaN}})},[m,i,_,l,I,h,y,e,D,n,a]),V=b.useCallback(L=>{var M;const z=l||t[0].series;if(z.type==="line"||we(z)){const j=n.filter(J=>J.series===z),ne=s||j[0],B=j.map(J=>J.x).indexOf(ne.x),ie=Nn(B+L,[0,j.length-1]),oe=j[ie];C(((M=oe.datum)===null||M===void 0?void 0:M.x)||null),k(ie),y(oe)}else if(z.type==="bar"){const j=i.domain,ne=j.length-1;let B=0;o!==null&&(v&&!w&&(L=-L),B=o+L,B>ne?B=0:B<0&&(B=ne));const ie=Ks(B,r,L);C(j[ie]),f(ie)}},[l,t,n,s,y,i.domain,o,r,f,v,w]),te=b.useCallback(L=>{var M,z,j,ne;const B=A[L];k(L),C(((M=B.datum)===null||M===void 0?void 0:M.x)||null),g({scaledX:(z=B==null?void 0:B.scaledX)!==null&&z!==void 0?z:null,label:(ne=(j=B.datum)===null||j===void 0?void 0:j.x)!==null&&ne!==void 0?ne:null})},[A,g]),Q=b.useCallback(L=>{if(l||m)V(L);else{const M=Nn(E+L,[0,A.length-1]);te(M)}},[l,m,V,E,A.length,te]),q=b.useCallback(L=>{const M=L.keyCode;M!==ge.up&&M!==ge.right&&M!==ge.down&&M!==ge.left&&M!==ge.space&&M!==ge.enter||(L.preventDefault(),!u&&(M===ge.down||M===ge.up?Y(M===ge.down?1:-1):M===ge.left||M===ge.right?Q(M===ge.right?1:-1):(M===ge.enter||M===ge.space)&&c()))},[u,Y,Q,c]);return{isGroupNavigation:m,onFocus:S,onKeyDown:q,xIndex:E}}function dl(){const[e,t]=b.useState("closed"),n=e!=="closed",r=e==="pinned",i=b.useCallback(()=>t("open"),[]),a=b.useCallback(()=>t("pinned"),[]),s=b.useCallback(()=>t("closed"),[]);return{isPopoverOpen:n,isPopoverPinned:r,showPopover:i,pinPopover:a,dismissPopover:s}}function gl(e,t,n,r,i){return t.isCategorical()?t.domain.map(a=>{const s=t.d3Scale(a),o=typeof s<"u"&&isFinite(s);return{x:a,isValid:o,hasData:e.some(({series:l})=>we(l)?!0:be(l)?!1:ct(l)?l.data.some(u=>Ft(u.x,a)):!1),position:i==="x"?{x:0,y:o&&s||0,width:n,height:t.d3Scale.bandwidth()}:{x:o&&s||0,y:0,width:t.d3Scale.bandwidth(),height:r}}}):[]}function ml(e,t,n){const r=t.isCategorical()?Math.max(0,t.d3Scale.bandwidth()-1)/2:0,i=u=>(t.d3Scale(u)||0)+r,a=u=>n.d3Scale(u)||0,s=xl(e);function o(u,c,h){var f,y;const g=i(c.x);let N=-1;for(let v=0;v<u.length-1;v++)if(u[v].x<g&&g<u[v+1].x){N=v;break}if(N!==-1){const v=((f=u[N].datum)===null||f===void 0?void 0:f.y)||0,w=((y=u[N+1].datum)===null||y===void 0?void 0:y.y)||0,D=(v+w)/2;u.push({x:g,y:a(D),datum:{x:c.x,y:NaN},series:u[N].series,color:h})}}const l=e.map(({series:u,color:c})=>{const h=[];if(u.type==="line"){for(const f of u.data)h.push({x:i(f.x),y:a(f.y),datum:f,series:u,color:c});h.sort((f,y)=>f.x-y.x);for(const f of e)be(f.series)&&o(h,f.series,f.color)}else if(we(u)){for(const f of s)h.push({x:i(f),y:a(u.y),datum:{x:f,y:u.y},series:u,color:c});s.length===0&&h.push({x:NaN,y:a(u.y),series:u,color:c})}else be(u)&&h.push({x:i(u.x),y:NaN,datum:{x:u.x,y:NaN},series:u,color:c});return h});return pl(l).sort((u,c)=>u.x-c.x)}function xl(e){const t=new Set;for(const{series:r}of e)switch(r.type){case"bar":case"line":for(const i of r.data)t.add(i.x);break;case"threshold":be(r)&&t.add(r.x);break}const n=[];return t.forEach(r=>n.push(r)),n}function pl(e){const t=[];for(const n of e)for(const r of n)t.push(r);return t}const yl=16,yr=12,vr=500;function vl(e){var t,n,{fitHeight:r,hasFilters:i,height:a,series:s,visibleSeries:o,highlightedSeries:l,onHighlightChange:u,highlightedPoint:c,setHighlightedPoint:h,highlightedGroupIndex:f,setHighlightedGroupIndex:y,detailPopoverFooter:g,detailPopoverSize:N="medium",stackedBars:v=!1,horizontalBars:w=!1,xScaleType:D,yScaleType:C,xTickFormatter:E,yTickFormatter:k,emphasizeBaselineAxis:m,xTitle:_,yTitle:I,ariaLabel:G,ariaLabelledby:Z,ariaDescription:S,i18nStrings:A={},detailPopoverSeriesContent:Y}=e,V=Bt(e,["fitHeight","hasFilters","height","series","visibleSeries","highlightedSeries","onHighlightChange","highlightedPoint","setHighlightedPoint","highlightedGroupIndex","setHighlightedGroupIndex","detailPopoverFooter","detailPopoverSize","stackedBars","horizontalBars","xScaleType","yScaleType","xTickFormatter","yTickFormatter","emphasizeBaselineAxis","xTitle","yTitle","ariaLabel","ariaLabelledby","ariaDescription","i18nStrings","detailPopoverSeriesContent"]);const te=b.useRef(null),Q=b.useRef(null),[q,L]=b.useState(0),[M,z]=b.useState(null),[j,ne]=b.useState(""),[B,ie]=xi(vr),oe=Math.round(B/2),J=B?Math.max(0,B-Math.min(q,oe)-yl):vr,pe=b.useRef(null),Ee=wr(ie,pe),p=b.useRef(null),T=Mr(pe.current),U=V.xDomain||sl(s,D),d=V.yDomain||ul(s,C,v),X=s.every(({series:F})=>F.type==="line"||F.type==="threshold");function R(F,O){const re=Rs(F),Le=new gn(D,U,O,X),Pt=Hs(Le,re);return{axis:"x",tickCount:re,scale:Le,ticks:Pt,tickFormatter:E,title:_,ariaRoleDescription:A.xAxisAriaRoleDescription}}function ee(F,O){const re=Us(F),Le=new Ps(C,d,O,V.yDomain?null:re),Pt=As(Le,re);return{axis:"y",tickCount:re,scale:Le,ticks:Pt,tickFormatter:k,title:I,ariaRoleDescription:A.yAxisAriaRoleDescription}}const H=w?ee(J,T?[J,0]:[0,J]):R(J,T?[J,0]:[0,J]),le=ji(Object.assign({},H)),Te=b.useRef(null),Qe=_i(()=>Te.current,!r),ue=r?Qe??0:a,ce=w?R(ue,[0,ue]):ee(ue,[ue,0]),de=H.axis==="x"?H:ce.axis==="x"?ce:null,ye=H.axis==="y"?H:ce.axis==="y"?ce:null;if(!de||!ye)throw new Error("Invariant violation: invalid axis props.");const gt=b.useRef(null),mt=b.useRef(null),Pe=w?"y":"x",Je=w?"x":"y",ze=ml(o,de.scale,ye.scale),W=gl(o,de.scale,J,ue,Je),{isPopoverOpen:fe,isPopoverPinned:K,showPopover:Lt,pinPopover:mn,dismissPopover:Re}=dl(),[xn,pn]=b.useState(!1);b.useEffect(()=>{if(K)pn(!0);else{const F=setTimeout(()=>pn(!1),25);return()=>clearTimeout(F)}},[K]);const Ue=b.useCallback(F=>{F!==l&&u(F)},[l,u]),yn=b.useCallback(F=>{var O,re;y(null),h(F),F&&(Ue(F.series),z({scaledX:F.x,label:(re=(O=F.datum)===null||O===void 0?void 0:O.x)!==null&&re!==void 0?re:null}))},[y,h,Ue]),et=b.useCallback(()=>{h(null),Ue(null),y(null)},[Ue,y,h]),vn=b.useCallback(F=>{F&&et(),z(F)},[et]),bn=b.useCallback(F=>{Ue(null),h(null),y(F)},[Ue,h,y]),Mn=b.useCallback(()=>{et(),Re()},[Re,et]),wn=hl({series:s,visibleSeries:o,scaledSeries:ze,barGroups:W,xScale:de.scale,yScale:ye.scale,highlightedPoint:c,highlightedGroupIndex:f,highlightedSeries:l,isHandlersDisabled:xn,pinPopover:mn,highlightSeries:Ue,highlightGroup:bn,highlightPoint:yn,highlightX:vn,verticalMarkerX:M,isRtl:!!T,horizontalBars:w}),{isGroupNavigation:He}=wn,_n=Bt(wn,["isGroupNavigation"]),{onSVGMouseMove:Jr,onSVGMouseOut:ei,onPopoverLeave:ti}=fl({scaledSeries:ze,barGroups:W,plotRef:te,popoverRef:p,highlightPoint:yn,highlightGroup:bn,clearHighlightedSeries:Mn,isGroupNavigation:He,isHandlersDisabled:xn,highlightX:vn}),ke=b.useMemo(()=>{var F,O,re;return f!==null?(F=W[f])===null||F===void 0?void 0:F.x:M!==null?M.label:(re=(O=c==null?void 0:c.datum)===null||O===void 0?void 0:O.x)!==null&&re!==void 0?re:null},[c,M,f,W]);b.useEffect(()=>{const F=O=>{O.key==="Escape"&&Re()};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[Re]),b.useLayoutEffect(()=>{(ke!==null||c!==null)&&Lt()},[ke,c,Lt]);const ni=F=>{Re(),F?(et(),z(null)):setTimeout(()=>{var O,re;!!(c||f!==null||M)?(O=te.current)===null||O===void 0||O.focusApplication():(re=te.current)===null||re===void 0||re.focusPlot()},0)},ri=F=>{fe?K?Re():(mn(),F.preventDefault()):Lt()},ii=(F,O)=>{O==="keyboard"&&_n.onFocus()},Tn=F=>{const O=F.relatedTarget||F.target;(O===null||!(O instanceof Element)||!_r(pe.current,O))&&(Mn(),z(null),fe&&!K&&Re())},ai=_n.onKeyDown,oi=de.scale.isCategorical()?Math.max(0,de.scale.d3Scale.bandwidth()-1)/2:0;let Fe=null;if(M!==null)Fe=M.scaledX;else if(He&&f!==null){const F=(n=de.scale.d3Scale((t=W[f])===null||t===void 0?void 0:t.x))!==null&&n!==void 0?n:null;F!==null&&(Fe=oi+F)}const si=b.useMemo(()=>c?{key:`${c.x}-${c.y}`,x:c.x,y:c.y,color:c.color}:null,[c]),li=b.useMemo(()=>Fe!==null?ze.filter(({x:F,y:O})=>(F===Fe||isNaN(F))&&!isNaN(O)).map(({x:F,y:O,color:re},Le)=>({key:`${Le}-${F}-${O}`,x:w?O:Fe||0,y:w?Fe||0:O,color:re})):[],[ze,Fe,w]),kn=He?mt:c?gt:Q,It=b.useMemo(()=>{if(ke===null)return null;if(c){const F=o.filter(O=>O.series===(c==null?void 0:c.series)||be(O.series));return xr({position:ke,series:F,xTickFormatter:E,detailPopoverSeriesContent:Y})}return xr({position:ke,series:o,xTickFormatter:E,detailPopoverSeriesContent:Y})},[ke,c,o,E,Y]),ui=b.useMemo(()=>g&&ke?g(ke):null,[g,ke]),tt=It&&j?`${It.position}, ${j}`:"",ci=tt&&!c&&f===null?tt:"",fi=!c&&M,hi=pi();return x.createElement(Zi,{ref:Ee,minHeight:a+le.height,fitHeight:!!r,hasFilters:i,leftAxisLabel:x.createElement(Pn,{axis:Je,position:"left",title:ce.title}),leftAxisLabelMeasure:x.createElement(ra,{ticks:ce.ticks,scale:ce.scale,tickFormatter:ce.tickFormatter,autoWidth:L,maxLabelsWidth:oe}),bottomAxisLabel:x.createElement(Pn,{axis:Pe,position:"bottom",title:H.title}),chartPlot:x.createElement(Ti,{ref:te,width:"100%",height:r?`calc(100% - ${le.height}px)`:ue,offsetBottom:le.height,isClickable:fe&&!K,ariaLabel:G,ariaLabelledby:Z,ariaDescription:S,ariaRoleDescription:A==null?void 0:A.chartAriaRoleDescription,ariaLiveRegion:ci,activeElementRef:kn,activeElementKey:tt,activeElementFocusOffset:He?0:fi?{x:8,y:0}:3,onMouseMove:Jr,onMouseOut:ei,onClick:ri,onApplicationFocus:ii,onApplicationBlur:Tn,onKeyDown:ai},x.createElement("line",{ref:Te,x1:"0",x2:"0",y1:"0",y2:"100%",stroke:"transparent",strokeWidth:1,style:{pointerEvents:"none"}}),x.createElement(ta,{axis:Je,ticks:ce.ticks,scale:ce.scale,tickFormatter:ce.tickFormatter,title:ce.title,ariaRoleDescription:ce.ariaRoleDescription,maxLabelsWidth:oe,plotWidth:J,plotHeight:ue}),w&&x.createElement(Bs,{scale:ye.scale,ticks:ye.ticks,height:ue}),m&&X&&x.createElement(Rn,{axis:Pe,scale:ye.scale,width:J,height:ue}),x.createElement(ol,{axis:Pe,plotWidth:J,plotHeight:ue,highlightedSeries:l??null,highlightedGroupIndex:f,stackedBars:v,isGroupNavigation:He,visibleSeries:o,xScale:de.scale,yScale:ye.scale,isRtl:!!T}),m&&!X&&x.createElement(Rn,{axis:Pe,scale:ye.scale,width:J,height:ue}),x.createElement(zs,{key:Fe||"",height:ue,showPoints:c===null,showLine:!He,points:li,ref:Q}),c&&x.createElement(Ji,{ref:gt,point:si,role:"button",ariaLabel:tt,ariaHasPopup:!0,ariaExpanded:K}),He&&de.scale.isCategorical()&&x.createElement(Vs,{ariaLabel:tt,isRefresh:hi,isPopoverPinned:K,barGroups:W,highlightedGroupIndex:f,highlightedGroupRef:mt}),x.createElement(Gi,Object.assign({},le,{axis:Pe,scale:H.scale,title:H.title,ariaRoleDescription:H.ariaRoleDescription,height:ue,width:J,offsetLeft:q+yr,offsetRight:yr,isRTL:T}))),popover:x.createElement(js,{ref:p,containerRef:pe,trackRef:kn,isOpen:fe,isPinned:K,highlightDetails:It,onDismiss:ni,size:N,footer:ui,dismissAriaLabel:A.detailPopoverDismissAriaLabel,onMouseLeave:ti,onBlur:Tn,setPopoverText:ne})})}function bl({series:e,visibleSeries:t,highlightedSeries:n,onHighlightChange:r,legendTitle:i,ariaLabel:a,plotContainerRef:s}){const o=b.useMemo(()=>e.filter(l=>t.indexOf(l.series)!==-1).map(({series:l,color:u})=>({label:l.title,marker:x.createElement(Tr,{color:u,type:Kr[l.type]}),datum:l})),[e,t]);return x.createElement(ki,{series:o,highlightedSeries:n||null,onHighlightChange:r,legendTitle:i,ariaLabel:a,plotContainerRef:s})}function Cl(e){var{fitHeight:t,height:n,xScaleType:r,yScaleType:i,xDomain:a,yDomain:s,xTickFormatter:o,yTickFormatter:l,highlightedSeries:u,visibleSeries:c,series:h,onFilterChange:f,onHighlightChange:y,i18nStrings:g,ariaLabel:N,ariaLabelledby:v,ariaDescription:w,xTitle:D,yTitle:C,stackedBars:E,horizontalBars:k,hideFilter:m,additionalFilters:_,hideLegend:I,legendTitle:G,statusType:Z,detailPopoverSize:S,detailPopoverFooter:A,detailPopoverSeriesContent:Y,emphasizeBaselineAxis:V,empty:te,noMatch:Q,errorText:q,loadingText:L,recoveryText:M,onRecoveryClick:z,__internalRootRef:j=null}=e,ne=Bt(e,["fitHeight","height","xScaleType","yScaleType","xDomain","yDomain","xTickFormatter","yTickFormatter","highlightedSeries","visibleSeries","series","onFilterChange","onHighlightChange","i18nStrings","ariaLabel","ariaLabelledby","ariaDescription","xTitle","yTitle","stackedBars","horizontalBars","hideFilter","additionalFilters","hideLegend","legendTitle","statusType","detailPopoverSize","detailPopoverFooter","detailPopoverSeriesContent","emphasizeBaselineAxis","empty","noMatch","errorText","loadingText","recoveryText","onRecoveryClick","__internalRootRef"]);const B=yi(ne),ie=b.useRef(null);b.useEffect(()=>{const W=h.some(K=>K.type==="bar"),fe=h.some(K=>K.type==="line");r!=="categorical"&&W&&Ie("MixedLineBarChart",`Bar series cannot be used with a ${r} scale. Use a categorical x axis instead.`),k&&fe&&Ie("MixedLineBarChart","Property horizontalBars can only be used with charts that contain only bar or threshold series.");for(const K of h)K.type==="threshold"&&K.x!==void 0&&K.y!==void 0&&Ie("MixedLineBarChart",'Series of type "threshold" must contain either x or y property.'),K.type==="threshold"&&K.x===void 0&&K.y===void 0&&Ie("MixedLineBarChart",'Series of type "threshold" must contain either x or y property.')},[r,k,h]);const oe=b.useMemo(()=>{const W=Ci(h,fe=>we(fe)||be(fe),fe=>fe.color||null);return h.map((fe,K)=>({index:K,color:W[K],series:fe}))},[h]),[J,pe]=b.useState(null),[Ee,p]=b.useState(null),[T=null,U]=Dn(u,y,null,{componentName:"MixedLineBarChart",controlledProp:"highlightedSeries",changeHandler:"onHighlightChange"}),[d,X]=b.useState(T);b.useEffect(()=>{X(u||null)},[u]);const[R,ee]=Dn(c,f,h,{componentName:"MixedLineBarChart",controlledProp:"visibleSeries",changeHandler:"onFilterChange"});{const W=Fi(h),fe=!!(W&&W.length),K=!!h.length;fe&&K&&h!==W&&!c&&!m&&Ie("MixedLineBarChart","The `series` value passed into the component changed. This may cause problems with filtering - we recommend that you make the `series` value constant, or provide a `visibleSeries` value that derives from the current `series` value.")}const H=b.useMemo(()=>oe.filter(W=>(R==null?void 0:R.indexOf(W.series))!==-1),[oe,R]),le=W=>{ee(W),En(f,{visibleSeries:W})},Te=W=>{U(W),En(y,{highlightedSeries:W}),X(W)},Qe=W=>{W.relatedTarget&&!_r(ie.current,W.relatedTarget)&&(T&&Te(T),pe(null),p(null),X(null))},{isEmpty:ue,isNoMatch:ce,showChart:de}=Si({externalData:h,visibleData:H||[],statusType:Z}),ye=Z==="finished"&&(!ue||ce)&&(_||!m),gt=!I&&!ue&&Z==="finished",mt=!de&&!I,Pe=!de&&!ce&&(!m||_),Je=wr(ie,j),ze=oe.map(({series:W,color:fe})=>({label:W.title,marker:x.createElement(Tr,{type:Kr[W.type],color:fe}),datum:W}));return x.createElement(Ni,Object.assign({ref:Je},B,{className:he(B.className,me.root),fitHeight:!!t,contentMinHeight:n,defaultFilter:ye&&!m?x.createElement(Ei,{series:ze,onChange:le,selectedSeries:R||[],i18nStrings:g}):null,additionalFilters:ye?_:null,reserveFilterSpace:!!Pe,reserveLegendSpace:!!mt,chartStatus:x.createElement(Di,{isEmpty:ue,isNoMatch:ce,showChart:de,statusType:Z,empty:te,noMatch:Q,loadingText:L,errorText:q,recoveryText:M,onRecoveryClick:z}),chart:de?x.createElement(vl,{fitHeight:t,hasFilters:!!ye,height:n,xScaleType:r,yScaleType:i,xDomain:a,yDomain:s,xTickFormatter:o??(g==null?void 0:g.xTickFormatter),yTickFormatter:l??(g==null?void 0:g.yTickFormatter),emphasizeBaselineAxis:V,stackedBars:E,horizontalBars:k,series:oe,visibleSeries:H,highlightedSeries:T,onHighlightChange:Te,highlightedPoint:J,setHighlightedPoint:pe,highlightedGroupIndex:Ee,setHighlightedGroupIndex:p,detailPopoverSize:S,detailPopoverFooter:A,detailPopoverSeriesContent:Y,xTitle:D,yTitle:C,ariaLabel:N,ariaLabelledby:v,ariaDescription:w,i18nStrings:g}):null,legend:gt?x.createElement(bl,{series:oe,visibleSeries:R||[],highlightedSeries:d,onHighlightChange:Te,legendTitle:G,ariaLabel:g==null?void 0:g.legendAriaLabel,plotContainerRef:ie}):null,onBlur:Qe}))}export{Cl as I};

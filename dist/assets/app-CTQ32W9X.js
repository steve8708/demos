import{r,j as t,S as h,a as S}from"./index-DLMN1afU.js";import{S as j}from"./index-D6bOkW2v.js";import{A as y}from"./index-CmXkoEfJ.js";import{S as L}from"./index-C1AwVX_8.js";import{Breadcrumbs as V}from"./breadcrumbs-Y17x0VEP.js";import"./help-panel-DZ5f7IRB.js";import{Notifications as W}from"./notifications-BKOqeyEH.js";import{CustomAppLayout as A}from"./common-components-B2ionziO.js";import{WeatherDashboardHeader as C}from"./header-Cyeg_Xux.js";import{WeatherDashboardContent as O}from"./content-wqhcxL3_.js";import{DEFAULT_LOCATIONS as p}from"./types-D-Wn5bzp.js";import{WeatherService as T}from"./weather-service-BlQHCClz.js";/* empty css                        */import"./internal-BfYk3OGg.js";import"./index-CgWRm0rq.js";import"./index-SUQSjT3m.js";import"./use-select-CGMio23-.js";import"./index-DJYuq0HF.js";import"./is-development-CxJkH8d1.js";import"./internal-BwoLqu24.js";import"./index-L3dgIH_E.js";import"./disclaimer-flashbar-item-D5k2jIUH.js";import"./all.en-DsbC0ww9.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./external-link-C1AVncrI.js";import"./external-link-group-DAHSOmTY.js";import"./index-Dz6VcXup.js";import"./full-page-header-BtnFBchC.js";import"./info-link-Hx3ZDbF_.js";import"./navigation-jRFG-VMo.js";import"./index-BRLf1Tl8.js";import"./internal-BatzASRu.js";import"./current-weather-BMiHDJQX.js";import"./index-pjULxWZ8.js";import"./weather-stats-YcyTxaQE.js";import"./index-CRaad7Bu.js";import"./internal-DdS2MN2J.js";import"./daily-forecast-4fVAOSHI.js";import"./hourly-forecast-Cc6I_zmh.js";import"./index-Cl0yh8Wf.js";import"./collection-preferences-metadata-context-C6GRGUgK.js";import"./internal-Dwr2Yqy5.js";import"./internal-BWpMHlT2.js";import"./temperature-trend-CTrlCSe4.js";import"./index-q81zZMGS.js";import"./internal-eRWZLbJE.js";import"./index-Ct9nYAV0.js";import"./internal-B7gVIJJh.js";import"./dismiss-button-C-DcIRP0.js";import"./index-5qndC0qu.js";import"./index-ByYgjtW3.js";function Oe(){const[o,u]=r.useState(p[0]),[f,b]=r.useState(null),[s,m]=r.useState(!1),[i,n]=r.useState(null),[l,N]=r.useState(null),x=r.useRef(null),d=p.map(e=>({label:`${e.name}, ${e.country}`,value:e.name,description:`${e.latitude.toFixed(2)}, ${e.longitude.toFixed(2)}`})),c=async e=>{m(!0),n(null);try{const a=await T.getCompleteWeatherData(e);b(a),N(new Date)}catch(a){n(a instanceof Error?a.message:"Failed to fetch weather data"),console.error("Weather fetch error:",a)}finally{m(!1)}};r.useEffect(()=>{c(o)},[o]);const g=e=>{const a=p.find(w=>w.name===e.selectedOption.value);a&&u(a)},v=()=>{c(o)},D=t.jsxDEV(h,{direction:"horizontal",size:"s",children:[t.jsxDEV(j,{selectedOption:d.find(e=>e.value===o.name)||null,onChange:({detail:e})=>g(e),options:d,placeholder:"Select location",loadingText:"Loading locations",statusType:s?"loading":"finished"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:67,columnNumber:7},this),t.jsxDEV(S,{variant:"normal",iconName:"refresh",onClick:v,loading:s,children:"Refresh"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:75,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:66,columnNumber:5},this),E=l&&t.jsxDEV("div",{style:{fontSize:"0.875rem",color:"var(--color-text-body-secondary)"},children:t.jsxDEV(L,{type:i?"error":"success",children:i?"Error loading data":`Last updated: ${l.toLocaleTimeString()}`},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:83,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:82,columnNumber:5},this);return t.jsxDEV(A,{ref:x,content:t.jsxDEV(h,{size:"m",children:[t.jsxDEV(C,{actions:D,location:o,statusInfo:E},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:94,columnNumber:11},this),i&&t.jsxDEV(y,{type:"error",header:"Weather data unavailable",children:[i,". Please try refreshing the data or selecting a different location."]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:96,columnNumber:13},this),t.jsxDEV(O,{weatherData:f,location:o,loading:s},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:93,columnNumber:9},this),breadcrumbs:t.jsxDEV(V,{items:[{text:"Weather Dashboard",href:"#/weather-dashboard"}]},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:103,columnNumber:20},this),navigationHide:!0,toolsHide:!0,notifications:t.jsxDEV(W,{},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:106,columnNumber:22},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:90,columnNumber:5},this)}export{Oe as App};

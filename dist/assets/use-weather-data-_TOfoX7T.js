import{r as a}from"./index-WOunTE3s.js";const h="https://api.open-meteo.com/v1",p="https://geocoding-api.open-meteo.com/v1";function f(){const[i,n]=a.useState(null),[c,r]=a.useState(!1),[u,o]=a.useState(null),l=a.useCallback(async(d,s)=>{r(!0),o(null);try{const t=new URLSearchParams({latitude:d.toString(),longitude:s.toString(),current:"temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,weather_code,wind_speed_10m,wind_direction_10m",daily:"weather_code,temperature_2m_max,temperature_2m_min,precipitation_sum,wind_speed_10m_max",timezone:"auto",forecast_days:"7"}),e=await fetch(`${h}/forecast?${t}`);if(!e.ok)throw new Error(`Weather API error: ${e.status} ${e.statusText}`);const m=await e.json();n(m)}catch(t){o(t instanceof Error?t.message:"Failed to fetch weather data"),n(null)}finally{r(!1)}},[]);return{weatherData:i,loading:c,error:u,fetchWeatherData:l}}function g(){const[i,n]=a.useState([]),[c,r]=a.useState(!1),[u,o]=a.useState(null),l=a.useCallback(async s=>{if(!s.trim()){n([]);return}r(!0),o(null);try{const t=new URLSearchParams({name:s.trim(),count:"10",language:"en",format:"json"}),e=await fetch(`${p}/search?${t}`);if(!e.ok)throw new Error(`Geocoding API error: ${e.status} ${e.statusText}`);const m=await e.json();n(m.results||[])}catch(t){o(t instanceof Error?t.message:"Failed to search locations"),n([])}finally{r(!1)}},[]),d=a.useCallback(()=>{n([]),o(null)},[]);return{locations:i,loading:c,error:u,searchLocations:l,clearLocations:d}}const w=[{id:1,name:"New York",latitude:40.7128,longitude:-74.006,country:"United States",admin1:"New York"},{id:2,name:"London",latitude:51.5074,longitude:-.1278,country:"United Kingdom",admin1:"England"},{id:3,name:"Tokyo",latitude:35.6762,longitude:139.6503,country:"Japan",admin1:"Tokyo"},{id:4,name:"Sydney",latitude:-33.8688,longitude:151.2093,country:"Australia",admin1:"New South Wales"},{id:5,name:"Paris",latitude:48.8566,longitude:2.3522,country:"France",admin1:"ÃŽle-de-France"}];export{w as DEFAULT_LOCATIONS,g as useLocationSearch,f as useWeatherData};

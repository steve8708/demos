import{j as t,C as l,B as o,H as p,I as x}from"./index-DLMN1afU.js";import{K as v}from"./index-CRaad7Bu.js";import{S as j}from"./index-pjULxWZ8.js";import{WeatherService as n}from"./weather-service-BlQHCClz.js";import"./internal-DdS2MN2J.js";function T({currentWeather:a,hourlyData:s,loading:c}){if(c)return t.jsxDEV(l,{header:t.jsxDEV(p,{variant:"h2",children:"Weather Statistics"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:24,columnNumber:26},this),children:t.jsxDEV(o,{textAlign:"center",padding:"xl",children:[t.jsxDEV(j,{size:"large"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:26,columnNumber:11},this),t.jsxDEV(o,{variant:"p",margin:{top:"s"},children:"Loading statistics..."},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:25,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:24,columnNumber:7},this);if(!a||!s)return t.jsxDEV(l,{header:t.jsxDEV(p,{variant:"h2",children:"Weather Statistics"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:37,columnNumber:26},this),children:t.jsxDEV(o,{textAlign:"center",padding:"xl",children:[t.jsxDEV(x,{name:"status-warning",size:"large"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:39,columnNumber:11},this),t.jsxDEV(o,{variant:"p",margin:{top:"s"},children:"Statistics unavailable"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:40,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:37,columnNumber:7},this);const h=new Date().toISOString().split("T")[0],m=s.time.map((e,i)=>e.startsWith(h)?i:-1).filter(e=>e!==-1),r=m.map(e=>s.temperature_2m[e]).filter(e=>e!==void 0),d=m.map(e=>s.relative_humidity_2m[e]).filter(e=>e!==void 0),u=m.map(e=>s.precipitation[e]).filter(e=>e!==void 0),b=r.length>0?Math.max(...r):a.temperature,g=r.length>0?Math.min(...r):a.temperature,w=d.length>0?Math.round(d.reduce((e,i)=>e+i,0)/d.length):0,f=u.reduce((e,i)=>e+i,0),N=[{label:"Current Temperature",value:n.formatTemperature(a.temperature)},{label:"Today's High",value:n.formatTemperature(b)},{label:"Today's Low",value:n.formatTemperature(g)},{label:"Wind Speed",value:n.formatWindSpeed(a.windspeed)},{label:"Average Humidity",value:`${w}%`},{label:"Precipitation Today",value:`${f.toFixed(1)} mm`}];return t.jsxDEV(l,{header:t.jsxDEV(p,{variant:"h2",description:"Key weather metrics for today",children:"Weather Statistics"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:96,columnNumber:9},this),children:t.jsxDEV(v,{columns:2,items:N},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:101,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/widgets/weather-stats.tsx",lineNumber:94,columnNumber:5},this)}export{T as WeatherStatsWidget};

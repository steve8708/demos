const o="https://geocoding-api.open-meteo.com/v1/search",i="https://api.open-meteo.com/v1/forecast";async function s(t){if(!t.trim())return[];try{const e=await fetch(`${o}?name=${encodeURIComponent(t)}&count=10&language=en&format=json`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json()).results||[]}catch(e){throw console.error("Error searching locations:",e),new Error("Failed to search locations. Please try again.")}}async function c(t,e){try{const r=new URLSearchParams({latitude:t.toString(),longitude:e.toString(),current:"temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m,wind_direction_10m",daily:"temperature_2m_max,temperature_2m_min,weather_code,precipitation_sum,wind_speed_10m_max",timezone:"auto",forecast_days:"7"}),a=await fetch(`${i}?${r.toString()}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(!n.current||!n.daily)throw new Error("Invalid weather data received from API");return n}catch(r){throw console.error("Error fetching weather data:",r),new Error("Failed to fetch weather data. Please try again.")}}function d(t){const e=[t.name];return t.admin1&&e.push(t.admin1),t.country&&e.push(t.country),e.join(", ")}function u(t){return`${Math.round(t)}Â°C`}function m(t){return`${Math.round(t)} km/h`}function h(t){const e=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],r=Math.round(t/22.5)%16;return e[r]}function f(t){return new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}export{c as fetchWeatherData,f as formatDate,u as formatTemperature,h as formatWindDirection,m as formatWindSpeed,d as getLocationDisplayName,s as searchLocations};

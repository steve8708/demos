import{r as M,w as je,bQ as rt,R as l,p as U,az as Ze,_ as K,b6 as st,Y as Me,b7 as ot,c as we,P,b8 as it,ay as Le,M as lt,n as Ae,o as ye,O as Y,m as $e,a9 as ut,br as ct,bC as De,u as ze,dH as dt,J as Ue,aC as gt,aX as ft,K as mt}from"./index-DLMN1afU.js";import{c as Je}from"./index-DJYuq0HF.js";import{r as E,a as qe,t as k,_ as _e}from"./index-5qndC0qu.js";import{a as ee,s as Re,b as xe}from"./index-ByYgjtW3.js";import{f as ht,p as ge}from"./format-date-B0wWljPd.js";function pt(n){return n.replace(/-/g,"/")}function Qe(n){return n.replace(/\//g,"-")}function bt(n,e){E(2,arguments);var t=qe(e);return ee(n,t*12)}function Pe(n,e){E(2,arguments);var t=k(n),a=k(e),r=t.getTime()-a.getTime();return r<0?-1:r>0?1:r}function vt(n,e){E(2,arguments);var t=Re(n),a=Re(e);return t.getTime()===a.getTime()}function Dt(n,e){E(2,arguments);var t=k(n),a=k(e);return t.getFullYear()-a.getFullYear()}function Xe(n,e){E(2,arguments);var t=k(n),a=k(e),r=Pe(t,a),s=Math.abs(Dt(t,a));t.setFullYear(1584),a.setFullYear(1584);var o=Pe(t,a)===-r,i=r*(s-Number(o));return i===0?0:i}function yt(n){E(1,arguments);var e=k(n);return e.setDate(1),e.setHours(0,0,0,0),e}function _t(n){E(1,arguments);var e=k(n),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Mt(n){E(1,arguments);var e=k(n),t=e.getFullYear(),a=e.getMonth(),r=new Date(0);return r.setFullYear(t,a+1,0),r.setHours(0,0,0,0),r.getDate()}function wt(n,e){if(_e(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(_e(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lt(n){var e=wt(n,"string");return _e(e)=="symbol"?e:e+""}function At(n,e,t){return(e=Lt(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z(n,e){E(2,arguments);var t=k(n),a=k(e);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function Ce(n,e){E(2,arguments);var t=k(n),a=k(e);return t.getFullYear()===a.getFullYear()}function Ct(n,e){E(2,arguments);var t=qe(e);return ee(n,-t)}function Ne(n,e=!1){const[t,a,r]=n.split("-"),s=Number(t),o=Number(a),i=Number(r);return e&&(isNaN(s)||isNaN(o)||isNaN(i))?null:new Date(s,(o||1)-1,i||1)}function Se(){const n=M.useRef(new Map);return e=>{const t=n.current.get(e.getTime());return t||(n.current.set(e.getTime(),e),e)}}function Fe(n,e){return n.length===2&&e.indexOf(n)===0?e:n}function et(n,e){var t;e=Oe(n,e);const a=kt();if(e)return Fe(e,a);const r=Oe(n,(t=Nt())===null||t===void 0?void 0:t.getAttribute("lang"));return r?Fe(r,a):a}function Oe(n,e){return!e||e===""?"":(e=e&&e.replace(/^([a-z]{2})_/,"$1-"),e&&!e.match(/^[a-z]{2}(-[A-Z]{2})?$/)&&(je(n,`Invalid locale provided: ${e}. Falling back to default`),e=""),e)}function Nt(){return typeof document<"u"?document.querySelector("html"):null}function kt(){return new Intl.DateTimeFormat().resolvedOptions().locale}function It(n,e){var t=e[typeof n=="string"?n.toUpperCase():n];return typeof t=="number"?t:1}function Et(n,e,t){if(n){var a=n.toLowerCase().split(/[-_]/),r=a[0],s;if(a[1]&&a[1].length===4?(r+="_"+a[1],s=a[2]):s=a[1],s||(s=e[r]),s)return It(s.match(/^\d+$/)?Number(s):s,t)}return 1}var Rt={en:"US",zh:"CN",zh_hans:"CN",hans:"CN",wuu:"CN",hsn:"CN",hak:"CN",nan:"CN",gan:"CN",hi:"IN",te:"IN",mr:"IN",ta:"IN",gu:"IN",kn:"IN",or:"IN",ml:"IN",pa_guru:"IN",bho:"IN",awa:"IN",as:"IN",mwr:"IN",mai:"IN",mag:"IN",bgc:"IN",hne:"IN",dcc:"IN",dz:"BT",tn:"BW",am:"ET",om:"ET",quc:"GT",id:"ID",jv:"ID",su:"ID",mad:"ID",ms_arab:"ID",ga:"IE",he:"IL",jam:"JM",ja:"JP",km:"KH",ko:"KR",lo:"LA",mh:"MH",my:"MM",mt:"MT",ne:"NP",fil:"PH",ceb:"PH",ilo:"PH",ur:"PK",pa:"PK",pa_arab:"PK",arab:"PK",lah:"PK",ps:"PK",sd:"PK",sd_arab:"PK",skr:"PK",gn:"PY",th:"TH",tts:"TH",aeb:"TN",zh_hant:"TW",hant:"TW",sm:"WS",zu:"ZA",sn:"ZW",arq:"DZ",ar:"EG",arz:"EG",fa:"IR",az_arab:"IR",ary:"MA",bn:"BD",rkt:"BD",dv:"MV"},xt={AG:0,ATG:0,28:0,AR:0,ARG:0,32:0,AS:0,ASM:0,16:0,AU:0,AUS:0,36:0,BR:0,BRA:0,76:0,BS:0,BHS:0,44:0,BT:0,BTN:0,64:0,BW:0,BWA:0,72:0,BZ:0,BLZ:0,84:0,CA:0,CAN:0,124:0,CN:0,CHN:0,156:0,CO:0,COL:0,170:0,DM:0,DMA:0,212:0,DO:0,DOM:0,214:0,ET:0,ETH:0,231:0,GT:0,GTM:0,320:0,GU:0,GUM:0,316:0,HK:0,HKG:0,344:0,HN:0,HND:0,340:0,ID:0,IDN:0,360:0,IE:0,IRL:0,372:0,IL:0,ISR:0,376:0,IN:0,IND:0,356:0,JM:0,JAM:0,388:0,JP:0,JPN:0,392:0,KE:0,KEN:0,404:0,KH:0,KHM:0,116:0,KR:0,KOR:0,410:0,LA:0,LA0:0,418:0,MH:0,MHL:0,584:0,MM:0,MMR:0,104:0,MO:0,MAC:0,446:0,MT:0,MLT:0,470:0,MX:0,MEX:0,484:0,MZ:0,MOZ:0,508:0,NI:0,NIC:0,558:0,NP:0,NPL:0,524:0,NZ:0,NZL:0,554:0,PA:0,PAN:0,591:0,PE:0,PER:0,604:0,PH:0,PHL:0,608:0,PK:0,PAK:0,586:0,PR:0,PRI:0,630:0,PY:0,PRY:0,600:0,SA:0,SAU:0,682:0,SG:0,SGP:0,702:0,SV:0,SLV:0,222:0,TH:0,THA:0,764:0,TN:0,TUN:0,788:0,TT:0,TTO:0,780:0,TW:0,TWN:0,158:0,UM:0,UMI:0,581:0,US:0,USA:0,840:0,VE:0,VEN:0,862:0,VI:0,VIR:0,850:0,WS:0,WSM:0,882:0,YE:0,YEM:0,887:0,ZA:0,ZAF:0,710:0,ZW:0,ZWE:0,716:0,AE:6,ARE:6,784:6,AF:6,AFG:6,4:6,BH:6,BHR:6,48:6,DJ:6,DJI:6,262:6,DZ:6,DZA:6,12:6,EG:6,EGY:6,818:6,IQ:6,IRQ:6,368:6,IR:6,IRN:6,364:6,JO:6,JOR:6,400:6,KW:6,KWT:6,414:6,LY:6,LBY:6,434:6,MA:6,MAR:6,504:6,OM:6,OMN:6,512:6,QA:6,QAT:6,634:6,SD:6,SDN:6,729:6,SY:6,SYR:6,760:6,BD:5,BGD:5,50:5,MV:5,MDV:5,462:5};function Pt(n){return Et(n,Rt,xt)}function St(n,e){return typeof n=="number"?n%7:Pt(e)}const _={calendar:"awsui_calendar_1ykar_1pugm_153",root:"awsui_root_1ykar_1pugm_180","calendar-inner":"awsui_calendar-inner_1ykar_1pugm_218","calendar-header":"awsui_calendar-header_1ykar_1pugm_222","calendar-header-title":"awsui_calendar-header-title_1ykar_1pugm_227","calendar-next-btn":"awsui_calendar-next-btn_1ykar_1pugm_235","calendar-prev-btn":"awsui_calendar-prev-btn_1ykar_1pugm_238","calendar-grid":"awsui_calendar-grid_1ykar_1pugm_241","calendar-grid-dense":"awsui_calendar-grid-dense_1ykar_1pugm_245","calendar-grid-cell":"awsui_calendar-grid-cell_1ykar_1pugm_253","calendar-date-header":"awsui_calendar-date-header_1ykar_1pugm_258","calendar-date":"awsui_calendar-date_1ykar_1pugm_258","calendar-date-enabled":"awsui_calendar-date-enabled_1ykar_1pugm_278","calendar-date-current-page":"awsui_calendar-date-current-page_1ykar_1pugm_288","calendar-date-selected":"awsui_calendar-date-selected_1ykar_1pugm_299","calendar-date-current":"awsui_calendar-date-current_1ykar_1pugm_288","calendar-date-dense":"awsui_calendar-date-dense_1ykar_1pugm_320","date-inner":"awsui_date-inner_1ykar_1pugm_328","calendar-row":"awsui_calendar-row_1ykar_1pugm_403","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_1ykar_1pugm_407"},tt=M.forwardRef((n,e)=>{const{disabledReason:t}=n,a=K(n,["disabledReason"]),r=!!t,{targetProps:s,descriptionEl:o}=st(t),i=M.useRef(null),[c,d]=M.useState(!1);return l.createElement("td",Object.assign({ref:Me(e,i)},r?s:{},a,{onFocus:()=>r?d(!0):void 0,onBlur:()=>r?d(!1):void 0,onMouseEnter:()=>r?d(!0):void 0,onMouseLeave:()=>r?d(!1):void 0}),n.children,r&&l.createElement(l.Fragment,null,o,c&&l.createElement(ot,{className:_["disabled-reason-tooltip"],trackRef:i,value:t,onDismiss:()=>d(!1)})))});we(tt,"GridCell");function Ft({isDateEnabled:n,dateDisabledReason:e,focusedDate:t,focusableDate:a,onSelectDate:r,selectedDate:s,ariaLabelledby:o,header:i,rows:c,isCurrentPage:d,renderDate:v,renderDateAnnouncement:D,isSameDate:u,onGridKeyDownHandler:g}){const f=M.useRef(null);rt(()=>{t&&f.current&&f.current.focus()},[t]);const p=c[0].length>3;return l.createElement("table",{role:"grid",className:U(_["calendar-grid"],p&&_["calendar-grid-dense"]),"aria-labelledby":o},i,l.createElement("tbody",{onKeyDown:g},c.map((m,w)=>l.createElement("tr",{key:w,className:_["calendar-row"]},m.map((b,L)=>{const R=!!a&&u(b,a),S=!!s&&u(b,s),N=!n||n(b),T=e(b),A=!N&&!!T,W=u(b,new Date);let x;return R&&(N||A)?x=0:(N||A)&&(x=-1),l.createElement(tt,{key:`${w}:${L}`,ref:x===0?f:void 0,tabIndex:x,"aria-current":W?"date":void 0,"aria-selected":N?S:void 0,"aria-disabled":!N,onClick:N?()=>r(b):void 0,className:U(_["calendar-grid-cell"],_["calendar-date"],{[_["calendar-date-current-page"]]:d(b),[_["calendar-date-enabled"]]:N,[_["calendar-date-selected"]]:S,[_["calendar-date-current"]]:W,[_["calendar-date-dense"]]:p}),disabledReason:A?T:void 0},l.createElement("span",{className:_["date-inner"],"aria-hidden":"true"},v(b)),l.createElement(Ze,null,D(b,W)))})))))}function Ot(n,e){const t=e-n.getDay();n.setDate(n.getDate()+t)}function Te(n,e,t){const a=new Date;return Ot(a,e),a.toLocaleDateString(n,{weekday:t})}function me(n,e){return e.toLocaleDateString(n,{year:"numeric",month:"long"})}function Tt(n,e){return e.toLocaleDateString(n,{year:"numeric"})}const He=new Map;function nt(n,e,t="full"){const a=n+e.getTime()+t,r=He.get(a);if(r)return r;const s=e.toLocaleDateString(n,{weekday:t==="full"?"long":void 0,month:"long",day:"numeric",year:"numeric"});return He.set(a,s),s}function Ht({locale:n,rows:e}){return l.createElement("thead",null,l.createElement("tr",null,e[0].map(t=>t.getDay()).map(t=>l.createElement("th",{key:t,scope:"col",className:U(_["calendar-grid-cell"],_["calendar-date-header"])},l.createElement("span",{"aria-hidden":"true"},Te(n,t,"short")),l.createElement(Ze,null,Te(n,t,"long"))))))}function Bt(n,e){return oe(n,e,1)}function Vt(n,e){return oe(n,e,-1)}function Kt(n,e){return oe(n,e,7)}function Yt(n,e){return oe(n,e,-7)}function Wt(n,e){const t=yt(n);if(e(t))return t;const a=oe(t,e,1);return z(t,a)?a:t}function oe(n,e,t){let r=xe(n,t);for(;!e(r);){if(Math.abs(Xe(n,r))>1)return n;r=xe(r,t)}return r}function Gt(n,e){return ie(n,e,1)}function jt(n,e){return ie(n,e,-1)}function Zt(n,e){return ie(n,e,3)}function $t(n,e){return ie(n,e,-3)}function zt(n,e){const t=_t(n);if(e(t))return t;const a=ie(t,e,1);return Ce(t,a)?a:t}function ie(n,e,t){let r=ee(n,t);for(;!e(r);){if(Math.abs(Xe(n,r))>10)return n;r=ee(r,t)}return r}function Ut({baseDate:n,focusableDate:e,granularity:t,isDateEnabled:a,isDateFocusable:r,onChangePage:s,onFocusDate:o,onSelectDate:i}){const c=t==="month",d=c?Zt:Kt,v=c?jt:Vt,D=c?Gt:Bt,u=c?$t:Yt,g=c?Ce:z;return y=>{let p;const m=[P.up,P.down,P.left,P.right,P.space,P.enter];e===null||m.indexOf(y.keyCode)===-1||(y.preventDefault(),it(y,{onActivate:()=>{a(e)&&(o(null),i(e))},onBlockEnd:()=>p=d(e,r),onBlockStart:()=>p=u(e,r),onInlineStart:()=>p=v(e,r),onInlineEnd:()=>p=D(e,r)}),p&&(g(p,n)||s(p),o(p)))}}var Be=function(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a},Jt=function(e,t){var a=new Date(e);return a.setDate(t),a};function Ve(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,a)}return t}function qt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ve(Object(t),!0).forEach(function(a){At(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ve(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}var fe=7,ke=function(e,t){for(var a=qt({firstDayOfWeek:1},t),r=a.firstDayOfWeek,s=new Date(e.getFullYear(),e.getMonth(),1),o=new Date(e.getFullYear(),e.getMonth()+1,0),i=s.getDay(),c=o.getDay(),d=o.getDate(),v=(i-r+fe)%fe,D=(fe-1-c+r)%fe,u=[],g=[],f=1-v;f<=d+D+1;f++)f<=0?g.push(Be(s,f-1)):f>d?g.push(Be(o,f-d)):g.push(Jt(e,f)),g.length===7&&(u.push(g),g=[]);return u};function Qt(n){const e=n.getFullYear();return new Array(4).fill(0).map((t,a)=>new Array(3).fill(0).map((r,s)=>new Date(e,a*3+s)))}function Xt(n,{startOfWeek:e,padDates:t}){switch(t){case"before":return[...en(n,e),...Ke(n,e)].slice(-6);case"after":return[...Ke(n,e),...tn(n,e)].slice(0,6)}}function Ke(n,e){return ke(n,{firstDayOfWeek:e})}function en(n,e){const t=ke(Ct(n,1),{firstDayOfWeek:e}),a=t[t.length-1][t[t.length-1].length-1];return z(n,a)?t.slice(0,-1):t}function tn(n,e){const t=ke(ee(n,1),{firstDayOfWeek:e}),a=t[0][0];return z(n,a)?t.slice(1):t}function nn({baseDate:n,granularity:e,locale:t,startOfWeek:a}){const r=e==="month";return M.useMemo(()=>{if(r)return Qt(n);{const o=St(a,t);return Xt(n,{startOfWeek:o,padDates:"after"})}},[n,r,a,t])}function an({ariaLabel:n,onChange:e}){return l.createElement(Le,{iconName:"angle-left",ariaLabel:n,variant:"icon",onClick:()=>e(-1),formAction:"none",className:_["calendar-prev-btn"]})}function rn({ariaLabel:n,onChange:e}){return l.createElement(Le,{iconName:"angle-right",ariaLabel:n,variant:"icon",onClick:()=>e(1),formAction:"none",className:_["calendar-next-btn"]})}const sn=({formattedDate:n,onChange:e,previousLabel:t,nextLabel:a,headingId:r})=>l.createElement("div",{className:_["calendar-header"]},l.createElement(an,{ariaLabel:t,onChange:e}),l.createElement("h2",{className:_["calendar-header-title"],id:r},n),l.createElement(rn,{ariaLabel:a,onChange:e}));function on({granularity:n,locale:e,i18nStrings:t,previousMonthAriaLabel:a,nextMonthAriaLabel:r,todayAriaLabel:s}){var o,i,c;const d=lt("calendar"),v=n==="month",D=v?d("i18nStrings.previousYearAriaLabel",t==null?void 0:t.previousYearAriaLabel):d("previousMonthAriaLabel",(o=t==null?void 0:t.previousMonthAriaLabel)!==null&&o!==void 0?o:a),u=v?d("i18nStrings.nextYearAriaLabel",t==null?void 0:t.nextYearAriaLabel):d("nextMonthAriaLabel",(i=t==null?void 0:t.nextMonthAriaLabel)!==null&&i!==void 0?i:r),g=v?d("i18nStrings.currentMonthAriaLabel",t==null?void 0:t.currentMonthAriaLabel):d("todayAriaLabel",(c=t==null?void 0:t.todayAriaLabel)!==null&&c!==void 0?c:s);return{previousButtonLabel:D,nextButtonLabel:u,renderDate:m=>v?m.toLocaleString(e,{month:"short"}):m.getDate().toString(),renderDateAnnouncement:(m,w)=>{const b=v?me(e,m):nt(e,m,"short");return w&&g?b+". "+g:b},renderHeaderText:m=>v?m.getFullYear().toString():me(e,m)}}function ln(n){var{value:e,locale:t="",startOfWeek:a,isDateEnabled:r=()=>!0,dateDisabledReason:s=()=>"",ariaLabel:o,ariaLabelledby:i,ariaDescribedby:c,onChange:d,__internalRootRef:v,i18nStrings:D,granularity:u="day",previousMonthAriaLabel:g,nextMonthAriaLabel:f,todayAriaLabel:y}=n,p=K(n,["value","locale","startOfWeek","isDateEnabled","dateDisabledReason","ariaLabel","ariaLabelledby","ariaDescribedby","onChange","__internalRootRef","i18nStrings","granularity","previousMonthAriaLabel","nextMonthAriaLabel","todayAriaLabel"]);Je("Calendar","value",e,"onChange",d);const m=Ae(p),w=et("Calendar",t),b=M.useRef(null),[L,R]=M.useState(null),S=Se(),N=Se(),T=e&&e.length>=4?Ne(e):null,A=T&&!isNaN(T.getDate())?S(T):null,W=A??new Date,[x,te]=M.useState(W),F=ye("calendar-heading"),O=u==="month",J=h=>r(h)||!r(h)&&!!s(h),H=O?zt(x,r):Wt(x,r),ne=O?z:vt,q=O?Ce:z,G=h=>O||z(h,H),{previousButtonLabel:B,nextButtonLabel:le,renderDate:he,renderDateAnnouncement:ue,renderHeaderText:j}=on({granularity:u,i18nStrings:D,locale:w,previousMonthAriaLabel:g,nextMonthAriaLabel:f,todayAriaLabel:y}),ae=nn({baseDate:H,granularity:u,startOfWeek:a,locale:w});M.useEffect(()=>{A&&te(h=>h.getTime()!==A.getTime()?A:h)},[A]);const re=L||((h,I)=>{if(h&&J(h)&&q(h,I))return h;const V=new Date;return J(V)&&q(V,I)?V:J(I)?I:null})(A,H),pe=h=>{const V=(O?bt:ee)(H,h);Q(V)},Q=h=>{te(h),R(null)},ce=h=>{h&&R(h?N(h):null)},de=h=>{Y(d,{value:ht(h,u)}),R(null)},be=h=>{var I;h.relatedTarget&&((I=b.current)===null||I===void 0?void 0:I.contains(h.relatedTarget))||R(null)},ve=Ut({baseDate:H,focusableDate:re,granularity:u,isDateEnabled:r,isDateFocusable:J,onChangePage:Q,onFocusDate:ce,onSelectDate:de}),se=j(H);return l.createElement("div",Object.assign({ref:v},m,{role:"group","aria-label":o,"aria-labelledby":i,"aria-describedby":c,className:U(_.root,_.calendar,m.className)}),l.createElement("div",{className:_["calendar-inner"]},l.createElement(sn,{formattedDate:se,onChange:pe,previousLabel:B,nextLabel:le,headingId:F}),l.createElement("div",{onBlur:be,ref:b},l.createElement(Ft,{isDateEnabled:r,dateDisabledReason:s,focusedDate:L,focusableDate:re,onSelectDate:de,onFocusDate:ce,onChangePage:Q,selectedDate:A,ariaLabelledby:F,header:O?null:l.createElement(Ht,{locale:w,rows:ae}),rows:ae,isCurrentPage:G,renderDate:he,renderDateAnnouncement:ue,isSameDate:ne,onGridKeyDownHandler:ve}))))}const un=(n,e,t,a)=>{if(t!==a)return a===n.length?{value:n.slice(0,t),position:t}:e.replaceDigitsWithZeroes(n,t,a);const s=e.isSegmentStart(t);return t===n.length?s?{value:n.slice(0,t-2),position:t-2}:{value:n.slice(0,t-1),position:t-1}:s?e.deleteSeparator(n,t):e.deleteDigit(n,t)},cn=(n,e,t,a,r)=>{let s=n;const o=a;if(a===s.length&&s.length===t.getMaxLength())return{value:s,position:o};if(a!==s.length&&r===s.length){const i=t.isCursorAtSeparator(a)?a+1:a;s=n.slice(0,i)}return t.isCursorAtSeparator(o)?{value:s,position:o+1}:t.processKey(s,e,o)},dn=(n,e)=>{if(!n)return{value:"",position:0};const t=e.autoComplete(n),a=t.length;return{value:t,position:a}},gn=n=>n>7&&n<47&&n!==P.space,fn=(n,e)=>n||e,mn=(n,e,t)=>gn(n)||fn(e,t),hn=n=>!isNaN(parseInt(n,10)),pn=(n,e,t)=>{if(!n)return;const a=t.autoComplete(n);a!==n&&e(a)},Ye=(n,e)=>e&&n.preventDefault(),bn=({value:n="",onBlur:e,onChange:t,onKeyDown:a,format:r,inputRef:s,autofix:o=!1,disableAutocompleteOnBlur:i=!1,setPosition:c})=>{r.isValid(n)||je("useMask",`Invalid string "${n}" provided`);const d=u=>{const g=o?r.correctMinMaxValues(u):u;g===n||!r.isValid(g)||t(g)},v=o?r.correctMinMaxValues(n):n,D=r.getValidValue(v);return{value:D,onKeyDown:u=>{var g,f;const y=((g=s.current)===null||g===void 0?void 0:g.selectionStart)||0,p=((f=s.current)===null||f===void 0?void 0:f.selectionEnd)||0;let m;const{keyCode:w,key:b,ctrlKey:L,metaKey:R}=u.detail;if(hn(b)||r.isSeparator(b)?(m=cn(D,b,r,y,p),Ye(u,m)):w===P.backspace?(m=un(D,r,y,p),Ye(u,m)):w===P.enter?m=dn(D,r):mn(w,L,R)||u.preventDefault(),m){const{value:S,position:N}=m;d(S),c(N)}a&&a(u)},onChange:({detail:u})=>d(u.value),onBlur:()=>{i||pn(D,t,r),e&&e()},onPaste:u=>{var g,f;const y=(u.clipboardData||window.clipboardData).getData("text"),p=((g=s.current)===null||g===void 0?void 0:g.selectionStart)||0,m=((f=s.current)===null||f===void 0?void 0:f.selectionEnd)||0,w=r.formatPastedText(y,D,p,m);d(w)}}},C=(n,e,t,a=t)=>n.slice(0,t)+e+n.slice(a);class vn{constructor({separator:e,inputSeparators:t=[],segments:a}){this.positionFormats=new Map,this.segments=[],this.separator=e,this.inputSeparators=[...t,e],this.enrichSegmentDefinitions(a)}tryAppendSeparator(e){const t=`${e}${this.separator}`;return this.isValid(t)?t:e}isSeparator(e){return this.inputSeparators.indexOf(e)!==-1}isValid(e){const t=e.split(this.separator);return t.length>this.segments.length?!1:t.every((a,r)=>{const s=this.segments[r];if(a==="")return r===t.length-1;if(!a.match(/^\d+$/)||a.length<s.length&&r!==t.length-1)return!1;const o=parseInt(a,10);return a.length>s.length?!1:o<s.min||o>s.max(e)?r===t.length-1&&a.length<s.length:!0})}getValidValue(e){let t=e;do{if(this.isValid(t))return this.tryAppendSeparator(t);t=t.substring(0,t.length-1)}while(t.length>0);return""}autoComplete(e){const[t,...a]=e.split(this.separator).reverse(),r=this.segments[a.length],s=this.padWithDefaultValue(t,r),o=[...a.reverse(),s];for(;o.length<this.segments.length;){const i=this.segments[o.length],c=this.padWithDefaultValue("",i);o.push(c)}return e=o.join(this.separator),e=this.correctMinMaxValues(e),e}getSegmentValueWithAddition(e,t,a){const r=this.positionFormats.get(e),s=t.substr(r.start,r.length),o=e-r.start,i=C(s,a,o,o+1);return parseInt(i,10)}replaceDigitsWithZeroes(e,t,a){const r=this.isCursorAtSeparator(t)?t+1:t;if(this.isCursorAtSeparator(t)&&t++,!this.isSegmentStart(t)){const o=this.positionFormats.get(t);e=C(e,ge("",o.end-t),t,o.end),t=o.end+1}let s;for(;t<a&&(s=this.positionFormats.get(t+1));){const o=Math.min(a,s.end);e=C(e,ge("",o-s.start),s.start,o),t=o+1}return e=this.correctMinMaxValues(e),{value:e,position:r}}handleSeparatorInput(e,t){if(t===e.length&&!this.isSegmentStart(t)){const a=this.positionFormats.get(t);let r=e.substr(a.start,a.length);return r=this.padWithDefaultValue(r,a),e=C(e,r,a.start,a.end),e=this.correctMinMaxValues(e),{value:e,position:e.length}}}isCursorAtSeparator(e){return 0<e&&e<this.getMaxLength()&&this.positionFormats.get(e)===void 0}isSegmentStart(e){return e===0||this.isCursorAtSeparator(e-1)}getSegmentMaxValue(e,t){return this.positionFormats.get(t).max(e)}getSegmentMinValue(e,t){return this.positionFormats.get(t).min}getMaxLength(){const e=this.segments[this.segments.length-1];return e.start+e.length}deleteSeparator(e,t){return e=C(e,"0",t-2,t-1),{value:this.correctMinMaxValues(e),position:t-2}}deleteDigit(e,t){e=C(e,"0",t-1,t);const a=e.length;return e.slice(a-2)==="0:"&&(e=e.slice(0,a-2)),{value:this.correctMinMaxValues(e),position:t-1}}correctMinMaxValues(e){let t=this.positionFormats.get(0);for(;t&&e.length>=t.end;){const a=parseInt(e.substr(t.start,t.length),10),r=t.max(e);if(a<t.min){let s=t.min.toFixed();s=ge(s,t.length),e=C(e,s,t.start,t.end)}a>r&&(e=C(e,r.toFixed(),t.start,t.end)),t=this.positionFormats.get(t.end+1)}return e.substr(0,this.segments[this.segments.length-1].end)}formatPastedText(e,t,a,r){const s=e.trim().split("");let o=a,i=t;r>a&&r===t.length&&(i=t.slice(0,a));for(const c of s){if(o>=this.getMaxLength())break;const d=this.processKey(i,c,o);i=d.value,o=d.position}return this.tryAppendSeparator(i)}processKey(e,t,a){let r=e,s=a;if(this.isSeparator(t)){const o=this.handleSeparatorInput(r,s);o&&(r=o.value,s=o.position)}else{const o=s===r.length,i=this.getSegmentValueWithAddition(s,r,t),c=this.getSegmentMaxValue(r,s),d=this.getSegmentMinValue(r,s),v=parseInt(t,10)>parseInt(c.toFixed()[0],10),D=o||i.toFixed().length===1;this.isSegmentStart(s)&&D&&v?(r=C(r,`0${t}`,s,s+2),s+=2):i>c&&this.isSegmentStart(s)?(r=C(r,c.toFixed(),s,s+c.toFixed().length),s+=c.toFixed().length):i>c?(r=C(r,c.toFixed(),s-1,s+1),s+=1):i<d&&!this.isSegmentStart(s)?(r=C(r,d.toFixed(),s,s+1),s+=1):(r=C(r,t,s,s+1),s+=1)}return r=this.tryAppendSeparator(r),this.isCursorAtSeparator(s)&&s++,{value:r,position:s}}padWithDefaultValue(e,t){let a=(t.default||t.min).toFixed();return a=ge(a,t.length),C(a,e,t.length-e.length,t.length)}enrichSegmentDefinitions(e){this.positionFormats=new Map,this.segments=[];let t=0;for(const a of e){const r=a.max,s=Object.assign(Object.assign({},a),{max:typeof r=="number"?()=>r:r,start:t,end:t+a.length});this.segments.push(s);for(let o=0;o<s.length;o++)this.positionFormats.set(t++,s);t++}}}const at=l.forwardRef((n,e)=>{var{value:t,onBlur:a,onChange:r,onKeyDown:s,mask:o,autofix:i=!1,disableAutocompleteOnBlur:c=!1}=n,d=K(n,["value","onBlur","onChange","onKeyDown","mask","autofix","disableAutocompleteOnBlur"]);const v=Ae(d),D=$e(d),u=l.useRef(null),[g,f]=M.useState(null);M.useLayoutEffect(()=>{var L;g!==null&&((L=u.current)===null||L===void 0||L.setSelectionRange(g,g))},[g,u]);const y=bn({format:new vn(o),value:t,inputRef:u,autofix:i,disableAutocompleteOnBlur:c,onChange:L=>!d.readOnly&&Y(r,{value:L}),onKeyDown:L=>!d.readOnly&&s&&ct(s,L.detail,L),onBlur:()=>Y(a),setPosition:f}),{onPaste:p}=y,m=K(y,["onPaste"]),w=Object.assign(Object.assign(Object.assign(Object.assign({},d),v),D),m),b=Me(e,u);return l.createElement(ut,Object.assign({},w,{ref:b,__nativeAttributes:{onPaste:p}}))}),Dn={root:"awsui_root_yodkx_im8v7_5"};function yn(n){const e=Qe(n).substring(0,7);return Mt(Ne(e))}const We={min:0,max:9999,default:2e3,length:4},Ge={min:1,max:12,length:2},_n={min:1,max:yn,length:2},Mn=l.forwardRef((n,e)=>{var{value:t,onChange:a,granularity:r,__internalRootRef:s=null}=n,o=K(n,["value","onChange","granularity","__internalRootRef"]);const i={separator:"/",inputSeparators:["-","."," "],segments:r==="month"?[We,Ge]:[We,Ge,_n]};return l.createElement(at,Object.assign({ref:e},o,{value:pt(t||""),onChange:c=>Y(a,{value:Qe(c.detail.value)}),className:U(Dn.root,o.className),mask:i,autofix:!0,autoComplete:!1,disableAutocompleteOnBlur:!1,disableBrowserAutocorrect:!0,__internalRootRef:s}))});class wn{constructor(e,{onFocusEnter:t,onFocusLeave:a}){this.node=e,this.currentlyFocused=!1,this.focusInListener=r=>{const s=De(this.node,r.target);!this.currentlyFocused&&s&&this.triggerFocus()},this.focusOutListener=r=>{const s=r.relatedTarget,o=!De(this.node,s);this.currentlyFocused&&(s===null||o)&&this.triggerBlur()},this.onFocusEnter=t,this.onFocusLeave=a,this.controller=new AbortController}initialize(){this.currentlyFocused=De(this.node,document.activeElement),document.addEventListener("focusin",this.focusInListener,{signal:this.controller.signal}),document.addEventListener("focusout",this.focusOutListener,{signal:this.controller.signal})}destroy(){this.controller.abort()}triggerBlur(){this.currentlyFocused=!1,this.onFocusLeave()}triggerFocus(){this.currentlyFocused=!0,this.onFocusEnter()}}const Ln=({rootRef:n,onBlur:e,onFocus:t})=>{const a=M.useRef(null);M.useEffect(()=>{if(n.current)return a.current=new wn(n.current,{onFocusLeave:()=>{Y(e)},onFocusEnter:()=>{Y(t)}}),a.current.initialize(),()=>{var r;(r=a.current)===null||r===void 0||r.destroy()}},[n,e,t])};function An({date:n,granularity:e}){const t=e==="month"?/^\d{4}-\d{2}(-\d{2})?$/:/^\d{4}-\d{2}-\d{2}$/;return!!n.match(t)}function Cn({date:n,granularity:e,locale:t}){return e==="month"?me(t,n):nt(t,n)}function Nn({date:n,granularity:e,locale:t}){return e==="month"?Tt(t,n):me(t,n)}const $={root:"awsui_root_145pa_1elep_145","focus-lock":"awsui_focus-lock_145pa_1elep_177",calendar:"awsui_calendar_145pa_1elep_181","date-picker-container":"awsui_date-picker-container_145pa_1elep_197","date-picker-trigger":"awsui_date-picker-trigger_145pa_1elep_202","date-picker-input":"awsui_date-picker-input_145pa_1elep_206","open-calendar-button":"awsui_open-calendar-button_145pa_1elep_211"},kn=l.forwardRef((n,e)=>{var t,a,r,{locale:s="",startOfWeek:o,isDateEnabled:i,dateDisabledReason:c,nextMonthAriaLabel:d,previousMonthAriaLabel:v,todayAriaLabel:D,i18nStrings:u,placeholder:g="",value:f="",readOnly:y=!1,disabled:p=!1,onBlur:m,autoFocus:w=!1,onChange:b,onFocus:L,name:R,ariaLabel:S,ariaRequired:N,controlId:T,invalid:A,warning:W,openCalendarAriaLabel:x,expandToViewport:te,granularity:F="day"}=n,O=K(n,["locale","startOfWeek","isDateEnabled","dateDisabledReason","nextMonthAriaLabel","previousMonthAriaLabel","todayAriaLabel","i18nStrings","placeholder","value","readOnly","disabled","onBlur","autoFocus","onChange","onFocus","name","ariaLabel","ariaRequired","controlId","invalid","warning","openCalendarAriaLabel","expandToViewport","granularity"]);const{__internalRootRef:J}=ze("DatePicker",{props:{autoFocus:w,expandToViewport:te,granularity:F,readOnly:y},metadata:{hasDisabledReasons:!!c}});Je("DatePicker","value",f,"onChange",b);const H=dt(),ne=et("DatePicker",s||H),q=Ae(O),[G,B]=M.useState(!1),{ariaLabelledby:le,ariaDescribedby:he}=$e(O),ue=M.useRef(null),j=M.useRef(null);Ue(e,ue);const ae=M.useRef(null),Ie=ye("calender"),re=ye("calendar-description-"),pe=Me(ae,J);Ln({rootRef:ae,onBlur:m,onFocus:L});const Q=M.useCallback(()=>B(!1),[B]),ce=()=>{G||B(!0)},de=X=>{var Z;X.keyCode===P.escape&&G&&(X.stopPropagation(),(Z=j.current)===null||Z===void 0||Z.focus(),B(!1))},be=X=>{Y(b,{value:X.detail.value})},ve=()=>{G||B(!1)},se=f&&f.length>=4?Ne(f):null,h=se||new Date,I=An({date:f,granularity:F}),V=x&&x(I&&se?Cn({date:se,granularity:F,locale:ne}):null),Ee=l.createElement("div",{className:$["date-picker-trigger"]},l.createElement("div",{className:$["date-picker-input"]},l.createElement(Mn,{name:R,invalid:A,warning:W,controlId:T,ariaLabelledby:le,ariaDescribedby:he,ariaLabel:S,ariaRequired:N,value:f,disabled:p,readOnly:y,onChange:be,onBlur:ve,placeholder:g,ref:ue,autoFocus:w,onFocus:Q,granularity:F})),l.createElement("div",null,l.createElement(Le,{iconName:"calendar",className:$["open-calendar-button"],onClick:ce,ref:j,ariaLabel:V,disabled:p||y,formAction:"none"})));return q.className=U(q.className,$.root,$["date-picker-container"]),l.createElement("div",Object.assign({},q,{ref:pe,onKeyDown:!p&&!y?de:void 0}),p||y?Ee:l.createElement(gt,{stretchWidth:!0,stretchHeight:!0,open:G,onDropdownClose:Q,trigger:Ee,expandToViewport:te,scrollable:!1,dropdownId:Ie},G&&l.createElement(ft,{className:$["focus-lock"],autoFocus:!0},l.createElement("div",{tabIndex:0,className:$.calendar,role:"dialog"},l.createElement(ln,{value:f,onChange:X=>{var Z;Y(b,X.detail),(Z=j==null?void 0:j.current)===null||Z===void 0||Z.focus(),B(!1)},locale:ne,startOfWeek:o,ariaDescribedby:re,ariaLabel:S,ariaLabelledby:le,granularity:F,isDateEnabled:i,dateDisabledReason:c,i18nStrings:Object.assign(Object.assign({},u),{todayAriaLabel:(t=u==null?void 0:u.todayAriaLabel)!==null&&t!==void 0?t:D,nextMonthAriaLabel:(a=u==null?void 0:u.nextMonthAriaLabel)!==null&&a!==void 0?a:d,previousMonthAriaLabel:(r=u==null?void 0:u.previousMonthAriaLabel)!==null&&r!==void 0?r:v})}),l.createElement(mt,{id:re,hidden:!0,tagName:"span"},Nn({date:h,granularity:F,locale:ne}))))))});we(kn,"DatePicker");const In={root:"awsui_root_l809c_im8v7_5"},En=(n,e)=>({separator:":",segments:[e?{min:0,max:23,length:2}:{min:1,max:12,length:2},{min:0,max:59,length:2},{min:0,max:59,length:2}].slice(0,n.split(":").length)}),Rn=l.forwardRef((n,e)=>{var{format:t="hh:mm:ss",use24Hour:a=!0,autoComplete:r=!0,__internalRootRef:s=null}=n,o=K(n,["format","use24Hour","autoComplete","__internalRootRef"]);const i=M.useRef(null);Ue(e,i);const c=En(t,a);return l.createElement(at,Object.assign({},o,{__internalRootRef:s,ref:i,className:U(In.root,o.className),autoComplete:r,disableBrowserAutocorrect:!0,mask:c}))}),xn=l.forwardRef((n,e)=>{var{format:t="hh:mm:ss",use24Hour:a=!0,autoComplete:r=!0}=n,s=K(n,["format","use24Hour","autoComplete"]);const o=ze("TimeInput",{props:{autoFocus:s.autoFocus,disableBrowserAutocorrect:s.disableBrowserAutocorrect,format:t,readOnly:s.readOnly,use24Hour:a}});return l.createElement(Rn,Object.assign({format:t,use24Hour:a,autoComplete:r},s,o,{ref:e}))});we(xn,"TimeInput");export{ln as C,kn as D,Mn as I,xn as T};

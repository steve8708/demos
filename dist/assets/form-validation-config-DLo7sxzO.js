import{aw as C}from"./index-DWytQeHI.js";import{b as S,c as y}from"./_cacheHas-Dp1L5Cvi.js";import{_ as q,a as R}from"./_arrayIncludesWith-DkxKNHnR.js";import{_ as p,a as w}from"./_setToArray-NcK0eo95.js";function E(){}var b=E,u=w,_=b,A=p,F=1/0,I=u&&1/A(new u([,-0]))[1]==F?function(e){return new u(e)}:_,N=I,$=S,j=q,z=R,U=y,L=N,P=p,k=200;function B(e,t,r){var d=-1,l=j,h=e.length,n=!0,a=[],o=a;if(r)n=!1,l=z;else if(h>=k){var v=t?null:L(e);if(v)return P(v);n=!1,l=U,o=new $}else o=t?[]:a;e:for(;++d<h;){var s=e[d],c=t?t(s):s;if(s=r||s!==0?s:0,n&&c===c){for(var f=o.length;f--;)if(o[f]===c)continue e;t&&o.push(c),a.push(s)}else l(o,c,r)||(o!==a&&o.push(c),a.push(s))}return a}var Z=B,D=Z;function V(e){return e&&e.length?D(e):[]}var W=V;const H=C(W),i=e=>!!(e&&e.length>0),Y=e=>e.startsWith("https://")||e.startsWith("http://"),G=e=>{const t=new RegExp(/^([a-zA-Z0-9]{1,63}\.)+[a-zA-Z]{2,}$/);let r=e;return r=r.replace("http://",""),r=r.replace("https://",""),t.test(r)},K=e=>{if(!e)return!0;const t=e.split(",");return(t==null?void 0:t.length)<4},M=e=>e.size<=500,J=e=>!e.includes("NO-ACCESS"),x=new RegExp(/[^A-Za-z0-9:/.]/gm),T=new RegExp(/[^A-Za-z0-9-.]/gm),g=(e,t)=>!t.test(e),m=(e,t)=>{const r=e.match(t);return H(r)},Q=e=>!e||e.length===0,X=e=>!(e!=null&&e.includes(" ")),O={cloudFrontRootObject:[{validate:i,errorText:"Root object is required."},{validate:Y,errorText:'Root object must start with "https://" or "http://".'},{validate:e=>g(e,x),errorText:e=>`The root object has characters that aren’t valid: ${m(e,x).join(", ")}`},{validate:G,errorText:"Enter a valid root object URL. Example: https://example.com"}],alternativeDomainNames:[{validate:K,errorText:"Too many CNAMEs."}],certificateExpiryDate:[{validate:i,errorText:"Certificate expiry date is required."}],certificateExpiryTime:[{validate:i,errorText:"Certificate expiry time is required."}],s3BucketSelectedOption:[{validate:e=>i(e==null?void 0:e.value),errorText:"S3 bucket is required."},{validate:e=>J((e==null?void 0:e.label)||""),errorText:"CloudFront isn't allowed to write logs to this bucket. You must enable access control lists (ACL) for the bucket."}],functions:[{validate:i,errorText:"File is required."}],functionFile:[{validate:M,errorText:"File size must be smaller than 0.5 KB."}],originId:[{validate:i,errorText:"Origin ID is required."},{validate:e=>g(e,T),errorText:e=>`The name has characters that aren’t valid: ${m(e,T).join(", ")}`}],customHeaders:[{validate:i,errorText:e=>`Custom header ${e} is required.`},{validate:X,warningText:e=>`The ${e} has empty (space) characters.`}],codeEditor:[{validate:Q,errorText:"Policy is invalid."}],httpVersion:[],ipv6isOn:[],functionFiles:[],tags:[],isOriginRequestPolicyNew:[],originRequestPolicyName:[{validate:i,errorText:"Name is required."}],cachePolicyName:[{validate:i,errorText:"Name is required."}],cachePolicy:[{validate:e=>i(e==null?void 0:e.value),errorText:"Cache policy is required."}]};function ie(e,t,r){const d=O[e];for(const l of d){const{validate:h,errorText:n,warningText:a}=l;if(!h(t))return{errorText:typeof n=="function"?n(String(r)):n,warningText:typeof a=="function"?a(String(r)):a}}return{errorText:void 0}}export{ie as default};

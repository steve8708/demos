import{_ as v,v as N,u as E,a0 as g,R as a,a1 as T,a2 as _,a3 as A,x as R,a4 as h,o as w,r as B,A as P,D,E as M,d as j,c as O}from"./index-D7GDf1UU.js";import{a as m,I as $}from"./internal-THOVUYuj.js";const k=n=>{var{variant:l="full-page",actions:s,errorText:e,__internalRootRef:r}=n,f=v(n,["variant","actions","errorText","__internalRootRef"]);const{funnelIdentifier:i,funnelInteractionId:u,funnelProps:S,funnelSubmit:y,funnelNextOrSubmitAttempt:b,errorCount:c,submissionAttempt:I,funnelErrorContext:x}=R(),t=h(),C=({variant:o})=>{o==="primary"&&(b(),y())},p=w("form-error-");return B.useEffect(()=>{var o,d;if(u&&e){c.current++;const F=P(t.current.stepNameSelector);return D.funnelStepError({funnelInteractionId:u,stepNumber:t.current.stepNumber,stepNameSelector:t.current.stepNameSelector,stepName:F,stepIdentifier:t.current.stepIdentifier,currentDocument:(o=r.current)===null||o===void 0?void 0:o.ownerDocument,totalSubSteps:t.current.subStepCount.current,funnelIdentifier:i,subStepAllSelector:M(),stepErrorContext:t.current.stepErrorContext,subStepConfiguration:(d=t.current.subStepConfiguration.current)===null||d===void 0?void 0:d.get(t.current.stepNumber),stepErrorSelector:"#"+p}),()=>{c.current--}}},[u,i,e,I,c,x,p,r,t]),a.createElement(j.Provider,{value:{onClick:C}},a.createElement($,Object.assign({variant:l,actions:s,errorText:e,__errorSlotId:p},f,S,t.current.funnelStepProps,{__internalRootRef:r,__injectAnalyticsComponentMetadata:!0})))};function q(n){var{variant:l="full-page"}=n,s=v(n,["variant"]);const e=N(s),r=E("Form",{props:{variant:l,flowType:e==null?void 0:e.flowType},metadata:{hasResourceType:!!(e!=null&&e.resourceType),hasInstanceIdentifier:!!(e!=null&&e.instanceIdentifier)}},e),i=g()||`.${m.header} .${_["heading-text"]}`;return a.createElement(T,{funnelIdentifier:e==null?void 0:e.instanceIdentifier,funnelFlowType:e==null?void 0:e.flowType,funnelErrorContext:e==null?void 0:e.errorContext,funnelResourceType:e==null?void 0:e.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>[i,`.${m.header}`]},a.createElement(A,{stepIdentifier:e==null?void 0:e.instanceIdentifier,stepErrorContext:e==null?void 0:e.errorContext,stepNumber:1},a.createElement(k,Object.assign({variant:l},s,r))))}O(q,"Form");export{q as F};

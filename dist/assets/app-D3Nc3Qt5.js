import{r,j as t,S as h,a as S}from"./index-BE4yRgP3.js";import{S as j}from"./index-Di11rdQI.js";import{A as y}from"./index-DlPBJjQ2.js";import{S as L}from"./index-BeT53KCk.js";import{Breadcrumbs as V}from"./breadcrumbs-DCd0KdBT.js";import"./help-panel-CmLZfnwk.js";import{Notifications as W}from"./notifications-C0mOdQEg.js";import{CustomAppLayout as A}from"./common-components-BZ9mOytS.js";import{WeatherDashboardHeader as C}from"./header-DIj_2Jwf.js";import{WeatherDashboardContent as O}from"./content-9qON9JxY.js";import{WeatherService as T}from"./weather-service-BlQHCClz.js";import{DEFAULT_LOCATIONS as p}from"./types-D-Wn5bzp.js";/* empty css                        */import"./internal-BwkHy2e0.js";import"./index-CWZQ9OB-.js";import"./index-Le2aB-FB.js";import"./use-select-BUQYPFrV.js";import"./index-DFd9ICZj.js";import"./is-development-CxJkH8d1.js";import"./internal-Cx6jem5e.js";import"./index-oSmH0jDR.js";import"./disclaimer-flashbar-item-DnmFzdcC.js";import"./all.en-B8oujjg7.js";import"./apply-mode-BcR-LfXG.js";import"./local-storage-JknLDoWi.js";import"./external-link-BoMsN8AD.js";import"./external-link-group-NAonENHc.js";import"./index-DmWNv3ti.js";import"./full-page-header-B246aIki.js";import"./info-link-BYratZ4H.js";import"./navigation-B_ptShBe.js";import"./index-DKAL2oF0.js";import"./internal-CXCLALy2.js";import"./current-weather-NDKMXKvQ.js";import"./index-8wIlR2Xv.js";import"./daily-forecast-jqbyg74J.js";import"./hourly-forecast--YgU5Ds5.js";import"./index-BRBvNWU4.js";import"./collection-preferences-metadata-context-CHYbH7hF.js";import"./internal-F9OK7PvO.js";import"./internal-BV8Tvtkr.js";import"./weather-stats-BGQnzeMs.js";import"./index--YlTPQwx.js";import"./internal-DSrgjZgo.js";import"./temperature-trend-CDCOEYeM.js";import"./index-CjMt4hiR.js";import"./internal-DAQawv_t.js";import"./index-lJMXPkzM.js";import"./internal-DWOdD0Qw.js";import"./dismiss-button-Pv9gVCkh.js";import"./index-5qndC0qu.js";import"./index-ByYgjtW3.js";function Oe(){const[o,u]=r.useState(p[0]),[f,b]=r.useState(null),[s,m]=r.useState(!1),[i,n]=r.useState(null),[l,N]=r.useState(null),x=r.useRef(null),d=p.map(e=>({label:`${e.name}, ${e.country}`,value:e.name,description:`${e.latitude.toFixed(2)}, ${e.longitude.toFixed(2)}`})),c=async e=>{m(!0),n(null);try{const a=await T.getCompleteWeatherData(e);b(a),N(new Date)}catch(a){n(a instanceof Error?a.message:"Failed to fetch weather data"),console.error("Weather fetch error:",a)}finally{m(!1)}};r.useEffect(()=>{c(o)},[o]);const g=e=>{const a=p.find(w=>w.name===e.selectedOption.value);a&&u(a)},v=()=>{c(o)},D=t.jsxDEV(h,{direction:"horizontal",size:"s",children:[t.jsxDEV(j,{selectedOption:d.find(e=>e.value===o.name)||null,onChange:({detail:e})=>g(e),options:d,placeholder:"Select location",loadingText:"Loading locations",statusType:s?"loading":"finished"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:68,columnNumber:7},this),t.jsxDEV(S,{variant:"normal",iconName:"refresh",onClick:v,loading:s,children:"Refresh"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:67,columnNumber:5},this),E=l&&t.jsxDEV("div",{style:{fontSize:"0.875rem",color:"var(--color-text-body-secondary)"},children:t.jsxDEV(L,{type:i?"error":"success",children:i?"Error loading data":`Last updated: ${l.toLocaleTimeString()}`},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:84,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:83,columnNumber:5},this);return t.jsxDEV(A,{ref:x,content:t.jsxDEV(h,{size:"m",children:[t.jsxDEV(C,{actions:D,location:o,statusInfo:E},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:95,columnNumber:11},this),i&&t.jsxDEV(y,{type:"error",header:"Weather data unavailable",children:[i,". Please try refreshing the data or selecting a different location."]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:97,columnNumber:13},this),t.jsxDEV(O,{weatherData:f,location:o,loading:s},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:94,columnNumber:9},this),breadcrumbs:t.jsxDEV(V,{items:[{text:"Weather Dashboard",href:"#/weather-dashboard"}]},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:104,columnNumber:20},this),navigationHide:!0,toolsHide:!0,notifications:t.jsxDEV(W,{},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:107,columnNumber:22},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/app.tsx",lineNumber:91,columnNumber:5},this)}export{Oe as App};

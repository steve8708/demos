import{r as p,aP as D,j as n,S as I,af as w,a as E}from"./index-D7GDf1UU.js";import{j as s}from"./jsx-runtime-Dzj5K_-e.js";import{u as c,g as P,I as S,a as R,b as y}from"./index-BKnnI0Rl.js";import{C as A}from"./index-wVODuUbl.js";import{L}from"./index-nqNY_4zD.js";import"./table-BjmAWgEe.js";import{g as V}from"./text-filter-B4Foq7I4.js";import{EmptyState as x}from"./index-DCHwZ_Cm.js";import{paletteI18nStrings as F}from"./i18n-strings-CDFWuGV0.js";import{PaletteItem as q}from"./index-BuxlUBuB.js";import{u as T}from"./use-collection-DdVnAlK2.js";import"./utilities.esm-Cs3RIz4P.js";import"./internal-CcQJaSSR.js";import"./icons-DDNWDvMP.js";const _={root:"awsui_root_rg5qe_im8v7_5"};function z({items:a,renderItem:o,i18nStrings:l,__internalRootRef:f,...g}){const m=p.useRef(null),i=p.useRef({}),[t,d]=p.useState(),[C,u]=p.useState(""),j=()=>D(m.current);return c("start",({draggableItem:{id:e}})=>{d({id:e}),a.some(r=>r.id===e)?u(l.liveAnnouncementDndStarted):u("")}),c("update",({draggableItem:{id:e}})=>{d({id:e})}),c("submit",()=>{d(void 0),t&&a.some(e=>e.id===t.id)&&u(l.liveAnnouncementDndDiscarded)}),c("discard",()=>{d(void 0),a.some(e=>e.id===(t==null?void 0:t.id))&&u(l.liveAnnouncementDndDiscarded)}),c("acquire",({draggableItem:e})=>{a.some(r=>r.id===e.id)&&d(void 0)}),s.jsxs("div",{ref:f,...P(g),children:[s.jsx("div",{ref:m,className:_.root,children:s.jsx(A,{columns:3,children:a.map(e=>s.jsx(S,{ref:r=>{r?i.current[e.id]=r:delete i.current[e.id]},item:e,placed:!1,acquired:!1,transform:void 0,inTransition:!1,getItemSize:r=>{if(!r)throw new Error("Invariant violation: cannot query palette item size with no drop context.");const{width:b,height:h}=r.scale(e);return{width:b,minWidth:b,maxWidth:b,height:h,minHeight:h,maxHeight:h}},isRtl:j,children:r=>o(e,{showPreview:r})},e.id))})}),s.jsx(L,{children:C})]})}function v(a){const o=R("ItemsPalette");return s.jsx(z,{...a,...o})}y(v,"ItemsPalette");function N(a,o){return a.toLowerCase().includes(o.toLowerCase())}function $({items:a}){const{items:o,filterProps:l,collectionProps:f,filteredItemsCount:g,actions:m}=T(a,{filtering:{filteringFunction:(i,t)=>N(i.data.title,t)||N(i.data.description,t),empty:n.jsxDEV(x,{title:"No more widgets",description:"All widgets were added to the dashboard already.",verticalCenter:!0},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:31,columnNumber:9},this),noMatch:n.jsxDEV(x,{title:"No matches",description:"We can't find a match.",verticalCenter:!0,action:n.jsxDEV(E,{onClick:()=>m.setFiltering(""),children:"Clear filter"},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:42,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:38,columnNumber:9},this)},sorting:{defaultState:{sortingColumn:{sortingComparator:(i,t)=>i.data.title>t.data.title?1:-1}}}});return n.jsxDEV(I,{size:"l",children:[n.jsxDEV(w,{...l,filteringAriaLabel:"Filter widgets",filteringPlaceholder:"Find widgets",filteringClearAriaLabel:"Clear",countText:V(g)},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:55,columnNumber:7},this),o.length>0?n.jsxDEV(v,{items:o,i18nStrings:F,renderItem:(i,{showPreview:t})=>n.jsxDEV(q,{title:i.data.title,description:i.data.description,iconName:i.data.icon,showPreview:t},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:67,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:63,columnNumber:9},this):f.empty]},void 0,!0,{fileName:"/app/code/src/pages/configurable-dashboard/components/palette.tsx",lineNumber:54,columnNumber:5},this)}export{$ as default};

import{aS as re,_ as N,R as t,Z as ie,o as de,r as a,aT as le,M as ce,Y as ue,n as _e,t as I,aU as me,au as fe,z as O,aV as pe,aW as be,p as u,aX as ve,aY as ge,ay as ye,O as we,d as Re,x as he,y as Pe,aZ as Se,P as Ce}from"./index-BE4yRgP3.js";import{R as ke}from"./reset-contexts-for-modal-DLATEn5u.js";const e={dialog:"awsui_dialog_1d2i7_12vao_169","modal-slide-up":"awsui_modal-slide-up_1d2i7_12vao_1","awsui-motion-fade-in-0":"awsui_awsui-motion-fade-in-0_1d2i7_12vao_1",refresh:"awsui_refresh_1d2i7_12vao_192","awsui-motion-scale-popup":"awsui_awsui-motion-scale-popup_1d2i7_12vao_1",root:"awsui_root_1d2i7_12vao_225","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_1d2i7_12vao_1",hidden:"awsui_hidden_1d2i7_12vao_302","focus-lock":"awsui_focus-lock_1d2i7_12vao_306",small:"awsui_small_1d2i7_12vao_326",medium:"awsui_medium_1d2i7_12vao_329",large:"awsui_large_1d2i7_12vao_332",max:"awsui_max_1d2i7_12vao_335","breakpoint-xs":"awsui_breakpoint-xs_1d2i7_12vao_335",container:"awsui_container_1d2i7_12vao_341",content:"awsui_content_1d2i7_12vao_382","no-paddings":"awsui_no-paddings_1d2i7_12vao_387",header:"awsui_header_1d2i7_12vao_392","header--text":"awsui_header--text_1d2i7_12vao_404",footer:"awsui_footer_1d2i7_12vao_408","footer--stuck":"awsui_footer--stuck_1d2i7_12vao_417","dismiss-control":"awsui_dismiss-control_1d2i7_12vao_429","modal-open":"awsui_modal-open_1d2i7_12vao_433"};let f;function Ee(){Me(),document.body.classList.add(e["modal-open"])}function B(){document.body.classList.remove(e["modal-open"]),Ie()}function Me(){if(Be()){f=document.body.style.paddingRight;const s=xe(),r=re().width,i=s+r;document.body.style.paddingRight=i+"px"}}function xe(){return parseInt(window.getComputedStyle(document.body).paddingRight,10)}function Ie(){f?document.body.style.setProperty("padding-right",f):document.body.style.removeProperty("padding-right"),f=void 0}function Be(){return document.body.clientWidth<window.innerWidth}const A={header:"awsui_header_15dxs_1ns0c_5"};function Le(s){const{funnelProps:r,funnelSubmit:i,funnelNextOrSubmitAttempt:n}=he(),{funnelStepProps:l}=Pe(),{subStepRef:p,funnelSubStepProps:_}=O(),b=({variant:v})=>{v==="primary"&&(n(),i())};return t.createElement(Ae,Object.assign({__funnelProps:r,__funnelStepProps:l,__subStepRef:p,__subStepFunnelProps:_,onButtonClick:b},s))}function Ae(s){var{modalRoot:r,getModalRoot:i,removeModalRoot:n}=s,l=N(s,["modalRoot","getModalRoot","removeModalRoot"]);return t.createElement(ie,{container:r,getContainer:i,removeContainer:n},t.createElement(Ne,Object.assign({},l)))}function Ne(s){var r,{size:i,visible:n,header:l,children:p,footer:_,disableContentPaddings:b,onButtonClick:v=()=>{},onDismiss:F,__internalRootRef:D=null,__injectAnalyticsComponentMetadata:L,__funnelProps:T,__funnelStepProps:j,__subStepRef:H,__subStepFunnelProps:W,referrerId:z}=s,g=N(s,["size","visible","header","children","footer","disableContentPaddings","onButtonClick","onDismiss","__internalRootRef","__injectAnalyticsComponentMetadata","__funnelProps","__funnelStepProps","__subStepRef","__subStepFunnelProps","referrerId"]);const h=de(),P=`${g.id||h}-header`,S=a.useRef(null),[U,$]=le(["xs"]),K=ce("modal")("closeAriaLabel",g.closeAriaLabel),m=a.useRef(null),Y=ue($,m,D),C=_e(g),q={name:"awsui.Modal",label:`.${A.header} h2`},Z=L?I({component:q}):{},c=a.useRef(0),Q=a.useRef(0),k=a.useRef(0),y=a.useRef(!1);a.useEffect(()=>()=>{B()},[]);const V=()=>{c.current=performance.now(),Q.current=0,y.current=!1},E=o=>{var d;if(k.current===0&&c.current&&c.current!==0&&!y.current){const R=o-c.current;Se.modalPerformanceData({timeToContentReadyInModal:R,instanceIdentifier:h,componentIdentifier:((d=x.current)===null||d===void 0?void 0:d.textContent)||""}),y.current=!0}},X=100;a.useEffect(()=>{n?(Ee(),V(),setTimeout(()=>{E(c.current)},X)):B()},[n]),a.useEffect(()=>{n&&m.current&&(m.current.scrollTop=0)},[n]);const w=o=>we(F,{reason:o}),G=o=>{S.current=o.target},J=o=>{const d=m.current,R=S.current;o.target===d&&R===d&&w("overlay")},ee=()=>w("closeButton"),te=o=>{o.keyCode===Ce.escape&&w("keyboard")},{ref:oe,isIntersecting:ne}=me(),[M,ae]=fe(o=>o.borderBoxHeight),x=a.useRef(null),{subStepRef:se}=O();return t.createElement(pe.Provider,{value:`.${e["header--text"]}`},t.createElement(ke,null,t.createElement(be.Provider,{value:{isInModal:!0,componentLoadingCount:k,emitTimeToContentReadyInModal:E}},t.createElement("div",Object.assign({},C,T,j,{className:u(e.root,{[e.hidden]:!n},C.className,e.refresh),role:"dialog","aria-labelledby":P,onMouseDown:G,onClick:J,ref:Y,style:M?{scrollPaddingBottom:M}:void 0,"data-awsui-referrer-id":((r=se.current)===null||r===void 0?void 0:r.id)||z}),t.createElement(ve,{disabled:!n,autoFocus:!0,restoreFocus:!0,className:e["focus-lock"]},t.createElement("div",Object.assign({className:u(e.dialog,e[i],e[`breakpoint-${U}`],e.refresh),onKeyDown:te},Z),t.createElement("div",{className:e.container},t.createElement("div",{className:u(e.header,A.header)},t.createElement(ge,{variant:"h2",__disableActionsWrapping:!0,actions:t.createElement("div",Object.assign({},I({action:"dismiss"})),t.createElement(ye,{ariaLabel:K,className:e["dismiss-control"],variant:"modal-dismiss",iconName:"close",formAction:"none",onClick:ee}))},t.createElement("span",{ref:x,id:P,className:e["header--text"]},l))),t.createElement("div",Object.assign({ref:H},W,{className:u(e.content,{[e["no-paddings"]]:b})}),p,t.createElement("div",{ref:oe})),_&&t.createElement(Re.Provider,{value:{onClick:v}},t.createElement("div",{ref:ae,className:u(e.footer,ne&&e["footer--stuck"])},_)))))))))}export{Ae as I,Le as a,e as s};

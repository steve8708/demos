import{j as u}from"./jsx-runtime-BWtseb7k.js";import{be as C,bf as L,bg as V,r as _,bT as P,p as m,B as E}from"./index-DWytQeHI.js";function I(c,t){c.displayName=t}const A="code-view",b="3.0.0 (79584ab1)",K="open-source-visual-refresh",B=(c,t)=>c;function G(c,t){const n=B(K);C(c,{packageSource:A,packageVersion:b,theme:n},t)}V(A,b);function N(c,t){return G(c,t),{__internalRootRef:L(c,b)}}function H(c){const t={};return Object.keys(c).forEach(n=>{n.startsWith("data-")&&(t[n]=c[n])}),t}const k={root:"awsui_root_1pkji_102dw_5","scroll-container":"awsui_scroll-container_1pkji_102dw_17","code-table":"awsui_code-table_1pkji_102dw_21","code-table-with-actions":"awsui_code-table-with-actions_1pkji_102dw_28","code-table-with-line-wrapping":"awsui_code-table-with-line-wrapping_1pkji_102dw_33","line-number":"awsui_line-number_1pkji_102dw_37",unselectable:"awsui_unselectable_1pkji_102dw_53","code-line":"awsui_code-line_1pkji_102dw_58","code-line-wrap":"awsui_code-line-wrap_1pkji_102dw_62","code-line-nowrap":"awsui_code-line-nowrap_1pkji_102dw_66",actions:"awsui_actions_1pkji_102dw_70"},j={light:"ace-cloud_editor",dark:"ace-cloud_editor_dark"},U=c=>{const t=c.split(`
`);return u.jsx("span",{children:t.map((n,e)=>u.jsxs("span",{children:[n,`
`]},e))})};function F({content:c,actions:t,lineNumbers:n,wrapLines:e,highlight:s,ariaLabel:r,ariaLabelledby:f,__internalRootRef:a=null,...i}){const l=H(i),o=_.useRef(null),p=P(o)==="dark",h=r||f?{role:"region"}:{},d=s?s(c):U(c),v=_.createElement(_.Fragment,null,d),g=_.Children.only(v.props.children);return u.jsxs("div",{className:m(p?j.dark:j.light,k.root),...h,...l,"aria-label":r,"aria-labelledby":f,dir:"ltr",ref:a,children:[u.jsx("div",{className:k["scroll-container"],ref:o,children:u.jsxs("table",{role:"presentation",className:m(k["code-table"],t&&k["code-table-with-actions"],e&&k["code-table-with-line-wrapping"]),children:[u.jsxs("colgroup",{children:[u.jsx("col",{style:{width:1}}),u.jsx("col",{style:{width:"auto"}})]}),u.jsx("tbody",{children:_.Children.map(g.props.children,(x,w)=>u.jsxs("tr",{children:[n&&u.jsx("td",{className:m(k["line-number"],k.unselectable),"aria-hidden":!0,children:u.jsx(E,{variant:"code",color:"text-status-inactive",fontSize:"body-m",children:w+1})}),u.jsx("td",{className:k["code-line"],children:u.jsx(E,{variant:"code",fontSize:"body-m",children:u.jsx("span",{className:m(g.props.className,e?k["code-line-wrap"]:k["code-line-nowrap"]),children:x})})})]},w))})]})}),t&&u.jsx("div",{className:k.actions,children:t})]})}function W(c){const t=N("CodeView",{props:{lineNumbers:c.lineNumbers,wrapLines:c.wrapLines},metadata:{hasActions:!!c.actions}});return u.jsx(F,{...c,...t})}I(W,"CodeView");var D={};(function(c){c.inherits=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},c.mixin=function(t,n){for(var e in n)t[e]=n[e];return t},c.implement=function(t,n){c.mixin(t,n)}})(D);var X={},M={};M.deepCopy=function c(t){if(typeof t!="object"||!t)return t;var n;if(Array.isArray(t)){n=[];for(let e=0;e<t.length;e++)n[e]=c(t[e]);return n}if(Object.prototype.toString.call(t)!=="[object Object]")return t;n={};for(let e in t)n[e]=c(t[e]);return n};const J=M.deepCopy;var T;T=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(n,e){if(!e){for(var s in n)this.$rules[s]=n[s];return}for(var s in n){for(var r=n[s],f=0;f<r.length;f++){var a=r[f];(a.next||a.onMatch)&&(typeof a.next=="string"&&a.next.indexOf(e)!==0&&(a.next=e+a.next),a.nextState&&a.nextState.indexOf(e)!==0&&(a.nextState=e+a.nextState))}this.$rules[e+s]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(n,e,s,r,f){var a=typeof n=="function"?new n().getRules():n;if(r)for(var i=0;i<r.length;i++)r[i]=e+r[i];else{r=[];for(var l in a)r.push(e+l)}if(this.addRules(a,e),s)for(var o=Array.prototype[f?"push":"unshift"],i=0;i<r.length;i++)o.apply(this.$rules[r[i]],J(s));this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var c=function(n,e){return(n!="start"||e.length)&&e.unshift(this.nextState,n),this.nextState},t=function(n,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var n=0,e=this.$rules;function s(r){var f=e[r];f.processed=!0;for(var a=0;a<f.length;a++){var i=f[a],l=null;Array.isArray(i)&&(l=i,i={}),!i.regex&&i.start&&(i.regex=i.start,i.next||(i.next=[]),i.next.push({defaultToken:i.token},{token:i.token+".end",regex:i.end||i.start,next:"pop"}),i.token=i.token+".start",i.push=!0);var o=i.next||i.push;if(o&&Array.isArray(o)){var p=i.stateName;p||(p=i.token,typeof p!="string"&&(p=p[0]||""),e[p]&&(p+=n++)),e[p]=o,i.next=p,s(p)}else o=="pop"&&(i.next=t);if(i.push&&(i.nextState=i.next||i.push,i.next=c,delete i.push),i.rules)for(var h in i.rules)e[h]?e[h].push&&e[h].push.apply(e[h],i.rules[h]):e[h]=i.rules[h];var d=typeof i=="string"?i:i.include;if(d&&(d==="$self"&&(d="start"),Array.isArray(d)?l=d.map(function(g){return e[g]}):l=e[d]),l){var v=[a,1].concat(l);i.noEscape&&(v=v.filter(function(g){return!g.next})),f.splice.apply(f,v),a--}i.keywordMap&&(i.token=this.createKeywordMapper(i.keywordMap,i.defaultToken||"text",i.caseInsensitive),delete i.defaultToken)}}Object.keys(e).forEach(s,this)},this.createKeywordMapper=function(n,e,s,r){var f=Object.create(null);return this.$keywordList=[],Object.keys(n).forEach(function(a){for(var i=n[a],l=i.split(r||"|"),o=l.length;o--;){var p=l[o];this.$keywordList.push(p),s&&(p=p.toLowerCase()),f[p]=a}},this),n=null,s?function(a){return f[a.toLowerCase()]||e}:function(a){return f[a]||e}},this.getKeywords=function(){return this.$keywords}}).call(T.prototype);X.TextHighlightRules=T;var R={},S={};S.reportError=function(t,n){var e=new Error(t);e.data=n,typeof console=="object"&&console.error&&console.error(e),setTimeout(function(){throw e})};const Q=S.reportError;var $=2e3;let z=class{constructor(t){this.splitRegex,this.states=t,this.regExps={},this.matchMappings={};for(var n in this.states){for(var e=this.states[n],s=[],r=0,f=this.matchMappings[n]={defaultToken:"text"},a="g",i=[],l=0;l<e.length;l++){var o=e[l];if(o.defaultToken&&(f.defaultToken=o.defaultToken),o.caseInsensitive&&a.indexOf("i")===-1&&(a+="i"),o.unicode&&a.indexOf("u")===-1&&(a+="u"),o.regex!=null){o.regex instanceof RegExp&&(o.regex=o.regex.toString().slice(1,-1));var p=o.regex,h=new RegExp("(?:("+p+")|(.))").exec("a").length-2;Array.isArray(o.token)?o.token.length==1||h==1?o.token=o.token[0]:h-1!=o.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:o,groupCount:h-1}),o.token=o.token[0]):(o.tokenArray=o.token,o.token=null,o.onMatch=this.$arrayTokens):typeof o.token=="function"&&!o.onMatch&&(h>1?o.onMatch=this.$applyToken:o.onMatch=o.token),h>1&&(/\\\d/.test(o.regex)?p=o.regex.replace(/\\([0-9]+)/g,function(d,v){return"\\"+(parseInt(v,10)+r+1)}):(h=1,p=this.removeCapturingGroups(o.regex)),!o.splitRegex&&typeof o.token!="string"&&i.push(o)),f[r]=l,r+=h,s.push(p),o.onMatch||(o.onMatch=null)}}s.length||(f[0]=0,s.push("$")),i.forEach(function(d){d.splitRegex=this.createSplitterRegexp(d.regex,a)},this),this.regExps[n]=new RegExp("("+s.join(")|(")+")|($)",a)}}$setMaxTokenCount(t){$=t|0}$applyToken(t){var n=this.splitRegex.exec(t).slice(1),e=this.token.apply(this,n);if(typeof e=="string")return[{type:e,value:t}];for(var s=[],r=0,f=e.length;r<f;r++)n[r]&&(s[s.length]={type:e[r],value:n[r]});return s}$arrayTokens(t){if(!t)return[];var n=this.splitRegex.exec(t);if(!n)return"text";for(var e=[],s=this.tokenArray,r=0,f=s.length;r<f;r++)n[r+1]&&(e[e.length]={type:s[r],value:n[r+1]});return e}removeCapturingGroups(t){var n=t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(e,s){return s?"(?:":e});return n}createSplitterRegexp(t,n){if(t.indexOf("(?=")!=-1){var e=0,s=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(f,a,i,l,o,p){return s?s=o!="]":o?s=!0:l?(e==r.stack&&(r.end=p+1,r.stack=-1),e--):i&&(e++,i.length!=1&&(r.stack=e,r.start=p)),f}),r.end!=null&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return t.charAt(0)!="^"&&(t="^"+t),t.charAt(t.length-1)!="$"&&(t+="$"),new RegExp(t,(n||"").replace("g",""))}getLineTokens(t,n){if(n&&typeof n!="string"){var e=n.slice(0);n=e[0],n==="#tmp"&&(e.shift(),n=e.shift())}else var e=[];var s=n||"start",r=this.states[s];r||(s="start",r=this.states[s]);var f=this.matchMappings[s],a=this.regExps[s];a.lastIndex=0;for(var i,l=[],o=0,p=0,h={type:null,value:""};i=a.exec(t);){var d=f.defaultToken,v=null,g=i[0],x=a.lastIndex;if(x-g.length>o){var w=t.substring(o,x-g.length);h.type==d?h.value+=w:(h.type&&l.push(h),h={type:d,value:w})}for(var y=0;y<i.length-2;y++)if(i[y+1]!==void 0){v=r[f[y]],v.onMatch?d=v.onMatch(g,s,e,t):d=v.token,v.next&&(typeof v.next=="string"?s=v.next:s=v.next(s,e),r=this.states[s],r||(this.reportError("state doesn't exist",s),s="start",r=this.states[s]),f=this.matchMappings[s],o=x,a=this.regExps[s],a.lastIndex=x),v.consumeLineEnd&&(o=x);break}if(g){if(typeof d=="string")(!v||v.merge!==!1)&&h.type===d?h.value+=g:(h.type&&l.push(h),h={type:d,value:g});else if(d){h.type&&l.push(h),h={type:null,value:""};for(var y=0;y<d.length;y++)l.push(d[y])}}if(o==t.length)break;if(o=x,p++>$){for(p>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:n,line:t});o<t.length;)h.type&&l.push(h),h={value:t.substring(o,o+=500),type:"overflow"};s="start",e=[];break}}return h.type&&l.push(h),e.length>1&&e[0]!==s&&e.unshift("#tmp",s),{tokens:l,state:e.length?e:s}}};z.prototype.reportError=Q;R.Tokenizer=z;var O={};const Y=new Set(["text","rparen","lparen"]);O.isTextToken=function(c){return Y.has(c)};const{Tokenizer:Z}=R,q=O.isTextToken;class ee{constructor(t,n){this._lines=t.split(/\r\n|\r|\n/),this._states=[],this._tokenizer=n}getTokens(t){const n=this._lines[t],e=this._states[t-1],s=this._tokenizer.getLineTokens(n,e);return this._states[t]=s.state,s.tokens}getLength(){return this._lines.length}}function te(c,t){const n=new ee(c,new Z(t.getRules()));let e=[];for(let s=0;s<n.getLength();s++){const r=n.getTokens(s);e.push(r.map(f=>({className:q(f.type)?void 0:"ace_"+f.type.replace(/\./g," ace_"),value:f.value})))}return e}var ne={tokenize:te};function oe(c){return t=>{const n=ne.tokenize(t,c);return u.jsx("span",{children:n.map((e,s)=>u.jsxs(_.Fragment,{children:[e.map((r,f)=>r.className?u.jsx("span",{className:r==null?void 0:r.className,children:r.value},f):r.value),`
`]},s))})}}export{W as C,oe as c,D as o,X as t};

import{R as i,_ as L,n as T,r,Y as D,o as C,m as P,J,ay as M,w as V,U as Y,p,az as G,aA as H,O as K}from"./index-DWytQeHI.js";import{c as Q}from"./index-CRLKZ1Ah.js";const n={root:"awsui_root_1wp4s_vzb5h_185","file-input":"awsui_file-input_1wp4s_vzb5h_186",hidden:"awsui_hidden_1wp4s_vzb5h_190","file-input-button":"awsui_file-input-button_1wp4s_vzb5h_196","force-focus-outline-icon":"awsui_force-focus-outline-icon_1wp4s_vzb5h_196","force-focus-outline-button":"awsui_force-focus-outline-button_1wp4s_vzb5h_217"},Z=i.forwardRef((b,g)=>{var l,{accept:F,ariaRequired:N,ariaLabel:u,multiple:y=!1,value:c,onChange:_,variant:a="button",children:d,__internalRootRef:x=null,__inputClassName:A,__inputNativeAttributes:z}=b,v=L(b,["accept","ariaRequired","ariaLabel","multiple","value","onChange","variant","children","__internalRootRef","__inputClassName","__inputNativeAttributes"]);const m=T(v),t=r.useRef(null),w=r.useRef(null),E=D(x,w),I=C("upload-button-label"),s=P(v),B=C("upload-input"),O=(l=s.controlId)!==null&&l!==void 0?l:B;J(g,t);const[h,R]=r.useState(!1),S=()=>{var e;return(e=t.current)===null||e===void 0?void 0:e.click()},U=()=>{var e,o;R(!0),(o=(e=w.current)===null||e===void 0?void 0:e.scrollIntoView)===null||o===void 0||o.call(e)},q=()=>R(!1),j=({target:e})=>{K(_,{value:e.files?Array.from(e.files):[]})};Q("FileInput","value",c,"onChange",_);const f=Object.assign({"aria-label":u||d,"aria-labelledby":M(s.ariaLabelledby,I),"aria-describedby":s.ariaDescribedby},z);s.invalid&&(f["aria-invalid"]=!0),N&&(f["aria-required"]=!0),a==="icon"&&!u&&V("FileInput","Aria label is required with icon variant."),r.useEffect(()=>{if(window.DataTransfer){const e=new DataTransfer;for(const o of c)e.items.add(o);t.current.files=e.files}t.current&&(t.current.value="")},[c]);const{tabIndex:k}=Y(t);return i.createElement("div",Object.assign({},m,{ref:E,className:p(m.className,n.root)}),i.createElement("input",Object.assign({id:O,ref:t,type:"file",hidden:!1,multiple:y,accept:F,onChange:j,onFocus:U,onBlur:q,className:p(n["file-input"],n.hidden,A),tabIndex:k},f)),i.createElement(G,{iconName:"upload",variant:a==="icon"?"icon":void 0,formAction:"none",onClick:S,className:p(n["file-input-button"],{[n["force-focus-outline-button"]]:h&&a==="button",[n["force-focus-outline-icon"]]:h&&a==="icon"}),__nativeAttributes:{tabIndex:-1,"aria-hidden":!0}},a==="button"&&d),i.createElement(H,{id:I},u||d))});export{Z as I,n as f};

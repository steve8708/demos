import{r as o,j as s,B as b}from"./index-D7GDf1UU.js";import{A as N}from"./index-Cw_GhccT.js";import{F as y}from"./index-CzmrE8hw.js";import{searchLocations as L,getLocationDisplayName as h}from"./weather-api-ByeOHpV_.js";import"./internal-Ce01wf5s.js";import"./index-DOUzosrE.js";import"./index-C8soZkHE.js";import"./index-CrIdmadX.js";import"./is-development-CxJkH8d1.js";import"./internal-DCHtC1V6.js";function A({onLocationSelect:d,value:u="",loading:f=!1}){const[n,i]=o.useState(u),[c,t]=o.useState([]),[l,m]=o.useState(!1),[r,p]=o.useState(""),g=o.useCallback(async e=>{if(!e.trim()){t([]);return}m(!0),p("");try{const a=await L(e);t(a)}catch(a){p(a instanceof Error?a.message:"Failed to search locations"),t([])}finally{m(!1)}},[]),x=e=>{e.selectedOption.detail&&(d(e.selectedOption.detail),i(h(e.selectedOption.detail)),t([]))},S=c.map(e=>({value:h(e),detail:e,description:e.country}));return s.jsxDEV(y,{label:"Search Location",description:"Search for a city or location to get weather information",errorText:r,children:s.jsxDEV(N,{onChange:({detail:e})=>{i(e.value),g(e.value)},onSelect:({detail:e})=>x(e),value:n,options:S,placeholder:"Enter city name (e.g., London, New York, Tokyo)",empty:n.trim()&&!l&&c.length===0&&!r?s.jsxDEV(b,{textAlign:"center",color:"text-body-secondary",children:"No locations found"},void 0,!1,{fileName:"/app/code/src/pages/weather/components/location-search.tsx",lineNumber:75,columnNumber:13},this):void 0,loadingText:"Searching locations...",statusType:r?"error":l?"loading":"finished",disabled:f,ariaLabel:"Location search",enteredTextLabel:e=>`Search for "${e}"`},void 0,!1,{fileName:"/app/code/src/pages/weather/components/location-search.tsx",lineNumber:64,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather/components/location-search.tsx",lineNumber:59,columnNumber:5},this)}export{A as LocationSearch};

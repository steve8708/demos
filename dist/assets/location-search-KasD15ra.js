import{r as d,j as a,C as f,S as h,ak as g,H as m,B as o,a as v}from"./index-WOunTE3s.js";import{I as E}from"./index-CQhKekc_.js";import{S as n}from"./index-DL1yZozt.js";import{useLocationSearch as D,DEFAULT_LOCATIONS as j}from"./use-weather-data-_TOfoX7T.js";function C({onLocationSelect:p,selectedLocation:r}){const[s,u]=d.useState(""),{locations:b,loading:N,error:c,searchLocations:t,clearLocations:l}=D();d.useEffect(()=>{const e=setTimeout(()=>{s?t(s):l()},300);return()=>clearTimeout(e)},[s,t,l]);const i=s?b:j;return a.jsxDEV(f,{header:a.jsxDEV(m,{variant:"h2",description:"Search for a city or select from popular locations",children:"Location"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:43,columnNumber:9},this),children:a.jsxDEV(h,{size:"m",children:[a.jsxDEV(E,{value:s,onChange:({detail:e})=>u(e.value),placeholder:"Search for a city (e.g., San Francisco, Berlin, Mumbai)",clearAriaLabel:"Clear search",type:"search"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:49,columnNumber:9},this),c&&a.jsxDEV(n,{type:"error",children:c},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:57,columnNumber:19},this),N&&a.jsxDEV(n,{type:"loading",children:"Searching locations..."},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:59,columnNumber:21},this),i.length>0&&a.jsxDEV(g,{ariaLabels:{itemSelectionLabel:(e,x)=>`Select ${x.name}`,selectionGroupLabel:"Location selection"},cardDefinition:{header:e=>a.jsxDEV(o,{variant:"h3",children:[e.name,(r==null?void 0:r.id)===e.id&&a.jsxDEV(o,{display:"inline",margin:{left:"xs"},children:a.jsxDEV(n,{type:"success",children:"Selected"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:73,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:72,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:69,columnNumber:17},this),sections:[{id:"details",content:e=>a.jsxDEV(h,{size:"xs",children:[a.jsxDEV(o,{variant:"small",children:[e.admin1&&`${e.admin1}, `,e.country]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:83,columnNumber:23},this),a.jsxDEV(o,{variant:"small",color:"text-body-secondary",children:[e.latitude.toFixed(4),"°, ",e.longitude.toFixed(4),"°"]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:87,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:82,columnNumber:21},this)},{id:"actions",content:e=>a.jsxDEV(v,{variant:(r==null?void 0:r.id)===e.id?"normal":"primary",onClick:()=>p(e),disabled:(r==null?void 0:r.id)===e.id,children:(r==null?void 0:r.id)===e.id?"Selected":"Select location"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:96,columnNumber:21},this)}]},cardsPerRow:[{cards:1,minWidth:0},{cards:2,minWidth:600},{cards:3,minWidth:900}],items:i,loadingText:"Loading locations",trackBy:"id",visibleSections:["details","actions"],empty:a.jsxDEV(o,{textAlign:"center",color:"inherit",children:[a.jsxDEV(o,{variant:"strong",textAlign:"center",color:"inherit",children:s?"No locations found":"No popular locations available"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:118,columnNumber:17},this),a.jsxDEV(o,{variant:"p",padding:{bottom:"s"},color:"inherit",children:s?"Try a different search term or check your spelling":"Try searching for a specific city name"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:117,columnNumber:15},this),header:a.jsxDEV(m,{counter:`(${i.length})`,description:s?"Search results":"Popular locations",children:s?"Found locations":"Quick select"},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:129,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/src/pages/weather-dashboard/components/location-search.tsx",lineNumber:41,columnNumber:5},this)}export{C as LocationSearch};
